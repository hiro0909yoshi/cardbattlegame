# アイテム実装進捗 - 2025年11月1日

## 実装済みアイテム（35個 / 75個 = 46.7%）

### 最新実装（2025年11月1日セッション2）

#### 手札数ボーナス（1個）
- 1055: フォースアンクレット (HP+自手札数×10)

### 最新実装（2025年11月1日セッション1）

#### ランダムステータス（2個）
- 1027: スペクターローブ (ST&HP+10~70 - 別々にランダム)
- 1057: プリズムワンド (敵と属性が違う場合、ST&HP+40)

### セッション1: 基本ステータス増減 + 先制付与（18個）

#### 基本ステータス増減（11個）
- 1001: アーメット (ST-10；HP+40)
- 1008: カタパルト (ST+30；HP+30)
- 1009: クレイモア (ST+50)
- 1018: スケールアーマー (HP+40)
- 1020: ストームコーザー (ST+60；HP-30)
- 1033: チェインメイル (HP+30)
- 1040: トライデント (ST+40；HP+20)
- 1053: バトルアックス (ST+40)
- 1058: プレートメイル (HP+50)
- 1070: メイス (ST+20)
- 1073: ロングソード (ST+30)

#### 先制付与（2個）
- 1003: イーグルレイピア (ST+30；先制)
- 1028: スリング (ST&HP+10；先制)

#### 条件付きスキル付与（5個）
- 1060: ボーパルソード (ST+30；強打[MHP40以上])
- 1062: マグマハンマー (ST+20；火使用時、強打)

### セッション2: 後手付与 + 条件付きスキル（3個）

#### 後手付与（1個）
- 1032: ダイヤアーマー (ST-30；HP+60；後手)

#### 条件付きスキル付与（2個）
- 1022: ストームスピア (ST+20；水風使用時、強打)
- 1042: ドリルランス (ST+20；貫通)

### セッション3: 動的ステータス計算（5個）
- 1014: シェイドクロー (ST+敵と同属性の配置数×10)
- 1023: ストームハルバード (ST+水風配置数×5；強打[火地])
- 1064: マグマフレイル (ST+火地配置数×5；強打[水風])

### セッション4: その他実装済み（6個）
- 1025: スパイクシールド (反射[1/2])
- 1026: スフィアシールド (ST=0；無効化[通常攻撃])
- 1043: トンファ (2回攻撃)
- 1051: バタリングラム (ST+30；即死[防御型])
- 1052: バックラー (無効化[ST30以下])
- 1068: ムラサメ (ST+20；敵の攻撃無効化・反射無効)

## 実装済みスキル

### 先制・後手
- `grant_first_strike`: アイテムで先制付与
- `grant_last_strike`: アイテムで後手付与

### スキル付与
- `grant_skill`: 条件付きでスキル付与
- 対応スキル: 強打、貫通、2回攻撃、無効化、反射、即死

### 条件タイプ
- `enemy_max_hp_check`: 敵のMHP条件（operator + value形式）
- `user_element`: 使用者の属性条件（elements配列）
- `enemy_is_element`: 敵の属性条件

### 新規効果タイプ

#### random_stat_bonus（2025年11月1日追加）
```json
{
  "effect_type": "random_stat_bonus",
  "st_range": {"min": 10, "max": 70},
  "hp_range": {"min": 10, "max": 70}
}
```
- STとHPは別々にランダム生成
- `randi() % int(max - min + 1) + min`を使用

#### element_mismatch_bonus（2025年11月1日追加）
```json
{
  "effect_type": "element_mismatch_bonus",
  "stat_bonus": {
    "st": 40,
    "hp": 40
  }
}
```
- 使用者と敵の属性が異なる場合のみ適用
- 無属性同士の場合はボーナスなし（属性一致と見なす）

#### hand_count_multiplier（2025年11月1日追加）
```json
{
  "effect_type": "hand_count_multiplier",
  "stat": "hp",
  "multiplier": 10
}
```
- 手札数に応じて動的にボーナス
- `card_system_ref.get_hand_size_for_player(player_id)`で手札数取得
- リリス（ID: 146）と同じパターン

## 次の実装候補

1. ゴールドハンマー（魔力獲得） - 戦闘後処理
2. ブラックソード（レア度額条件） - 仕様確認必要
3. サキュバスリング（STドレイン） - 仕様確認必要
4. アングリーマスク（カウンターダメージ） - 新システム必要
