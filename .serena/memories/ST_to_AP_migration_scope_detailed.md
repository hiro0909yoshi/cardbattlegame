# ST â†’ AP ç§»è¡Œå½±éŸ¿ç¯„å›²ï¼ˆè©³ç´°æ´—ã„å‡ºã—ï¼‰

**æœ€çµ‚æ›´æ–°**: 2025å¹´11æœˆ13æ—¥

---

## ğŸ“Š å½±éŸ¿ãƒ•ã‚¡ã‚¤ãƒ«åˆ†é¡

### ğŸ”´ Tier 1: ã‚³ã‚¢å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆæœ€å„ªå…ˆä¿®æ­£ï¼‰

#### 1. `scripts/battle/battle_special_effects.gd`
**ä¿®æ­£å¯¾è±¡**:
- L135: ã‚³ãƒ¡ãƒ³ãƒˆã€ŒSTä»¥ä¸‹ç„¡åŠ¹åŒ–åˆ¤å®šã€â†’ã€ŒAPä»¥ä¸‹ç„¡åŠ¹åŒ–åˆ¤å®šã€
- L138: ã‚³ãƒ¡ãƒ³ãƒˆã€ŒåŸºç¤ST = base_ap + base_up_apã€
- L141: å¤‰æ•°å `attacker_base_st` â†’ `attacker_base_ap`ï¼ˆè¤‡æ•°ç®‡æ‰€ï¼‰
- L144: ã‚³ãƒ¡ãƒ³ãƒˆã€ŒSTä»¥ä¸Šç„¡åŠ¹åŒ–åˆ¤å®šã€â†’ã€ŒAPä»¥ä¸Šç„¡åŠ¹åŒ–åˆ¤å®šã€
- L147: ã‚³ãƒ¡ãƒ³ãƒˆã€ŒåŸºç¤ST = base_ap + base_up_apã€
- L150: å¤‰æ•°å `attacker_base_st` â†’ `attacker_base_ap`ï¼ˆè¤‡æ•°ç®‡æ‰€ï¼‰
- L159-174: ã€Œæ”»æ’ƒè€…STãŒè£…å‚™è€…ã‚ˆã‚Šå¤§ãã„å ´åˆã€â†’ã€Œæ”»æ’ƒè€…APãŒè£…å‚™è€…ã‚ˆã‚Šå¤§ãã„å ´åˆã€
  - `attacker_base_ap`, `defender_base_st` ãªã©
- L270, 273: `defender_base_st` â†’ `defender_base_ap`
- L282, 285: printæ–‡ã®ã‚³ãƒ¡ãƒ³ãƒˆã€Œé˜²å¾¡å´STã€â†’ã€Œé˜²å¾¡å´APã€

#### 2. `scripts/skills/condition_checker.gd`
**ä¿®æ­£å¯¾è±¡**:
- L179-196: `enemy_st` â†’ `enemy_ap`ï¼ˆè¤‡æ•°ç®‡æ‰€ï¼‰
  - st_above, st_below, enemy_st_check ã‚±ãƒ¼ã‚¹

#### 3. `scripts/battle/battle_skill_processor.gd`
**ä¿®æ­£å¯¾è±¡**:
- L299: printã€ŒST+ã€â†’ã‚³ãƒ¡ãƒ³ãƒˆç¢ºèª
- L349: printã€ŒST+ã€â†’ã‚³ãƒ¡ãƒ³ãƒˆç¢ºèª
- L382, 405: printã€ŒST+ã€â†’ã‚³ãƒ¡ãƒ³ãƒˆç¢ºèª
- L458: printã€ŒST+ã€
- L476-484: 
  - `base_st_to_hp` â†’ `base_ap_to_hp` ã«å¤‰æ›´æ¤œè¨
  - `base_st` â†’ `base_ap`
  - `base_up_st` â†’ `base_up_ap`
  - `total_base_st` â†’ `total_base_ap`
- L520: printã€ŒST+ã€
- L544: printã€ŒST=ã€
- L696: printã€ŒST+ã€
- L728: printã€ŒST=ã€

#### 4. `scripts/battle/skills/skill_scroll_attack.gd`
**ä¿®æ­£å¯¾è±¡**:
- L100: ã‚³ãƒ¡ãƒ³ãƒˆã€Œãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯åŸºç¤STã€â†’ã€Œãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯åŸºç¤APã€
- L101: ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆé€šå¸¸ã®ã¿ï¼‰

#### 5. `scripts/battle/skills/skill_penetration.gd`
**ä¿®æ­£å¯¾è±¡**:
- L16-17: ã‚³ãƒ¡ãƒ³ãƒˆã€Œæ”»æ’ƒå´STã€â†’ã€Œæ”»æ’ƒå´APã€ã€ã€Œé˜²å¾¡å´STã€â†’ã€Œé˜²å¾¡å´APã€
- L73-74: åŒä¸Š
- L124-158: printã€ŒSTã€â†’ã€ŒAPã€ã¸ã®å¤‰æ›´

---

### ğŸŸ  Tier 2: ã‚¹ã‚­ãƒ«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆé«˜å„ªå…ˆä¿®æ­£ï¼‰

#### 1. `docs/design/skills/nullify_skill.md`
**ä¿®æ­£å¯¾è±¡**:
- ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€Œ3. STæ¡ä»¶ï¼ˆst_belowï¼‰ã€â†’ã€Œ3. APæ¡ä»¶ï¼ˆap_belowï¼‰ã€
- L151: ã€Œæ”»æ’ƒå´ã®åŸºæœ¬STã‚’æ¡ä»¶ã«ç„¡åŠ¹åŒ–ã€â†’ã€Œæ”»æ’ƒå´ã®åŸºæœ¬APã‚’æ¡ä»¶ã«ç„¡åŠ¹åŒ–ã€
- L160: `"st_below"` â†’ `"ap_below"`
- L161: ã‚³ãƒ¡ãƒ³ãƒˆã€ŒST40ä»¥ä¸‹ã€â†’ã€ŒAP40ä»¥ä¸‹ã€
- L166, 298: ã€Œç„¡åŠ¹åŒ–[ST40ä»¥ä¸‹]ã€â†’ã€Œç„¡åŠ¹åŒ–[AP40ä»¥ä¸‹]ã€
- L329: çµ±è¨ˆã€ŒSTæ¡ä»¶ã€ã€â†’ã€ŒAPæ¡ä»¶ã€ã€

#### 2. `docs/design/skills/instant_death_skill.md`
**ä¿®æ­£å¯¾è±¡**:
- L126: ã€ŒåŸºæœ¬STãŒ50ä»¥ä¸Šã€â†’ã€ŒåŸºæœ¬APãŒ50ä»¥ä¸Šã€
- L173: ã€ŒåŸºç¤STã§æ¡ä»¶åˆ¤å®šã€â†’ã€ŒåŸºç¤APã§æ¡ä»¶åˆ¤å®šã€ï¼ˆ2ç®‡æ‰€ï¼‰

#### 3. `docs/design/skills/power_strike_skill.md`
**ä¿®æ­£å¯¾è±¡**:
- L175: `"ST+20"` â†’ `"AP+20"`

#### 4. `docs/design/skills/penetration_skill.md`
**ä¿®æ­£å¯¾è±¡**:
- L16-17: ã‚³ãƒ¡ãƒ³ãƒˆã€ŒSTã€â†’ã€ŒAPã€
- L73-74: åŒä¸Š
- L124, 136, 139, 143, 155, 158: printã€ŒSTã€â†’ã€ŒAPã€

#### 5. `docs/design/skills/support_skill.md`
**ä¿®æ­£å¯¾è±¡**:
- L52-59: ã™ã¹ã¦ã€ŒST+ã€â†’ã€ŒAP+ã€
- L66-67: ã‚³ãƒ¡ãƒ³ãƒˆã€ŒST +NÃ—10ã€â†’ã€ŒAP +NÃ—10ã€
- L195: ä¾‹ã€ŒST+30ã€â†’ã€ŒAP+30ã€
- L261-296: è¤‡æ•°ä¾‹ã®ã€ŒSTã€â†’ã€ŒAPã€

#### 6. `docs/design/skills/resonance_skill.md`
**ä¿®æ­£å¯¾è±¡**:
- L54: ã€Œãƒ‘ã‚¿ãƒ¼ãƒ³2: ST+Xã€HP+Yã€â†’ã€Œãƒ‘ã‚¿ãƒ¼ãƒ³2: AP+Xã€HP+Yã€
- L79-86: ã™ã¹ã¦ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ä¾‹ã€ŒST+ã€â†’ã€ŒAP+ã€

---

### ğŸŸ¡ Tier 3: ãã®ä»–è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆä¸­å„ªå…ˆï¼‰

#### 1. `docs/design/condition_patterns_catalog.md`
**ä¿®æ­£å¯¾è±¡**:
- L42: ã€Œ3-5. åŸºç¤STã®å–å¾—ã¨ä½¿ç”¨ã€â†’ã€Œ3-5. åŸºç¤APã®å–å¾—ã¨ä½¿ç”¨ã€
- L152, 214, 231, 233-234: ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ä¾‹ã€ŒST+ã€â†’ã€ŒAP+ã€
- L375, 404, 498-522: è¤‡æ•°ç®‡æ‰€ã®ã€ŒSTã€â†’ã€ŒAPã€ã¸ã®ç½®æ›
- L762, 777-792, 804, 886, 897, 1010: è¤‡æ•°ç®‡æ‰€

#### 2. `docs/design/item_system.md`
**ä¿®æ­£å¯¾è±¡**:
- L11-94: ã‚¢ã‚¤ãƒ†ãƒ èª¬æ˜ã®ã€ŒST+ã€â†’ã€ŒAP+ã€ï¼ˆç´„40ç®‡æ‰€ä»¥ä¸Šï¼‰
- L283, 296: ã‚³ãƒ¡ãƒ³ãƒˆå†…ã®ã€ŒSTã€

#### 3. `docs/design/turn_number_system.md`
**ä¿®æ­£å¯¾è±¡**:
- L64: ã€ŒST: åŸºæœ¬ST(60)ã€â†’ã€ŒAP: åŸºæœ¬AP(60)ã€
- L83-167: ãƒ†ãƒ¼ãƒ–ãƒ«ã¨ãƒ†ã‚¹ãƒˆä¾‹ã®ã€ŒSTã€â†’ã€ŒAPã€

#### 4. `docs/design/spells/ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¢—æ¸›.md`
**ä¿®æ­£å¯¾è±¡**:
- L9, 446-447: ã€ŒST/HPã€â†’ã€ŒAP/HPã€

#### 5. `docs/design/spells/é­”åŠ›å¢—æ¸›.md`
**ä¿®æ­£å¯¾è±¡**:
- L158: ã€ŒST+40ã€â†’ã€ŒAP+40ã€

#### 6. `docs/design/lap_system.md`
**ä¿®æ­£å¯¾è±¡**:
- L61: ã€ŒST+10ã€â†’ã€ŒAP+10ã€

#### 7. `docs/design/map_system.md`
**ä¿®æ­£å¯¾è±¡**:
- L103: ã€ŒST+10ã€â†’ã€ŒAP+10ã€

#### 8. `docs/design/hp_structure.md`
**ä¿®æ­£å¯¾è±¡**:
- L344, 386: ã‚­ãƒ¡ãƒ©ã®ã€ŒSTã€â†’ã€ŒAPã€

---

### ğŸŸ¢ Tier 4: JSONãƒ‡ãƒ¼ã‚¿ï¼ˆä½å„ªå…ˆã ãŒå¿…è¦ï¼‰

#### 1. `data/item.json`
**ä¿®æ­£å¯¾è±¡**:
- L1201: `"nullify_type": "st_below"` â†’ `"nullify_type": "ap_below"`
- L1652: `"use_base_st": true` â†’ `"use_base_ap": true`ï¼ˆè¦ç¢ºèªï¼‰

#### 2. `data/water_1.json`
**ä¿®æ­£å¯¾è±¡**:
- L659: `"nullify_type": "st_below"` â†’ `"nullify_type": "ap_below"`

#### 3. `data/fire_2.json`
**ä¿®æ­£å¯¾è±¡**:
- L786: `"effect_type": "base_st_to_hp"` â†’ `"effect_type": "base_ap_to_hp"`

---

### ğŸ”µ Tier 5: ãƒ¡ãƒ¢ãƒªãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆå‚è€ƒæƒ…å ±ã®ã¿ï¼‰

- `.serena/memories/coding_standards_and_architecture.md`: ã€ŒMHP/ST Calculation Standardsã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³å…¨ä½“
- `.serena/memories/project_overview.md`: ã‚³ãƒ¡ãƒ³ãƒˆå†…ã®STè¨˜è¼‰

---

## ğŸ“ˆ ä¿®æ­£çµ±è¨ˆ

| Tier | ãƒ•ã‚¡ã‚¤ãƒ«æ•° | å½±éŸ¿ç®‡æ‰€ | å„ªå…ˆåº¦ |
|------|----------|--------|--------|
| 1 | 5 | ç´„50ç®‡æ‰€ | ğŸ”´ æœ€é«˜ |
| 2 | 6 | ç´„80ç®‡æ‰€ | ğŸŸ  é«˜ |
| 3 | 8 | ç´„120ç®‡æ‰€ | ğŸŸ¡ ä¸­ |
| 4 | 3 | ç´„5ç®‡æ‰€ | ğŸŸ¢ ä½ |
| 5 | 2 | å‚è€ƒã®ã¿ | ğŸ”µ - |
| **åˆè¨ˆ** | **24** | **255+ç®‡æ‰€** | - |

---

## ğŸ¯ æ¨å¥¨ä¿®æ­£é †åº

1. **Phase 1**: Tier 1 å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ5ãƒ•ã‚¡ã‚¤ãƒ«ã€50ç®‡æ‰€ï¼‰
   - ã‚³ã‚¢æ©Ÿèƒ½ã¸ã®å½±éŸ¿ãŒæœ€å¤§
   - ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå¯èƒ½
   
2. **Phase 2**: Tier 2 ã‚¹ã‚­ãƒ«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ6ãƒ•ã‚¡ã‚¤ãƒ«ã€80ç®‡æ‰€ï¼‰
   - è¨­è¨ˆã®ä¸€è²«æ€§ç¢ºä¿
   
3. **Phase 3**: Tier 3 ãã®ä»–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ8ãƒ•ã‚¡ã‚¤ãƒ«ã€120ç®‡æ‰€ï¼‰
   - å®Œå…¨æ€§ç¢ºä¿
   
4. **Phase 4**: Tier 4 JSONãƒ‡ãƒ¼ã‚¿ï¼ˆ3ãƒ•ã‚¡ã‚¤ãƒ«ã€5ç®‡æ‰€ï¼‰
   - ãƒ‡ãƒ¼ã‚¿ã®ä¸€è²«æ€§

---

## âš ï¸ é‡è¦ãªæ³¨æ„ç‚¹

### ä¿®æ­£å†…å®¹ã®åˆ†é¡

1. **å¤‰æ•°å/å®šæ•°**: `st_below` â†’ `ap_below`, `base_st` â†’ `base_ap`
2. **ã‚³ãƒ¡ãƒ³ãƒˆ**: ã€ŒSTã€â†’ã€ŒAPã€
3. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ä»•æ§˜ã€ŒST+ã€â†’ã€ŒAP+ã€
4. **JSON**: ã‚­ãƒ¼åã®ä¿®æ­£

### æ½œåœ¨çš„ãªãƒªã‚¹ã‚¯

- **ã‚³ãƒ¼ãƒ‰å®Ÿè£…å¾Œã®å‹•ä½œç¢ºèªãŒå¿…é ˆ**ï¼ˆç‰¹ã«Tier 1ï¼‰
- **JSONã‚­ãƒ¼ã®å¤‰æ›´ã¯ãƒ‡ãƒ¼ã‚¿äº’æ›æ€§ã«æ³¨æ„**
- **ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ã§ã®æ¤œè¨¼æ¨å¥¨**

---

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] Tier 1 å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ä¿®æ­£ Ã— 5
- [ ] Tier 2 ã‚¹ã‚­ãƒ«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¿®æ­£ Ã— 6
- [ ] Tier 3 ãã®ä»–ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¿®æ­£ Ã— 8
- [ ] Tier 4 JSONãƒ•ã‚¡ã‚¤ãƒ«ä¿®æ­£ Ã— 3
- [ ] ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒ†ã‚¹ãƒˆå®Ÿæ–½
- [ ] æˆ¦é—˜ãƒ†ã‚¹ãƒˆå®Ÿæ–½
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå®Œå…¨æ€§ç¢ºèª

