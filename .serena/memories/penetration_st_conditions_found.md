# 貫通スキルのST条件チェック追加発見

**最終更新**: 2025年11月13日

---

## 🎯 貫通スキルのST条件

### 発見クリーチャー

#### 1. ID 36: ピュトン（fire_2.json）
**能力**: 貫通[敵AP40以上]；侵略時、魔力獲得[G100]

**JSON条件**:
```json
"貫通": {
  "condition_type": "defender_st_check",
  "operator": ">=",
  "value": 40
}
```

**修正内容**:
- `"condition_type": "defender_st_check"` → `"defender_ap_check"`

**テスト項目**:
- 防御側AP40以上の時、土地ボーナスが無効化されるか
- 防御側AP39以下の時、土地ボーナスが有効のままか
- 侵略成功時、魔力獲得[G100]が正常に適用されるか

---

## 📋 既知の貫通スキル一覧

| ID | 名前 | 貫通条件 | 条件タイプ | 修正対象 |
|-----|------|---------|----------|---------|
| **36** | **ピュトン** | 敵AP40以上 | defender_st_check | 🔴 要修正 |
| 38 | ファイアドラゴン | 水風属性 | enemy_is_element | ✅ 不要 |
| 427 | トロージャンホース | 条件なし | - | ✅ 不要 |
| 335 | バウダーイーター | 条件なし | - | ✅ 不要 |

---

## 🔍 修正が必要な個所

### skill_penetration.gd
既に以下の修正が必要：
- L16-17: コメント「攻撃側ST」→「攻撃側AP」
- L73-74: コメント「防御側ST」→「防御側AP」
- L124-158: `attacker_st_check` や `defender_st_check` の処理

**追加修正**:
- `defender_st_check` が使用されている場合、`defender_ap_check` への変更確認

### condition_checker.gd
- `defender_st_check` ケースを確認し、`defender_ap_check` への対応

---

## ✅ テストチェックリスト

- [ ] ピュトン（ID 36）- 貫通[敵AP40以上]動作確認
  - [ ] AP40以上の敵に対して土地ボーナス無効化
  - [ ] AP39以下では土地ボーナス有効
  - [ ] 侵略成功時に魔力獲得[G100]

