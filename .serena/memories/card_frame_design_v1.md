# Card Frame Design - Version 1.2 (Final)

## 完成日
2025-11-06 (最終更新)

## デザイン概要
装飾的な角丸カードフレーム。220×293サイズで、宝石風のバッジ（4つ）と古い紙の質感を持つ説明ボックスが特徴。

## ファイル構成
- **シーンファイル**: `scenes/CardFrame.tscn`
- **スクリプト**: `scripts/card_frame.gd`
- **バックアップ**: `backups/CardFrame_backup_20251106.tscn` & `backups/card_frame_backup_20251106.gd`
- **シェーダー**: `assets/shaders/` (4種類のパターン)

## 基本仕様
- **サイズ**: 220 × 293 px（既存カード120×160と同じ比率）
- **角丸**: 2-7px（要素により異なる）
- **カラースキーム**: 黒を基調としたダークテーマ

## レイアウト構成

```
┌─────────────────────────┐
│  [角装飾]  💎[コスト]   │
│           💎[現在HP]    │
│    [カードアート]        │
│                         │
│  💎[攻撃] [名前] [最大HP]💎│
│                         │
│    [説明ボックス]        │
└─────────────────────────┘
```

## 各要素の詳細

### 1. 背景・枠構造
- **Background**: 完全な黒 (0.0, 0.0, 0.0) - 角丸7px
- **OuterFrame**: 濃いグレー (0.1, 0.1, 0.1) + 水色の縁取り(1px) - 角丸6px
- **InnerFrame**: 半透明の暗いグレー (0.2, 0.2, 0.2, 0.5) + 縁取り - 角丸5px
  - シェーダーテクスチャを適用可能
- **角の装飾**: 四隅に小さな装飾パネル + 上部中央にアクセント
- **下部装飾**: 削除済み

### 2. 宝石バッジ（4つ）

#### コストバッジ（青・右上）
- 位置: 右上 (offset: -30.5, 5.1 / -5.1, 30.5)
- サイズ: 25.4 x 25.4 px
- 円のサイズ: 25.4 px直径
- 基本色: 深い青 (0.1, 0.3, 0.6)
- 縁取り: 明るい青 (0.4, 0.7, 1.0) - 2px
- 影: 4px
- 変数: `card_cost`

#### 現在HPバッジ（緑・右上コストの下）
- 位置: 右上 (offset: -30.5, 38.0 / -5.1, 63.4)
- サイズ: 25.4 x 25.4 px
- 円のサイズ: 25.4 px直径
- 基本色: 深い緑 (0.1, 0.6, 0.1)
- 縁取り: 明るい緑 (0.4, 1.0, 0.4) - 2px
- 影: 4px
- 変数: `current_hp`

#### 攻撃バッジ（赤・名前の左）
- 位置: 名前バナー左横 (offset: -101.6, -94.0 / -76.2, -73.7)
- サイズ: 25.4 x 25.4 px
- 円のサイズ: 30.4 px直径
- 基本色: 深い赤 (0.6, 0.1, 0.1)
- 縁取り: 明るい赤 (1.0, 0.4, 0.4) - 2px
- 影: 4px
- 変数: `left_stat`

#### 最大HPバッジ（緑・名前の右）
- 位置: 名前バナー右横 (offset: 76.2, -94.0 / 101.6, -73.7)
- サイズ: 25.4 x 25.4 px
- 円のサイズ: 30.4 px直径
- 基本色: 深い緑 (0.1, 0.6, 0.1)
- 縁取り: 明るい緑 (0.4, 1.0, 0.4) - 2px
- 影: 4px
- 変数: `max_hp` (right_statを使用)

**宝石の4層構造**（すべて共通）:
1. 基本円形パネル: 深い色 + 太い縁取り + 影
2. InnerGlow: 内側の柔らかい光
3. Highlight: 左上の大きな光沢
4. Sparkle: 小さな白いキラキラポイント

### 3. カードアートエリア
- 位置: 上部中央
- サイズ: 約199x142 px
- 背景色: 暗いグレー (0.15, 0.15, 0.15)
- 角丸: 5px

### 4. 名前バナー（装飾付き）
- 位置: 中央下部 (offset: -91.4, -96.5 / 91.4, -71.1)
- サイズ: 約183x25 px
- 背景色: 暗いグレー (0.15, 0.15, 0.15, 0.95)
- 縁取り: シルバーグレー (0.6, 0.65, 0.7) - 2px
- 影: 2px
- 角丸: 3px

**装飾要素**:
- 内側の枠: 半透明グレー
- 上部アクセントライン: 横長の装飾
- 四隅の装飾: 小さな装飾パネル (約5x5px)

**テキスト**:
- メイン名前: 14px、白色、中央揃え
- サブタイトル: 削除済み

### 5. 説明ボックス（古い紙風）
- 位置: 最下部 (offset: -100.0, -70.0 / 100.0, -15.0)
- サイズ: 200 x 55 px（拡大済み）
- 背景色: ベージュ/クリーム (0.92, 0.88, 0.78)
- 縁取り: 茶色 (0.7, 0.65, 0.55) - 1px
- 角丸: 3px
- **質感レイヤー**: 半透明ベージュオーバーレイ (0.85, 0.82, 0.72, 0.3)
- テキスト色: 暗い茶色 (0.25, 0.2, 0.15)
- フォントサイズ: 8px、中央揃え

### 6. シェーダー（オプション）
InnerFrame内にNoiseTextureを配置してシェーダーを適用可能。

**利用可能なシェーダー**:
1. `perlin_noise.gdshader` - パーリンノイズ（雲のような自然な模様）
2. `marble_pattern.gdshader` - 大理石模様（高級感のある筋）
3. `voronoi_pattern.gdshader` - ボロノイ（豹柄風の有機的な斑）
4. `camouflage_pattern.gdshader` - 迷彩模様（推奨）

**シェーダー適用方法**:
1. NoiseTextureを選択
2. Material → New ShaderMaterial
3. Shader → Load → 好みの.gdshaderファイルを選択

## 主要な色定義

### 背景・枠
- 黒背景: (0.0, 0.0, 0.0)
- 濃いグレー枠: (0.1, 0.1, 0.1)
- 内枠: (0.2, 0.2, 0.2, 0.5)
- 装飾: (0.6, 0.7, 0.8)

### 宝石
- 青宝石（コスト）: (0.1, 0.3, 0.6) → 縁 (0.4, 0.7, 1.0)
- 赤宝石（攻撃）: (0.6, 0.1, 0.1) → 縁 (1.0, 0.4, 0.4)
- 緑宝石（HP）: (0.1, 0.6, 0.1) → 縁 (0.4, 1.0, 0.4)

### 名前バナー
- 背景: (0.15, 0.15, 0.15, 0.95)
- 縁: (0.6, 0.65, 0.7)
- 装飾: (0.65, 0.7, 0.75)

### 古い紙
- 背景: (0.92, 0.88, 0.78)
- 縁: (0.7, 0.65, 0.55)
- テクスチャ: (0.85, 0.82, 0.72, 0.3)
- 文字: (0.25, 0.2, 0.15)

## スクリプト機能

### 変数
- `card_name`: カード名
- `card_cost`: コスト
- `card_description`: 説明文
- `left_stat`: 攻撃力
- `current_hp`: 現在HP
- `max_hp`: 最大HP（right_statを使用）
- `card_texture`: カード画像

### 主要関数
- `update_card_display()`: すべての要素を更新
- `set_card_data(Dictionary)`: 辞書からデータを一括設定
- `set_cost(int)`: コスト設定
- `set_card_name(String)`: 名前設定（set_nameから変更）
- `set_description(String)`: 説明文設定
- `set_left_stat(int)`: 攻撃力設定
- `set_current_hp(int)`: 現在HP設定
- `set_max_hp(int)`: 最大HP設定
- `set_card_art(Texture2D)`: カード画像設定

## 削除された要素
- ~~ASCENDEDバナー~~
- ~~サブタイトル~~
- ~~BottomAccent（下部装飾）~~

## Version 1.2 での変更点
1. カードサイズを220×293に変更（既存カード比率に合わせる）
2. 4つの宝石バッジ構成に変更：
   - 右上に2つ（コストと現在HP）
   - 左下に攻撃力、右下に最大HP
3. 説明ボックスを拡大（55px高）
4. 下部装飾（BottomAccent）を削除
5. シェーダー対応（InnerFrame内にNoiseTexture配置）
6. スクリプトの関数名を変更（set_name → set_card_name）

## 使用方法
1. Godotで `scenes/CardFrame.tscn` をインスタンス化
2. スクリプトから各set関数で値を設定
3. オプションでシェーダーを適用して背景に模様を追加

## 今後の拡張案
- アニメーション（ホバー時の光る効果など）
- 属性による枠の色変更
- レアリティによる装飾の変化
- HP減少時のアニメーション

最終更新: 2025-11-06
