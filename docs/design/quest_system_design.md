# ã‚¯ã‚¨ã‚¹ãƒˆã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆæ›¸

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.3  
**æœ€çµ‚æ›´æ–°**: 2025å¹´1æœˆ20æ—¥  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: å®Ÿè£…ä¸­

---

## ğŸ“‹ ç›®æ¬¡

1. [æ¦‚è¦](#æ¦‚è¦)
2. [ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ](#ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ)
3. [ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ](#ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ )
4. [JSONã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ](#jsonã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ)
5. [4äººå¯¾æˆ¦å¯¾å¿œ](#4äººå¯¾æˆ¦å¯¾å¿œ)
6. [CPU AIè¨­è¨ˆ](#cpu-aiè¨­è¨ˆ)
7. [å®Ÿè£…çŠ¶æ³](#å®Ÿè£…çŠ¶æ³)
8. [å°†æ¥ã®ã‚µãƒ¼ãƒãƒ¼ç§»è¡Œ](#å°†æ¥ã®ã‚µãƒ¼ãƒãƒ¼ç§»è¡Œ)

---

## æ¦‚è¦

### ç›®çš„

ã‚½ãƒ­ãƒ—ãƒ¬ã‚¤ç”¨ã®ã‚¯ã‚¨ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ã‚’å®Ÿè£…ã™ã‚‹ã€‚ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¯ãƒ¯ãƒ¼ãƒ«ãƒ‰ã‚’é€²è¡Œã—ã€å„ã‚¹ãƒ†ãƒ¼ã‚¸ã§CPUæ•µã¨å¯¾æˆ¦ã™ã‚‹ã€‚

### åŸºæœ¬ä»•æ§˜

| é …ç›® | å†…å®¹ |
|------|------|
| ã‚¹ãƒ†ãƒ¼ã‚¸æ•° | 20ä»¥ä¸Š |
| ãƒãƒƒãƒ—ç¨®é¡ | 10ç¨®é¡ï¼ˆä½¿ã„å›ã—ï¼‰ |
| æ•µã‚­ãƒ£ãƒ© | 10ç¨®é¡ï¼ˆä½¿ã„å›ã—ï¼‰ |
| ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹æˆ | 1äºº vs CPU 1ã€œ3ä½“ï¼ˆæœ€å¤§4äººå¯¾æˆ¦ï¼‰ |
| é€²è¡Œæ–¹å¼ | ãƒ¯ãƒ¼ãƒ«ãƒ‰åˆ¶ï¼ˆ1-1 â†’ 1-2 â†’ 1-3ã€ä¸¦è¡Œã—ã¦2-1 â†’ 2-2ç­‰ï¼‰ |

### æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é–¢ä¿‚

```
MainMenu
â”œâ”€â”€ ã‚½ãƒ­ãƒãƒˆãƒ« â†’ Main.tscnï¼ˆgame_3d.gdã€ãƒ†ã‚¹ãƒˆç’°å¢ƒï¼‰
â””â”€â”€ ã‚¯ã‚¨ã‚¹ãƒˆ â†’ StageSelect.tscnï¼ˆquest_select.gdï¼‰
			  â””â”€â”€ Quest.tscnï¼ˆquest_game.gdã€å‹•çš„ã«ãƒãƒƒãƒ—ç”Ÿæˆï¼‰
```

### é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ«è¨­è¨ˆæ›¸](online_rules_design.md) - ãƒ«ãƒ¼ãƒ«ãƒ—ãƒªã‚»ãƒƒãƒˆã€å‹åˆ©æ¡ä»¶ã€ã‚«ãƒ¼ãƒ‰åˆ¶é™
- [ãƒãƒƒãƒ—ã‚·ã‚¹ãƒ†ãƒ ä»•æ§˜](map_system.md) - ãƒãƒƒãƒ—æ§‹é€ ã€å‘¨å›ã‚·ã‚¹ãƒ†ãƒ 

---

## ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

### ãƒ‡ãƒ¼ã‚¿ã®åˆ†é¡

| ç¨®é¡ | èª¬æ˜ | ãƒ•ã‚¡ã‚¤ãƒ«æ•° | å†åˆ©ç”¨ |
|------|------|-----------|--------|
| ãƒ¯ãƒ¼ãƒ«ãƒ‰å®šç¾© | ãƒ¯ãƒ¼ãƒ«ãƒ‰ä¸€è¦§ãƒ»è§£æ”¾æ¡ä»¶ | 1 | - |
| ã‚¹ãƒ†ãƒ¼ã‚¸å®šç¾© | ãƒãƒƒãƒ—ID + ãƒ«ãƒ¼ãƒ« + æ•µæ§‹æˆ | ã‚¹ãƒ†ãƒ¼ã‚¸æ•°åˆ† | - |
| ãƒãƒƒãƒ—å®šç¾© | ã‚¿ã‚¤ãƒ«é…ç½®ãƒ»æ¥ç¶šãƒ»åº§æ¨™ | 10ç¨‹åº¦ | âœ“ |
| ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å®šç¾© | åå‰ãƒ»3Dãƒ¢ãƒ‡ãƒ«ãƒ‘ã‚¹ | 1 | âœ“ |
| ãƒ‡ãƒƒã‚­å®šç¾© | ã‚«ãƒ¼ãƒ‰IDãƒªã‚¹ãƒˆ | 10ã€œ20ç¨‹åº¦ | âœ“ |
| AIãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ« | æˆ¦ç•¥ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | 5ã€œ10ç¨‹åº¦ | âœ“ |

### å‚ç…§æ–¹å¼

```
stage_1_1.json
â”œâ”€â”€ map_id: "map_diamond_20" â†’ maps/map_diamond_20.json
â”œâ”€â”€ rule_preset: "quick" â†’ game_constants.gd RULE_PRESETS
â””â”€â”€ quest.enemies[0]
		â”œâ”€â”€ character_id: "goblin" â†’ characters.json
		â”œâ”€â”€ deck_id: "deck_fire_basic" â†’ decks/deck_fire_basic.json
		â””â”€â”€ ai_level: 3
```

---

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
data/
â”œâ”€â”€ master/                          # ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ worlds/
â”‚   â”‚   â””â”€â”€ world_list.json          # ãƒ¯ãƒ¼ãƒ«ãƒ‰ä¸€è¦§ãƒ»è§£æ”¾æ¡ä»¶
â”‚   â”œâ”€â”€ stages/
â”‚   â”‚   â”œâ”€â”€ stage_1_1.json           # ã‚¹ãƒ†ãƒ¼ã‚¸å®šç¾©
â”‚   â”‚   â”œâ”€â”€ stage_1_2.json
â”‚   â”‚   â”œâ”€â”€ stage_test_4p.json       # ã‚½ãƒ­4äººå¯¾æˆ¦ãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”œâ”€â”€ stage_quest_4p.json      # ã‚¯ã‚¨ã‚¹ãƒˆ4äººå¯¾æˆ¦ãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ maps/
â”‚   â”‚   â”œâ”€â”€ map_diamond_20.json
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ characters/
â”‚   â”‚   â””â”€â”€ characters.json          # å…¨CPUã‚­ãƒ£ãƒ©å®šç¾©
â”‚   â”œâ”€â”€ decks/
â”‚   â”‚   â”œâ”€â”€ deck_balance_easy.json
â”‚   â”‚   â”œâ”€â”€ deck_skills_test.json
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ ai_profiles/
â”‚       â”œâ”€â”€ easy.json
â”‚       â””â”€â”€ ...
â”‚
â””â”€â”€ local/                           # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿
	â””â”€â”€ user_save.json               # é€²è¡ŒçŠ¶æ³ã€æ‰€æŒã‚«ãƒ¼ãƒ‰ç­‰
```

---

## JSONã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ

### 1. world_list.jsonï¼ˆãƒ¯ãƒ¼ãƒ«ãƒ‰ä¸€è¦§ï¼‰

```json
{
  "worlds": [
	{
	  "id": "world_1",
	  "name": "è‰åŸã®å›½",
	  "stages": ["stage_1_1", "stage_1_2", "stage_1_3"],
	  "unlock_condition": null
	},
	{
	  "id": "world_2",
	  "name": "ç‚ã®å›½",
	  "stages": ["stage_2_1", "stage_2_2", "stage_2_3"],
	  "unlock_condition": {"type": "stage_clear", "stage_id": "stage_1_1"}
	}
  ]
}
```

---

### 2. stage_X_X.jsonï¼ˆã‚¹ãƒ†ãƒ¼ã‚¸å®šç¾©ï¼‰

**æ–°ã—ã„æ§‹é€ **ï¼ˆãƒ«ãƒ¼ãƒ«ã¨ã‚¯ã‚¨ã‚¹ãƒˆå°‚ç”¨ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†é›¢ï¼‰:

```json
{
  "id": "stage_quest_4p",
  "name": "4äººã‚¯ã‚¨ã‚¹ãƒˆãƒ†ã‚¹ãƒˆ",
  "description": "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼1å + CPU3åã®ã‚¯ã‚¨ã‚¹ãƒˆãƒ†ã‚¹ãƒˆ",
  "map_id": "map_diamond_20",

  "rule_preset": "standard",
  "rule_overrides": {
	"initial_magic": {"player": 1000, "cpu": 1000}
  },

  "quest": {
	"enemies": [
	  {
		"character_id": "bowser",
		"deck_id": "skills_test",
		"ai_level": 3,
		"start_tile": 0
	  },
	  {
		"character_id": "bowser",
		"deck_id": "balance_easy",
		"ai_level": 3,
		"start_tile": 0
	  },
	  {
		"character_id": "bowser",
		"deck_id": "random",
		"ai_level": 3,
		"start_tile": 0
	  }
	],
	"rewards": {
	  "first_clear": {"type": "gold", "amount": 1000},
	  "repeat": {"type": "gold", "amount": 200}
	}
  }
}
```

#### ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å¿…é ˆ | èª¬æ˜ |
|-----------|:----:|------|
| `id` | âœ“ | ã‚¹ãƒ†ãƒ¼ã‚¸è­˜åˆ¥å­ |
| `name` | | ã‚¹ãƒ†ãƒ¼ã‚¸åï¼ˆè¡¨ç¤ºç”¨ï¼‰ |
| `description` | | èª¬æ˜æ–‡ |
| `map_id` | âœ“ | ä½¿ç”¨ã™ã‚‹ãƒãƒƒãƒ—ã®ID |
| `rule_preset` | | ãƒ«ãƒ¼ãƒ«ãƒ—ãƒªã‚»ãƒƒãƒˆåï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: "standard"ï¼‰ |
| `rule_overrides` | | ãƒ—ãƒªã‚»ãƒƒãƒˆã‚’ä¸Šæ›¸ãã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ è¨­å®š |
| `quest` | | ã‚½ãƒ­ã‚¯ã‚¨ã‚¹ãƒˆå°‚ç”¨ãƒ‡ãƒ¼ã‚¿ |
| `quest.enemies` | | CPUæ•µã®é…åˆ—ï¼ˆ1ã€œ3ä½“ï¼‰ |

#### æ•µï¼ˆenemiesï¼‰ã®è¨­å®š

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å¿…é ˆ | èª¬æ˜ |
|-----------|:----:|------|
| `character_id` | âœ“ | ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼IDï¼ˆcharacters.jsonã‹ã‚‰ï¼‰ |
| `deck_id` | | ãƒ‡ãƒƒã‚­IDï¼ˆ"random"ã§ãƒ©ãƒ³ãƒ€ãƒ ãƒ‡ãƒƒã‚­ï¼‰ |
| `ai_level` | | AIãƒ¬ãƒ™ãƒ«ï¼ˆ1-10ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 3ï¼‰ |
| `start_tile` | | é–‹å§‹ã‚¿ã‚¤ãƒ«ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 0ï¼‰ |

#### ãƒ«ãƒ¼ãƒ«é–¢é€£

ãƒ«ãƒ¼ãƒ«ãƒ—ãƒªã‚»ãƒƒãƒˆã¨å‹åˆ©æ¡ä»¶ã®è©³ç´°ã¯ [ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ«è¨­è¨ˆæ›¸](online_rules_design.md) ã‚’å‚ç…§ã€‚

---

### 3. characters.jsonï¼ˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å®šç¾©ï¼‰

```json
{
  "characters": {
	"bowser": {
	  "name": "ã‚¯ãƒƒãƒ‘",
	  "model_path": "res://scenes/Characters/Bowser.tscn",
	  "portrait_path": "res://assets/portraits/bowser.png",
	  "description": "å¼·åŠ›ãªæ•µã‚­ãƒ£ãƒ©"
	},
	"goblin": {
	  "name": "ã‚´ãƒ–ãƒªãƒ³",
	  "model_path": "res://scenes/Characters/Goblin.tscn",
	  "portrait_path": "res://assets/portraits/goblin.png",
	  "description": "å°ã•ã„ãŒå‡¶æš´ãªé­”ç‰©"
	}
  }
}
```

---

### 4. deck_*.jsonï¼ˆãƒ‡ãƒƒã‚­å®šç¾©ï¼‰

```json
{
  "id": "balance_easy",
  "name": "ãƒãƒ©ãƒ³ã‚¹ãƒ‡ãƒƒã‚­ï¼ˆåˆç´šï¼‰",
  "description": "å„å±æ€§å‡ç­‰ãƒ»ä½ã‚³ã‚¹ãƒˆã®ãƒãƒ©ãƒ³ã‚¹å‹ãƒ‡ãƒƒã‚­",
  "cards": [
	{"id": 217, "count": 2},
	{"id": 218, "count": 2},
	{"id": 305, "count": 2},
	{"id": 306, "count": 2},
	{"id": 2033, "count": 4}
  ]
}
```

---

### 5. ai_profiles/*.jsonï¼ˆAIãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

```json
{
  "id": "easy",
  "name": "åˆç´š",
  "description": "åˆå¿ƒè€…å‘ã‘",
  "difficulty_level": 3,
  "behavior": {
	"summon_rate": 0.6,
	"invasion_rate": 0.4,
	"battle_rate": 0.5,
	"levelup_rate": 0.3
  }
}
```

---

### 6. user_save.jsonï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ï¼‰

```json
{
  "user_id": "local_user",
  "cleared_stages": ["stage_1_1", "stage_1_2"],
  "unlocked_worlds": ["world_1", "world_2"],
  "owned_cards": [
	{"card_id": 1, "count": 3},
	{"card_id": 5, "count": 1}
  ],
  "gold": 5000,
  "player_decks": [
	{
	  "name": "ãƒ¡ã‚¤ãƒ³ãƒ‡ãƒƒã‚­",
	  "cards": [1, 1, 5, 12, 12]
	}
  ],
  "last_played": "2025-01-19T10:30:00Z"
}
```

---

## 4äººå¯¾æˆ¦å¯¾å¿œ

### ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°ã®æ±ºå®š

ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°ã¯ã‚¹ãƒ†ãƒ¼ã‚¸JSONã®`quest.enemies`é…åˆ—ã®ã‚µã‚¤ã‚ºã§æ±ºã¾ã‚Šã¾ã™ã€‚

```
ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•° = 1ï¼ˆäººé–“ï¼‰ + enemies.size()ï¼ˆCPUï¼‰
```

| enemiesæ•° | ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•° | æ§‹æˆ |
|-----------|------------|------|
| 1 | 2 | äººé–“1 + CPU1 |
| 2 | 3 | äººé–“1 + CPU2 |
| 3 | 4 | äººé–“1 + CPU3 |

### CPUã”ã¨ã®ãƒ‡ãƒƒã‚­è¨­å®š

å„CPUã«ç•°ãªã‚‹ãƒ‡ãƒƒã‚­ã‚’è¨­å®šã§ãã¾ã™ã€‚

```json
"enemies": [
  {"character_id": "bowser", "deck_id": "skills_test"},
  {"character_id": "bowser", "deck_id": "balance_easy"},
  {"character_id": "bowser", "deck_id": "random"}
]
```

| deck_id | å‹•ä½œ |
|---------|------|
| `"random"` | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‡ãƒƒã‚­ï¼ˆID 1-12ã‚’å„3æšï¼‰ |
| `"XXX"` | `deck_XXX.json`ã‹ã‚‰èª­ã¿è¾¼ã¿ |

### å®Ÿè£…ç®‡æ‰€

| ãƒ•ã‚¡ã‚¤ãƒ« | å½¹å‰² |
|---------|------|
| `stage_loader.gd` | ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°è¨ˆç®—ã€ãƒ‡ãƒƒã‚­èª­ã¿è¾¼ã¿ |
| `quest_game.gd` | CPUã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä½œæˆã€ãƒ‡ãƒƒã‚­è¨­å®š |
| `game_system_manager.gd` | CardSystem/PlayerSystemåˆæœŸåŒ– |
| `card_system.gd` | ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã”ã¨ã®ãƒ‡ãƒƒã‚­ç®¡ç† |
| `ui_manager.gd` | ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æƒ…å ±ãƒ‘ãƒãƒ«ä½œæˆ |

---

## CPU AIè¨­è¨ˆ

### æ—¢å­˜å®Ÿè£…

| ã‚¯ãƒ©ã‚¹ | å½¹å‰² | çŠ¶æ…‹ |
|--------|------|------|
| `CPUAIHandler` | åˆ¤æ–­ãƒ­ã‚¸ãƒƒã‚¯ | âœ“ å®Ÿè£…æ¸ˆã¿ |
| `CPUTurnProcessor` | ã‚¿ãƒ¼ãƒ³å®Ÿè¡Œ | âœ“ å®Ÿè£…æ¸ˆã¿ |

### å‹•ä½œåˆ‡ã‚Šæ›¿ãˆ

```gdscript
# ã‚½ãƒ­ãƒãƒˆãƒ«ï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰
player_is_cpu = [false, true]
debug_manual_control_all = true  # CPUã‚‚æ‰‹å‹•æ“ä½œå¯èƒ½

# ã‚¯ã‚¨ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰
player_is_cpu = [false, true, true, true]  # 4äººå¯¾æˆ¦
debug_manual_control_all = false  # CPUã¯AIä»»ã›
```

### AIãƒ¬ãƒ™ãƒ«ã¨æ©Ÿèƒ½

| Level | åŸºæœ¬è©•ä¾¡ | ãƒ†ãƒ³ãƒè©•ä¾¡ | ã‚·ãƒŠã‚¸ãƒ¼ | å…ˆèª­ã¿ | ãƒ©ãƒ³ãƒ€ãƒ è¦ç´  |
|-------|---------|-----------|---------|--------|-------------|
| 1-3 | âœ“ | - | - | 0 | 30% |
| 4-6 | âœ“ | âœ“ | âœ“ | 1 | 10% |
| 7-10 | âœ“ | âœ“ | âœ“ | 2 | 0% |

---

## å®Ÿè£…çŠ¶æ³

### âœ… å®Ÿè£…æ¸ˆã¿

- [x] ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
- [x] StageLoaderï¼ˆJSONèª­ã¿è¾¼ã¿ãƒ»ãƒãƒƒãƒ—ç”Ÿæˆï¼‰
- [x] QuestGameï¼ˆã‚¯ã‚¨ã‚¹ãƒˆç”¨ã‚²ãƒ¼ãƒ ç®¡ç†ï¼‰
- [x] ãƒãƒƒãƒ—JSONï¼ˆ7ç¨®é¡ï¼‰
- [x] ã‚¹ãƒ†ãƒ¼ã‚¸JSONï¼ˆ8ç¨®é¡ + ãƒ†ã‚¹ãƒˆç”¨2ç¨®é¡ï¼‰
- [x] ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼JSON
- [x] AIãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«JSONï¼ˆeasyï¼‰
- [x] ãƒ‡ãƒƒã‚­JSONï¼ˆ2ç¨®é¡ï¼‰
- [x] **4äººå¯¾æˆ¦å¯¾å¿œ**
- [x] **CPUã”ã¨ã®ãƒ‡ãƒƒã‚­è¨­å®š**
- [x] **ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æƒ…å ±ãƒ‘ãƒãƒ«å‹•çš„ç”Ÿæˆ**
- [x] **ãƒ—ãƒªã‚»ãƒƒãƒˆãƒ™ãƒ¼ã‚¹è¨­å®šã‚·ã‚¹ãƒ†ãƒ **

### ğŸš§ æœªå®Ÿè£…

- [ ] ãƒ¯ãƒ¼ãƒ«ãƒ‰é¸æŠUI
- [ ] å ±é…¬ã‚·ã‚¹ãƒ†ãƒ 
- [ ] é€²è¡ŒçŠ¶æ³ä¿å­˜
- [ ] AIãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«é©ç”¨ï¼ˆé›£æ˜“åº¦èª¿æ•´ï¼‰

---

## å°†æ¥ã®ã‚µãƒ¼ãƒãƒ¼ç§»è¡Œ

### ç¾åœ¨ã®è¨­è¨ˆæ€æƒ³

```
data/
â”œâ”€â”€ master/   â† å°†æ¥ã‚µãƒ¼ãƒãƒ¼ã¸ï¼ˆæ§‹é€ å¤‰æ›´ãªã—ï¼‰
â””â”€â”€ local/    â† å°†æ¥ã‚µãƒ¼ãƒãƒ¼DBã¸
```

### ç§»è¡Œæ™‚ã®å¤‰æ›´ç‚¹

| é …ç›® | ç¾åœ¨ | ç§»è¡Œå¾Œ |
|------|------|--------|
| ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ | `FileAccess.open()` | `HTTPRequest` |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ä¿å­˜ | `user_save.json` | ã‚µãƒ¼ãƒãƒ¼API |
| èªè¨¼ | ãªã— | OAuthç­‰ |

### ãƒ­ãƒ¼ãƒ€ãƒ¼ã®æŠ½è±¡åŒ–

```gdscript
# ä»Š
func load_stage(stage_id: String) -> Dictionary:
	var file = FileAccess.open("res://data/master/stages/%s.json" % stage_id, FileAccess.READ)
	return JSON.parse_string(file.get_as_text())

# å°†æ¥ï¼ˆå·®ã—æ›¿ãˆã‚‹ã ã‘ï¼‰
func load_stage(stage_id: String) -> Dictionary:
	var response = await http.request("https://api.example.com/stages/%s" % stage_id)
	return JSON.parse_string(response.body)
```

**JSONã®æ§‹é€ ã¯å¤‰ã‚ã‚‰ãªã„ã€‚èª­ã¿è¾¼ã¿æ–¹æ³•ã ã‘å¤‰æ›´ã€‚**

---

## å¤‰æ›´å±¥æ­´

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ—¥ä»˜ | å¤‰æ›´å†…å®¹ |
|-----------|------|---------|
| 1.0 | 2025/12/15 | åˆç‰ˆä½œæˆ |
| 1.1 | 2025/12/16 | ãƒãƒƒãƒ—JSONã‚¹ã‚­ãƒ¼ãƒã«lap_settingsè¿½åŠ  |
| 1.2 | 2025/01/19 | ãƒ«ãƒ¼ãƒ«é–¢é€£ã‚’online_rules_design.mdã«åˆ†é›¢ã€ã‚¹ãƒ†ãƒ¼ã‚¸JSONæ§‹é€ ã‚’æ›´æ–° |
| 1.3 | 2025/01/20 | 4äººå¯¾æˆ¦å¯¾å¿œã€CPUã”ã¨ã®ãƒ‡ãƒƒã‚­è¨­å®šã€å®Ÿè£…çŠ¶æ³æ›´æ–° |
