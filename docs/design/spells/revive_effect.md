# æ­»è€…å¾©æ´»åŠ¹æœ è¨­è¨ˆæ›¸

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: ã‚«ãƒ«ãƒ‰ã‚»ãƒ—ãƒˆé¢¨ã‚«ãƒ¼ãƒ‰ãƒãƒˆãƒ«ã‚²ãƒ¼ãƒ   
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0  
**ä½œæˆæ—¥**: 2025å¹´10æœˆ24æ—¥  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: è¨­è¨ˆä¸­

---

## ğŸ“‹ ç›®æ¬¡

1. [æ¦‚è¦](#æ¦‚è¦)
2. [å¾©æ´»ã®ç¨®é¡ã¨ãƒ‘ã‚¿ãƒ¼ãƒ³](#å¾©æ´»ã®ç¨®é¡ã¨ãƒ‘ã‚¿ãƒ¼ãƒ³)
3. [åˆæœŸå®Ÿè£…å¯¾è±¡](#åˆæœŸå®Ÿè£…å¯¾è±¡)
4. [ãƒ‡ãƒ¼ã‚¿æ§‹é€ è¨­è¨ˆ](#ãƒ‡ãƒ¼ã‚¿æ§‹é€ è¨­è¨ˆ)
5. [å¢“åœ°ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é€£æº](#å¢“åœ°ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é€£æº)
6. [å®Ÿè£…ãƒ•ãƒ­ãƒ¼](#å®Ÿè£…ãƒ•ãƒ­ãƒ¼)
7. [ä»Šå¾Œã®å®Ÿè£…äºˆå®š](#ä»Šå¾Œã®å®Ÿè£…äºˆå®š)

---

## æ¦‚è¦

### ç›®çš„
å¢“åœ°ã‹ã‚‰ç‰¹å®šã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã‚’å¾©æ´»ã•ã›ã‚‹åŠ¹æœã‚’å®Ÿè£…ã™ã‚‹ã€‚æ­»è€…å¾©æ´»ã¯ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã‚¹ã‚­ãƒ«ã€ã‚¢ã‚¤ãƒ†ãƒ ã€ã‚¹ãƒšãƒ«ã§ä½¿ç”¨ã•ã‚Œã‚‹ã€‚

### åŸºæœ¬ä»•æ§˜
- **å¾©æ´»ã®æœ¬è³ª**: å¢“åœ°ã«ã‚ã‚‹ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã‚’æŒ‡å®šã‚¿ã‚¤ãƒ«ã«é…ç½®
- **å¾©æ´»æ™‚ã®çŠ¶æ…‹**: å…ƒã®åŸºç¤HP/APã§å¾©æ´»ï¼ˆåŠ¹æœã¯ãƒªã‚»ãƒƒãƒˆï¼‰
- **å¢“åœ°ã®çŠ¶æ…‹**: å¾©æ´»ã—ãŸã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã¯å¢“åœ°ã‹ã‚‰å‰Šé™¤
- **æ¡ä»¶**: å¢“åœ°ã«å¯¾è±¡ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãŒå­˜åœ¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹

---

## å¾©æ´»ã®ç¨®é¡ã¨ãƒ‘ã‚¿ãƒ¼ãƒ³

### 1. ç‰¹å®šã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®å¾©æ´»
**ä¾‹**: ãƒ˜ãƒ«ã‚°ãƒ©ãƒã‚¤ãƒˆï¼ˆID: 139ï¼‰â†’ ã‚µãƒ¼ãƒšãƒ³ãƒˆãƒ•ãƒ©ã‚¤å¾©æ´»

```json
{
  "ability": "æ­»è€…å¾©æ´»[ã‚µãƒ¼ãƒšãƒ³ãƒˆãƒ•ãƒ©ã‚¤]",
  "ability_detail": "æ­»è€…å¾©æ´»[ã‚µãƒ¼ãƒšãƒ³ãƒˆãƒ•ãƒ©ã‚¤]"
}
```

**ä»•æ§˜**:
- å¬å–šæ™‚ã«è‡ªå‹•ç™ºå‹•
- å¢“åœ°ã«ã‚µãƒ¼ãƒšãƒ³ãƒˆãƒ•ãƒ©ã‚¤ãŒã‚ã‚Œã°å¾©æ´»
- ãªã„å ´åˆã¯ä½•ã‚‚èµ·ããªã„
- å¾©æ´»å…ˆã‚¿ã‚¤ãƒ«ã¯è‡ªå‹•é¸æŠï¼ˆç©ºã„ã¦ã„ã‚‹è‡ªé ˜åœ°ï¼‰

---

### 2. é«˜ã‚³ã‚¹ãƒˆã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®å¾©æ´»
**ä¾‹**: ã‚°ãƒ¬ãƒ¼ãƒˆãƒ•ã‚©ã‚·ãƒ«ï¼ˆID: 411ï¼‰â†’ ãƒ†ã‚£ãƒ©ãƒã‚µã‚¦ãƒ«ã‚¹å¾©æ´»

```json
{
  "ability": "é˜²å¾¡å‹ãƒ»é€šè¡Œæ–™å¤‰åŒ–ãƒ»æ­»è€…å¾©æ´»",
  "ability_detail": "é˜²å¾¡å‹ï¼›é€šè¡Œæ–™å¤‰åŒ–[G0]ï¼›æ­»è€…å¾©æ´»[ãƒ†ã‚£ãƒ©ãƒã‚µã‚¦ãƒ«ã‚¹]"
}
```

**ä»•æ§˜**:
- å¬å–šæ™‚ã«è‡ªå‹•ç™ºå‹•
- å¢“åœ°ã«ãƒ†ã‚£ãƒ©ãƒã‚µã‚¦ãƒ«ã‚¹ãŒã‚ã‚Œã°å¾©æ´»
- é˜²å¾¡å‹ãƒ»é€šè¡Œæ–™å¤‰åŒ–ã¨çµ„ã¿åˆã‚ã›
- ç‰¹æ®Šãªå¬å–šã‚³ã‚¹ãƒˆï¼ˆMP30 + ã‚«ãƒ¼ãƒ‰1æšç”Ÿè´„ï¼‰

---

### 3. ã‚°ãƒ«ãƒ¼ãƒ—ã‹ã‚‰ã®å¾©æ´»
**ä¾‹**: ï¼ˆå°†æ¥å®Ÿè£…äºˆå®šï¼‰

```json
{
  "effect": "æ­»è€…å¾©æ´»[ã‚¹ã‚±ãƒ«ãƒˆãƒ³ç³»]"
}
```

**ä»•æ§˜**:
- å¢“åœ°ã‹ã‚‰ç‰¹å®šã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆä¾‹ï¼šã‚¹ã‚±ãƒ«ãƒˆãƒ³ç³»ï¼‰ã‚’é¸æŠ
- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒé¸æŠ
- ã‚¹ãƒšãƒ«ã‚„ã‚¢ã‚¤ãƒ†ãƒ ã§å®Ÿè£…äºˆå®š

---

### 4. ä»»æ„ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®å¾©æ´»
**ä¾‹**: ï¼ˆå°†æ¥å®Ÿè£…äºˆå®šï¼‰å¾©æ´»ã‚¹ãƒšãƒ«

```json
{
  "effect": "æ­»è€…å¾©æ´»[é¸æŠ]"
}
```

**ä»•æ§˜**:
- å¢“åœ°ã‹ã‚‰ä»»æ„ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã‚’é¸æŠ
- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒé¸æŠ
- é«˜ã‚³ã‚¹ãƒˆã‚¹ãƒšãƒ«ã§å®Ÿè£…äºˆå®š

---

## åˆæœŸå®Ÿè£…å¯¾è±¡

### Phase 1: åŸºæœ¬å®Ÿè£…ï¼ˆ2ä½“ï¼‰

| ID | åå‰ | å¾©æ´»å¯¾è±¡ | å®Ÿè£…ç†ç”± |
|---|---|---|---|
| **139** | ãƒ˜ãƒ«ã‚°ãƒ©ãƒã‚¤ãƒˆ | ã‚µãƒ¼ãƒšãƒ³ãƒˆãƒ•ãƒ©ã‚¤ | åŸºæœ¬çš„ãªå¾©æ´»ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã®ç¢ºç«‹ |
| **411** | ã‚°ãƒ¬ãƒ¼ãƒˆãƒ•ã‚©ã‚·ãƒ« | ãƒ†ã‚£ãƒ©ãƒã‚µã‚¦ãƒ«ã‚¹ | é«˜ã‚³ã‚¹ãƒˆã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼å¾©æ´» |

**å®Ÿè£…å†…å®¹**:
1. å¢“åœ°ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é€£æº
2. ç‰¹å®šã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®å¾©æ´»å‡¦ç†
3. å¬å–šæ™‚ã®è‡ªå‹•ç™ºå‹•å‡¦ç†
4. å¾©æ´»å…ˆã‚¿ã‚¤ãƒ«ã®è‡ªå‹•é¸æŠ

---

## ãƒ‡ãƒ¼ã‚¿æ§‹é€ è¨­è¨ˆ

### ability_parsedã®æ§‹é€ 

```gdscript
{
  "keywords": ["æ­»è€…å¾©æ´»"],
  "effects": [
    {
      "effect_type": "revive",
      "trigger": "on_summon",              # ç™ºå‹•ã‚¿ã‚¤ãƒŸãƒ³ã‚°
      "revive_type": "specific",           # å¾©æ´»ã‚¿ã‚¤ãƒ—
      "target_creature_id": 316,           # ã‚µãƒ¼ãƒšãƒ³ãƒˆãƒ•ãƒ©ã‚¤ã®ID
      "target_creature_name": "ã‚µãƒ¼ãƒšãƒ³ãƒˆãƒ•ãƒ©ã‚¤",
      "placement_type": "auto",            # é…ç½®æ–¹æ³•
      "placement_target": "own_empty_land", # é…ç½®å…ˆ
      "conditions": [
        {
          "condition_type": "graveyard_has_creature",
          "creature_id": 316
        }
      ]
    }
  ]
}
```

### å¾©æ´»ã‚¿ã‚¤ãƒ—ï¼ˆrevive_typeï¼‰

| ã‚¿ã‚¤ãƒ— | èª¬æ˜ | ä¾‹ |
|---|---|---|
| `specific` | ç‰¹å®šIDã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ | ãƒ˜ãƒ«ã‚°ãƒ©ãƒã‚¤ãƒˆ |
| `group` | ã‚°ãƒ«ãƒ¼ãƒ—ã‹ã‚‰é¸æŠ | ã‚¹ã‚±ãƒ«ãƒˆãƒ³ç³» |
| `select` | ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒé¸æŠ | å¾©æ´»ã‚¹ãƒšãƒ« |
| `last_destroyed` | æœ€å¾Œã«ç ´å£Šã•ã‚ŒãŸã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ | ï¼ˆå°†æ¥å®Ÿè£…ï¼‰ |

### é…ç½®ã‚¿ã‚¤ãƒ—ï¼ˆplacement_typeï¼‰

| ã‚¿ã‚¤ãƒ— | èª¬æ˜ |
|---|---|
| `auto` | è‡ªå‹•é¸æŠï¼ˆç©ºã„ã¦ã„ã‚‹è‡ªé ˜åœ°ï¼‰ |
| `select` | ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒé¸æŠ |
| `specific_tile` | ç‰¹å®šã®ã‚¿ã‚¤ãƒ« |

---

## å¢“åœ°ã‚·ã‚¹ãƒ†ãƒ ã¨ã®é€£æº

### å¢“åœ°ã®æ§‹é€ 

```gdscript
# ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã”ã¨ã®å¢“åœ°
var graveyard: Dictionary = {
	"player_1": [
		{
			"creature_id": 316,
			"name": "ã‚µãƒ¼ãƒšãƒ³ãƒˆãƒ•ãƒ©ã‚¤",
			"destroyed_turn": 5,
			"destroyed_by": "battle"
		},
		{
			"creature_id": 228,
			"name": "ãƒ‰ãƒ©ã‚´ãƒ³ã‚¾ãƒ³ãƒ“",
			"destroyed_turn": 7,
			"destroyed_by": "spell"
		}
	],
	"player_2": [...]
}
```

### å¢“åœ°ã¸ã®è¿½åŠ 

```gdscript
func add_to_graveyard(player_id: String, creature_data: Dictionary) -> void:
	if not graveyard.has(player_id):
		graveyard[player_id] = []
	
	graveyard[player_id].append({
		"creature_id": creature_data["id"],
		"name": creature_data["name"],
		"destroyed_turn": current_turn,
		"destroyed_by": "battle"  # or "spell", "effect"
	})
```

### å¢“åœ°ã‹ã‚‰ã®å¾©æ´»

```gdscript
func revive_from_graveyard(player_id: String, creature_id: int) -> Dictionary:
	if not graveyard.has(player_id):
		return {}
	
	# å¢“åœ°ã‹ã‚‰è©²å½“ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã‚’æ¤œç´¢
	for i in range(graveyard[player_id].size()):
		if graveyard[player_id][i]["creature_id"] == creature_id:
			# å¢“åœ°ã‹ã‚‰å‰Šé™¤
			var creature_info = graveyard[player_id][i]
			graveyard[player_id].remove_at(i)
			
			# ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
			return CardDatabase.get_creature(creature_id)
	
	return {}
```

---

## å®Ÿè£…ãƒ•ãƒ­ãƒ¼

### 1. å¬å–šæ™‚ã®è‡ªå‹•å¾©æ´»ï¼ˆãƒ˜ãƒ«ã‚°ãƒ©ãƒã‚¤ãƒˆï¼‰

```
1. ãƒ˜ãƒ«ã‚°ãƒ©ãƒã‚¤ãƒˆã‚’å¬å–š
   â†“
2. ability_parsedã‚’ãƒã‚§ãƒƒã‚¯
   â†“
3. effect_type == "revive" && trigger == "on_summon"
   â†“
4. æ¡ä»¶ãƒã‚§ãƒƒã‚¯
   â”œâ”€ å¢“åœ°ã«ã‚µãƒ¼ãƒšãƒ³ãƒˆãƒ•ãƒ©ã‚¤ãŒå­˜åœ¨ã™ã‚‹ã‹ï¼Ÿ
   â””â”€ YES: å¾©æ´»å‡¦ç†ã¸ / NO: ä½•ã‚‚ã—ãªã„
   â†“
5. å¾©æ´»å‡¦ç†ã‚’å®Ÿè¡Œ
   â”œâ”€ å¢“åœ°ã‹ã‚‰ã‚µãƒ¼ãƒšãƒ³ãƒˆãƒ•ãƒ©ã‚¤ã‚’å–å¾—
   â”œâ”€ å¢“åœ°ã‹ã‚‰å‰Šé™¤
   â”œâ”€ ç©ºã„ã¦ã„ã‚‹è‡ªé ˜åœ°ã‚’æ¤œç´¢
   â”œâ”€ ã‚µãƒ¼ãƒšãƒ³ãƒˆãƒ•ãƒ©ã‚¤ã‚’é…ç½®
   â””â”€ UIã‚’æ›´æ–°
   â†“
6. å¾©æ´»å®Œäº†
```

### 2. å¾©æ´»å…ˆã‚¿ã‚¤ãƒ«ã®é¸æŠãƒ­ã‚¸ãƒƒã‚¯

```gdscript
func find_empty_own_land(player_id: String) -> Tile:
	var own_lands = board_system.get_player_tiles(player_id)
	
	# ç©ºã„ã¦ã„ã‚‹è‡ªé ˜åœ°ã‚’æ¤œç´¢
	for tile in own_lands:
		if tile.creature_data == null:
			return tile
	
	# ç©ºãåœ°ãŒãªã„å ´åˆ
	return null
```

### 3. å®Œå…¨ãªå¾©æ´»å‡¦ç†

```gdscript
func execute_revive_effect(
	player_id: String,
	creature_id: int,
	placement_type: String
) -> bool:
	# 1. å¢“åœ°ã‹ã‚‰å¾©æ´»
	var creature_data = revive_from_graveyard(player_id, creature_id)
	if creature_data.is_empty():
		print("å¢“åœ°ã«å¯¾è±¡ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãŒå­˜åœ¨ã—ã¾ã›ã‚“")
		return false
	
	# 2. é…ç½®å…ˆã‚’æ±ºå®š
	var target_tile = null
	if placement_type == "auto":
		target_tile = find_empty_own_land(player_id)
	elif placement_type == "select":
		# ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«é¸æŠã•ã›ã‚‹ï¼ˆUIå®Ÿè£…æ™‚ï¼‰
		target_tile = await select_tile_from_player(player_id)
	
	if target_tile == null:
		print("é…ç½®ã§ãã‚‹ã‚¿ã‚¤ãƒ«ãŒã‚ã‚Šã¾ã›ã‚“")
		# å¢“åœ°ã«æˆ»ã™
		add_to_graveyard(player_id, creature_data)
		return false
	
	# 3. ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã‚’é…ç½®
	creature_data["owner_id"] = player_id
	creature_data["permanent_effects"] = []
	creature_data["temporary_effects"] = []
	target_tile.creature_data = creature_data
	
	# 4. UIæ›´æ–°
	update_creature_visual(target_tile)
	
	print("%s ãŒå¾©æ´»ã—ã¾ã—ãŸï¼" % creature_data["name"])
	return true
```

---

## ä»Šå¾Œã®å®Ÿè£…äºˆå®š

### Phase 2: ã‚¢ã‚¤ãƒ†ãƒ ã«ã‚ˆã‚‹å¾©æ´»
- ãƒã‚¯ãƒ­ã‚¹ã‚«ãƒ©ãƒ™ï¼ˆID: 1046ï¼‰â†’ ã‚¹ã‚±ãƒ«ãƒˆãƒ³å¾©æ´»
- ãã®ä»–ã‚¢ã‚¤ãƒ†ãƒ 

**è¿½åŠ å®Ÿè£…**:
- ã‚¢ã‚¤ãƒ†ãƒ ä½¿ç”¨æ™‚ã®å¾©æ´»å‡¦ç†
- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ã‚ˆã‚‹é…ç½®å…ˆé¸æŠ

### Phase 3: ã‚¹ãƒšãƒ«ã«ã‚ˆã‚‹å¾©æ´»
- å¾©æ´»ã‚¹ãƒšãƒ«ï¼ˆå°†æ¥å®Ÿè£…ï¼‰
- ã‚°ãƒ«ãƒ¼ãƒ—é¸æŠå¾©æ´»
- ä»»æ„é¸æŠå¾©æ´»

**è¿½åŠ å®Ÿè£…**:
- å¢“åœ°ã‹ã‚‰ã®é¸æŠUI
- è¤‡æ•°å¾©æ´»å‡¦ç†

### Phase 4: æ¡ä»¶ä»˜ãå¾©æ´»
- ç‰¹å®šæ¡ä»¶ã§ã®è‡ªå‹•å¾©æ´»
- ã‚¿ãƒ¼ãƒ³çµŒéå¾Œã®å¾©æ´»
- ãã®ä»–ç‰¹æ®Šå¾©æ´»

---

## æ¤œè¨äº‹é …

### æœªæ±ºå®šäº‹é …

1. **å¾©æ´»æ™‚ã®ã‚¢ã‚¤ãƒ†ãƒ **
   - ç ´å£Šæ™‚ã«è£…å‚™ã—ã¦ã„ãŸã‚¢ã‚¤ãƒ†ãƒ ã®æ‰±ã„
   - å¾©æ´»æ™‚ã«å†è£…å‚™ã™ã‚‹ã‹
   - â†’ ã‚¢ã‚¤ãƒ†ãƒ ã¯å¤±ã‚ã‚Œã‚‹ï¼ˆè¦ç¢ºèªï¼‰

2. **å¾©æ´»æ™‚ã®HP**
   - å…ƒã®HPã§å¾©æ´»ã™ã‚‹ã‹
   - ç ´å£Šæ™‚ã®HPã§å¾©æ´»ã™ã‚‹ã‹
   - â†’ å…ƒã®HPï¼ˆåŸºç¤HPï¼‰ã§å¾©æ´»

3. **å¢“åœ°ã®ä¸Šé™**
   - å¢“åœ°ã«ä¿å­˜ã™ã‚‹ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼æ•°ã®ä¸Šé™
   - å¤ã„ã‚‚ã®ã‹ã‚‰å‰Šé™¤ã™ã‚‹ã‹
   - â†’ æ¬¡å›ãƒãƒ£ãƒƒãƒˆã§æ±ºå®š

4. **å¾©æ´»ã®å„ªå…ˆé †ä½**
   - åŒã˜ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãŒè¤‡æ•°å¢“åœ°ã«ã‚ã‚‹å ´åˆ
   - æœ€æ–° or æœ€å¤
   - â†’ æœ€æ–°ã‚’å¾©æ´»ï¼ˆè¦ç¢ºèªï¼‰

5. **å¾©æ´»å¤±æ•—æ™‚ã®å‡¦ç†**
   - é…ç½®å…ˆãŒãªã„å ´åˆ
   - å¢“åœ°ã«ã„ãªã„å ´åˆ
   - â†’ ä½•ã‚‚ã—ãªã„ï¼ˆã‚µã‚¤ãƒ¬ãƒ³ãƒˆå¤±æ•—ï¼‰

---

## å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å¤‰æ›´å†…å®¹ |
|------|-----------|---------|
| 2025/10/24 | 1.0 | åˆç‰ˆä½œæˆ - æ­»è€…å¾©æ´»åŠ¹æœã®åŸºæœ¬è¨­è¨ˆ |

---

**æœ€çµ‚æ›´æ–°**: 2025å¹´10æœˆ24æ—¥ï¼ˆv1.0ï¼‰
