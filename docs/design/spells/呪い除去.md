# 刻印除去システム

## 概要
刻印を除去するスペルとアルカナアーツの実装。

## 実装ファイル
- `scripts/spells/spell_purify.gd` - 刻印除去クラス
- `data/spell_mystic.json` - アルカナアーツ定義（9024〜9026）

## スペル

| ID | 名前 | コスト | 効果 |
|----|------|--------|------|
| 2073 | ピュアリファイ | MP20 | 全刻印を消し、消した刻印の種類×50EPを得る |

### 対象となる刻印
- クリーチャー刻印（全タイル）
- プレイヤー刻印（全プレイヤー）
- 世界刻印

### 蓄魔の計算
- 同じ刻印タイプが複数あっても1種類としてカウント
- 例: 3体に「消沈」→ 1種類 = 50EP

## アルカナアーツ

| ID | 名前 | コスト | 効果 | 使用クリーチャー |
|----|------|--------|------|------------------|
| 9024 | ディスペル | 30EP | 対象ドミニオの刻印を消す | アーキビショップ(403) |
| 9025 | ワールドディスペル | 50EP | 世界刻印を消す | ウリエル(4) |
| 9026 | 浄化の炎 | 30EP | 全セプターの刻印を消す | シャラザード(17) |

## effect_type一覧

| effect_type | 説明 |
|-------------|------|
| `purify_all` | 全刻印除去（2073） |
| `remove_creature_curse` | ディスペル（アルカナアーツ9024） |
| `remove_world_curse` | ワールドディスペル（アルカナアーツ9025） |
| `remove_all_player_curses` | 浄化の炎（アルカナアーツ9026） |

## SpellPurifyクラス メソッド

```
purify_all(caster_id) -> Dictionary
  全刻印を除去し、種類×50EPを獲得
  戻り値: {removed_types: Array, gold_gained: int}

remove_creature_curse(tile_index) -> Dictionary
  対象ドミニオのクリーチャー刻印を除去

remove_world_curse() -> Dictionary
  世界刻印を除去

remove_all_player_curses() -> int
  全プレイヤーの刻印を除去
  戻り値: 除去した刻印の数
```

## 関連システム
- `spell_curse.gd` - 刻印付与・管理
- `spell_curse_stat.gd` - ステータス変更刻印
- `spell_curse_battle.gd` - 戦闘関連刻印
- `spell_curse_toll.gd` - 通行料関連刻印
