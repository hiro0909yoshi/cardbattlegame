# クリーチャー交換

## 概要

盤面クリーチャーの位置交換、または盤面と手札間でクリーチャーを交換するスペル。

---

## 対象スペル

| ID | 名前 | コスト | 効果 |
|----|------|--------|------|
| 2013 | エクスチェンジ | 60G | 対象自クリーチャーを手札のクリーチャーと交換 |
| 2126 | リリーフ | 30G | 2体の対象自クリーチャーを交換；復帰[ブック] |

---

## 効果タイプ

| effect_type | 説明 |
|-------------|------|
| `swap_with_hand` | 盤面⇔手札の交換 |
| `swap_board_creatures` | 盤面⇔盤面の交換 |

---

## 実装

**クラス**: `scripts/spells/spell_creature_swap.gd`

**呼び出し元**: SpellPhaseHandler._apply_single_effect()

---

## 交換後の状態

| パターン | HP | 状態 |
|----------|-----|------|
| 手札→盤面 | 最大値 | ダウン |
| 盤面→手札 | リセット | - |
| 盤面→盤面 | 維持 | 両方ダウン |

---

## JSON定義

### エクスチェンジ
```json
{
  "effect_parsed": {
	"target_type": "creature",
	"target_info": { "owner_filter": "own" },
	"effects": [{ "effect_type": "swap_with_hand" }]
  }
}
```

### リリーフ
```json
{
  "return_to_deck": true,
  "effect_parsed": {
	"target_type": "creature",
	"target_info": { "owner_filter": "own" },
	"effects": [{ "effect_type": "swap_board_creatures" }]
  }
}
```

---

## 備考

- 手札に戻るクリーチャーは `CardSystem._get_clean_card_data()` でクリーンな状態にリセット
- リリーフは常に復帰[ブック]（成功/失敗に関わらずデッキに戻る）
