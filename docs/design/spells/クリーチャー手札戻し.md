# クリーチャー手札戻し

## 概要

盤面のクリーチャーを所有者の手札に戻すスペル。

---

## 対象スペル

| ID | 名前 | コスト | 効果 | 条件 |
|----|------|--------|------|------|
| 2012 | エグザイル | 100G | 対象クリーチャーを手札に戻す | 呪い付き＆召喚条件なし |
| 2076 | フィアー | 80G | 最もMHPの低いクリーチャーを手札に戻す | 対象セプター指定 |
| 2097 | ホーリーバニッシュ | 60G | 属性違いのクリーチャーを手札に戻す | 対象指定 |

---

## 効果タイプ

| effect_type | 説明 | 対象スペル |
|-------------|------|-----------|
| `return_to_hand` | クリーチャーを手札に戻す | 全3種 |

---

## 実装

**クラス**: `scripts/spells/spell_creature_return.gd`（新規作成）

**呼び出し元**: SpellPhaseHandler._apply_single_effect()

---

## ターゲット条件

### エグザイル (2012)
- `target_type`: creature
- `owner_filter`: any
- 条件: 呪い付き（curse あり）かつ召喚条件なし（cost_lands_required なし）

### フィアー (2076)
- `target_type`: player
- `owner_filter`: any
- 効果: 対象プレイヤーの最もMHPの低いクリーチャーを自動選択

### ホーリーバニッシュ (2097)
- `target_type`: creature
- `owner_filter`: any
- 条件: クリーチャーの属性と土地の属性が異なる

---

## 手札戻し後の状態

| 項目 | 処理 |
|------|------|
| クリーチャーデータ | `CardSystem._get_clean_card_data()` でリセット |
| 土地 | クリーチャーなし（空地ではない、所有権維持） |

---

## JSON定義例

### エグザイル (2012)
```json
{
  "effect_parsed": {
	"target_type": "creature",
	"target_info": {
	  "owner_filter": "any",
	  "has_curse": true,
	  "no_summon_condition": true
	},
	"effects": [{ "effect_type": "return_to_hand" }]
  }
}
```

### フィアー (2076)
```json
{
  "effect_parsed": {
	"target_type": "player",
	"target_info": { "owner_filter": "any" },
	"effects": [{
	  "effect_type": "return_to_hand",
	  "select_by": "lowest_mhp"
	}]
  }
}
```

### ホーリーバニッシュ (2097)
```json
{
  "effect_parsed": {
	"target_type": "creature",
	"target_info": {
	  "owner_filter": "any",
	  "element_mismatch": true
	},
	"effects": [{ "effect_type": "return_to_hand" }]
  }
}
```

---

## 備考

- 手札に戻るクリーチャーは所有者の手札に戻る（使用者ではない）
- 土地の所有権は変わらない（クリーチャーがいなくなるだけ）
