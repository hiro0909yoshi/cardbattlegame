# é­”åŠ›å¢—æ¸›åŠ¹æœ

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 2.3  
**æœ€çµ‚æ›´æ–°**: 2025å¹´11æœˆ28æ—¥

---

## æ¦‚è¦

é­”åŠ›æ“ä½œå‡¦ç†ã®æ±ç”¨åŒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€‚ãƒãƒˆãƒ«å†…å¤–ã§é­”åŠ›ã®å¢—æ¸›ãƒ»å¥ªå–ã‚’æ‰±ã†ã€‚

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `scripts/spells/spell_magic.gd`

**åˆæœŸåŒ–**:
```gdscript
# GameFlowManager.setup_systems()
spell_magic = SpellMagic.new()
spell_magic.setup(player_system)
```

---

## å®Ÿè£…æ–¹é‡

### åŠ¹æœãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†é¡

æœªå®Ÿè£…11å€‹ã®ã‚¹ãƒšãƒ«ã¯ä»¥ä¸‹ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åˆ†é¡ã•ã‚Œã‚‹ï¼š

| ãƒ‘ã‚¿ãƒ¼ãƒ³ | ã‚¹ãƒšãƒ« | å…±é€šåŒ– |
|---------|--------|--------|
| ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸å¥ªå– | ãƒ‰ãƒ¬ã‚¤ãƒ³ãƒã‚¸ãƒƒã‚¯(30%), ãƒ‰ãƒ¬ã‚¤ãƒ³ã‚·ã‚¸ãƒ«(10%), ãƒ•ãƒ©ã‚¯ã‚·ãƒ§ãƒ³(30%+æ¡ä»¶) | æ—¢å­˜ã®`drain_magic_from_effect`ã§å¯¾å¿œå¯ |
| ä¹—ç®—å‹ç²å¾— | ãƒãƒŠ(å‘¨å›Ã—50), ã‚¹ãƒ”ãƒ¼ãƒ‰ãƒšãƒŠãƒ«ãƒ†ã‚£(å‘¨å›å·®Ã—100), ãƒ©ãƒ³ãƒ‰ãƒ‰ãƒ¬ã‚¤ãƒ³(é ˜åœ°æ•°Ã—30), ã‚¤ãƒ³ã‚·ãƒãƒ¬ãƒ¼ãƒˆ(ç ´å£Šæ•°Ã—20) | æ±ç”¨è¨ˆç®—é–¢æ•°ã§çµ±ä¸€ |
| å‚ç…§å‹ | ã‚¯ãƒ¬ã‚¢ãƒœãƒ¤ãƒ³ã‚¹(æ•µã‚¹ãƒšãƒ«é­”åŠ›Ã—50%) | CardSystemã§æ‰‹æœ­å–å¾— |
| å‘ªã„/ãƒˆãƒªã‚¬ãƒ¼ | ãƒã‚¦ãƒ³ãƒ†ã‚£ãƒãƒ³ãƒˆ(æ•µç ´å£Šæ™‚G300) | SpellCurseé€£æº |
| ã‚°ãƒ­ãƒ¼ãƒãƒ« | ãƒ¬ãƒ‡ã‚£ãƒ“ã‚¸ãƒ§ãƒ³(å¹³å‡åŒ–) | å˜ç‹¬å®Ÿè£… |
| å¯†å‘½+æ¡ä»¶ | ãƒ­ãƒ³ã‚°ãƒ©ã‚¤ãƒ³(4é€£ç¶šã§G500) | BoardSystemé€£æº |

### æ±ç”¨è¨ˆç®—é–¢æ•°

ä¹—ç®—å‹ç²å¾—ã‚’çµ±ä¸€ã™ã‚‹ãŸã‚ã®æ±ç”¨é–¢æ•°ï¼š

```gdscript
func gain_magic_calculated(player_id: int, multiplier: int, context_key: String, context: Dictionary) -> int:
	# context_key = "lap_count", "land_count", "destroy_count" ãªã©
	var base_value = context.get(context_key, 0)
	var amount = base_value * multiplier
	add_magic(player_id, amount)
	return amount
```

### ãƒã‚¦ãƒ³ãƒ†ã‚£ãƒãƒ³ãƒˆå®Ÿè£…æ–¹é‡

SpellMagicã§å‘ªã„ä»˜ä¸ã€BattleSystemã§ãƒˆãƒªã‚¬ãƒ¼ã€é­”åŠ›ç²å¾—ã¯SpellMagicã«é›†ç´„ï¼š

| å‡¦ç† | æ‹…å½“ |
|-----|------|
| å‘ªã„ã€Œè³é‡‘é¦–ã€ä»˜ä¸ | SpellMagicï¼ˆSpellCurse.curse_playerã‚’åˆ©ç”¨ï¼‰ |
| æ•µç ´å£Šæ™‚ãƒˆãƒªã‚¬ãƒ¼ | BattleSystem |
| é­”åŠ›G300ç²å¾— | SpellMagic |

```gdscript
# SpellMagicå´
func apply_bounty_curse(target_player_id: int, caster_id: int, amount: int, duration: int):
	spell_curse_ref.curse_player(target_player_id, "bounty", duration, {
		"name": "è³é‡‘é¦–",
		"amount": amount,
		"caster_id": caster_id
	})

func trigger_bounty_reward(defeated_player_id: int) -> int:
	var curse = spell_curse_ref.get_player_curse(defeated_player_id)
	if curse.get("curse_type") != "bounty":
		return 0
	var caster_id = curse.get("caster_id", -1)
	var amount = curse.get("params", {}).get("amount", 300)
	add_magic(caster_id, amount)
	spell_curse_ref.remove_curse_from_player(defeated_player_id)
	return amount
```

---

## ä¾å­˜ãƒ‡ãƒ¼ã‚¿ã®å–å¾—æ–¹æ³•

### ç ´å£Šæ•°ã‚«ã‚¦ãƒ³ãƒˆ

`GameFlowManager.get_destroy_count()` ã§å–å¾—å¯èƒ½ã€‚

```gdscript
var destroy_count = game_flow_manager.get_destroy_count()
# game_state["total_creatures_destroyed"] ã§ç®¡ç†
```

### å‘¨å›æ•°

**ç¾çŠ¶**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ç´¯è¨ˆå‘¨å›æ•°ã¯ç®¡ç†ã•ã‚Œã¦ã„ãªã„ï¼ˆ`lap_completed`ã‚·ã‚°ãƒŠãƒ«ã¯ç™ºç«ã•ã‚Œã‚‹ãŒã‚«ã‚¦ãƒ³ãƒˆæœªä¿å­˜ï¼‰

**æ‹¡å¼µãŒå¿…è¦**:
```gdscript
# GameFlowManager._complete_lap() ã«è¿½åŠ 
player_lap_state[player_id]["lap_count"] += 1
```

### æ‰‹æœ­å‚ç…§ï¼ˆã‚¯ãƒ¬ã‚¢ãƒœãƒ¤ãƒ³ã‚¹ç”¨ï¼‰

`CardSystem.get_all_cards_for_player(player_id)` ã§æ•µæ‰‹æœ­ã‚’å–å¾—å¯èƒ½ã€‚

```gdscript
# SpellDraw.get_hand_creature_elements() ã®å®Ÿè£…ä¾‹ã‚’å‚è€ƒ
var hand = card_system_ref.get_all_cards_for_player(target_player_id)
var spell_cost_total = 0
for card in hand:
	if card.get("type", "") == "spell":
		spell_cost_total += card.get("cost", 0)
```

---

## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### 1. PlayerSystemå‚ç…§ã‚¨ãƒ©ãƒ¼

**å•é¡Œ**: `get_player_by_id()`ãƒ¡ã‚½ãƒƒãƒ‰ãŒå­˜åœ¨ã—ãªã„

**è§£æ±º**: `players[player_id]`ã§ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹

```gdscript
# âŒ é–“é•ã„
var player = player_system_ref.get_player_by_id(player_id)

# âœ… æ­£ã—ã„
if player_id >= 0 and player_id < player_system_ref.players.size():
	var player = player_system_ref.players[player_id]
```

### 2. ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã‚¨ãƒ©ãƒ¼

**å•é¡Œ**: `player.magic`ã¨ã„ã†ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯å­˜åœ¨ã—ãªã„

**è§£æ±º**: `player.magic_power`ã‚’ä½¿ç”¨

```gdscript
# âŒ é–“é•ã„
player.magic += amount

# âœ… æ­£ã—ã„
player.magic_power += amount
```

### 3. Nullå‚ç…§ã‚¨ãƒ©ãƒ¼

**å•é¡Œ**: `spell_magic_ref`ãŒ`null`

**åŸå› **: åˆæœŸåŒ–é †åºãŒé–“é•ã£ã¦ã„ã‚‹

**è§£æ±º**: `spell_magic`å–å¾—ã‚’å…ˆã«è¡Œã†ï¼ˆä¸Šè¨˜ã€Œã‚·ã‚¹ãƒ†ãƒ çµ±åˆã€å‚ç…§ï¼‰

---

## BattlePreparationã§ã®ã‚¹ã‚­ãƒƒãƒ—å‡¦ç†

ãƒãƒˆãƒ«æº–å‚™æ™‚ã«ä»¥ä¸‹ã®åŠ¹æœã‚¿ã‚¤ãƒ—ã¯ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹ï¼ˆç‰¹å®šã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å‡¦ç†ã•ã‚Œã‚‹ãŸã‚ï¼‰:

```gdscript
# battle_preparation.gd - apply_item_effects()
match effect_type:
	"legacy_magic":
		# éºç”£åŠ¹æœã¯æ­»äº¡æ™‚ã«å‡¦ç†ã•ã‚Œã‚‹ãŸã‚ã€ã“ã“ã§ã¯ä½•ã‚‚ã—ãªã„
		pass
	
	"magic_from_damage":
		# é­”åŠ›ç²å¾—ï¼ˆãƒ€ãƒ¡ãƒ¼ã‚¸ï¼‰åŠ¹æœã¯ãƒ€ãƒ¡ãƒ¼ã‚¸å—ã‘å–ã‚Šæ™‚ã«å‡¦ç†ã•ã‚Œã‚‹ãŸã‚ã€ã“ã“ã§ã¯ä½•ã‚‚ã—ãªã„
		pass
	
	"magic_on_enemy_survive":
		# é­”åŠ›ç²å¾—ï¼ˆæ•µéç ´å£Šï¼‰åŠ¹æœã¯ãƒãƒˆãƒ«çµæœç¢ºå®šå¾Œã«å‡¦ç†ã•ã‚Œã‚‹ãŸã‚ã€ã“ã“ã§ã¯ä½•ã‚‚ã—ãªã„
		pass
```

---

## å®Ÿè£…å¯¾è±¡ã‚¹ãƒšãƒ«ä¸€è¦§ï¼ˆå…¨16å€‹ï¼‰

### âœ… å®Ÿè£…æ¸ˆã¿ï¼ˆ5å€‹ï¼‰

| ID | åå‰ | effect_type | å‡¦ç†å†…å®¹ | çŠ¶æ…‹ |
|----|------|-------------|---------|------|
| 2004 | ã‚¢ã‚»ãƒ³ãƒ–ãƒ«ã‚«ãƒ¼ãƒ‰ | check_hand_elements â†’ gain_magic | æ‰‹æœ­ã«4å±æ€§ã‚ã‚Š â†’ G500 | âœ… |
| 2020 | ã‚®ãƒ•ãƒˆ | gain_magic_by_rank | é †ä½Ã—G50ç²å¾— | âœ… |
| 2038 | ã‚¹ã‚¯ã‚¤ãƒ¼ã‚º | destroy_selected_card + magic_bonus | æ•µã‚«ãƒ¼ãƒ‰ç ´å£Š â†’ G150ãƒœãƒ¼ãƒŠã‚¹ | âœ… |
| 2051 | ãƒãƒ£ãƒ¼ã‚¸ã‚¹ãƒ†ãƒƒãƒ— | dice_range_magic + magic | ãƒ€ã‚¤ã‚¹å‘ªã„(2ï½4) + G50ç²å¾—(2R) | âœ… |
| 2118 | ãƒ©ãƒ³ãƒ‰ãƒˆãƒ©ãƒ³ã‚¹ | gain_magic_from_land_value | è‡ªé ˜åœ°æ”¾æ£„â†’ä¾¡å€¤Ã—70%ç²å¾— | âœ… |

### âŒ æœªå®Ÿè£…ãƒ»è¦å®Ÿè£…ï¼ˆ11å€‹ï¼‰

| ID | åå‰ | effect_type | å‡¦ç†å†…å®¹ | å„ªå…ˆåº¦ |
|----|------|-------------|---------|--------|
| 2007 | ã‚¤ãƒ³ã‚·ãƒãƒ¬ãƒ¼ãƒˆ | gain_magic_from_destroyed_count | ç ´å£Šæ•°Ã—G20 | HIGH |
| 2025 | ã‚¯ãƒ¬ã‚¢ãƒœãƒ¤ãƒ³ã‚¹ | gain_magic_from_spell_cost | æ•µã‚¹ãƒšãƒ«é­”åŠ›åˆè¨ˆÃ—50% | HIGH |
| 2044 | ã‚¹ãƒ”ãƒ¼ãƒ‰ãƒšãƒŠãƒ«ãƒ†ã‚£ | drain_magic_by_rank_diff | æœ€å¤šå‘¨å›æ•°ã¨ã®å·®Ã—G100å¥ªå– | HIGH |
| 2062 | ãƒ‰ãƒ¬ã‚¤ãƒ³ã‚·ã‚¸ãƒ« | mystic_arts_drain_magic | ç§˜è¡“ï¼šæ•µé­”åŠ›10%å¥ªå–(G20) | MEDIUM |
| 2063 | ãƒ‰ãƒ¬ã‚¤ãƒ³ãƒã‚¸ãƒƒã‚¯ | drain_magic (percentage) | æ•µé­”åŠ›30%å¥ªå– | HIGH |
| 2069 | ãƒã‚¦ãƒ³ãƒ†ã‚£ãƒãƒ³ãƒˆ | gain_magic_on_defeat | å‘ªã„ã€Œè³é‡‘é¦–ã€ï¼šæ•µç ´å£Šæ™‚G300 | MEDIUM |
| 2082 | ãƒ•ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ | drain_magic (æ¡ä»¶ä»˜ã) | å¯†å‘½ï¼šè‡ªåˆ†ã‚ˆã‚Šé­”åŠ›å¤šã„æ•µã‹ã‚‰30%å¥ªå– | MEDIUM |
| 2109 | ãƒãƒŠ | gain_magic_by_rank | å‘¨å›æ•°Ã—G50ç²å¾— | HIGH |
| 2119 | ãƒ©ãƒ³ãƒ‰ãƒ‰ãƒ¬ã‚¤ãƒ³ | drain_magic (è¨ˆç®—å‹) | æ•µé ˜åœ°æ•°Ã—G30å¥ªå– | HIGH |
| 2130 | ãƒ¬ãƒ‡ã‚£ãƒ“ã‚¸ãƒ§ãƒ³ | balance_all_magic | å…¨ã‚»ãƒ—ã‚¿ãƒ¼é­”åŠ›å¹³å‡åŒ– | LOW |
| 2131 | ãƒ­ãƒ³ã‚°ãƒ©ã‚¤ãƒ³ | gain_magic_from_land_chain | å¯†å‘½ï¼šè‡ªé ˜åœ°4é€£ç¶š â†’ G500 | LOW |

### ğŸ”´ æœªå®Ÿè£…ãƒ»è¦è¿½åŠ å®Ÿè£…ï¼ˆ8å€‹ï¼‰

| ID | åå‰ | effect_type | å‡¦ç†å†…å®¹ | ä¾å­˜ã‚·ã‚¹ãƒ†ãƒ  | å„ªå…ˆåº¦ |
|----|------|-------------|---------|-----------|--------|
| 2007 | ã‚¤ãƒ³ã‚·ãƒãƒ¬ãƒ¼ãƒˆ | gain_magic_from_destroyed_count | ç ´å£Šã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼æ•°Ã—G20 | BattleParticipant.destroy_count | HIGH |
| 2025 | ã‚¯ãƒ¬ã‚¢ãƒœãƒ¤ãƒ³ã‚¹ | gain_magic_from_spell_cost | æ•µã‚¹ãƒšãƒ«é­”åŠ›åˆè¨ˆÃ—50%ç²å¾— | CardSystem | HIGH |
| 2044 | ã‚¹ãƒ”ãƒ¼ãƒ‰ãƒšãƒŠãƒ«ãƒ†ã‚£ | drain_magic_by_rank_diff | æœ€å¤šå‘¨å›æ•°ã¨ã®å·®Ã—G100å¥ªå– | PlayerSystem | HIGH |
| 2062 | ãƒ‰ãƒ¬ã‚¤ãƒ³ã‚·ã‚¸ãƒ« | mystic_arts_drain_magic | ç§˜è¡“ç™ºå‹•ï¼šæ•µé­”åŠ›10%å¥ªå–(G20) | SpellMysticArts | MEDIUM |
| 2069 | ãƒã‚¦ãƒ³ãƒ†ã‚£ãƒãƒ³ãƒˆ | gain_magic_on_defeat | å‘ªã„ã€Œè³é‡‘é¦–ã€ï¼šæ•µç ´å£Šæ™‚G300 | BattleSystem | MEDIUM |
| 2118 | ãƒ©ãƒ³ãƒ‰ãƒˆãƒ©ãƒ³ã‚¹ | gain_magic_from_land_value | è‡ªé ˜åœ°æ”¾æ£„â†’ä¾¡å€¤Ã—70%ç²å¾— | SpellLand.get_land_value() | MEDIUM |
| 2130 | ãƒ¬ãƒ‡ã‚£ãƒ“ã‚¸ãƒ§ãƒ³ | balance_all_magic | å…¨ã‚»ãƒ—ã‚¿ãƒ¼é­”åŠ›å¹³å‡åŒ– | PlayerSystem | LOW |
| 2131 | ãƒ­ãƒ³ã‚°ãƒ©ã‚¤ãƒ³ | gain_magic_from_land_chain | å¯†å‘½ï¼šè‡ªé ˜åœ°4é€£ç¶š â†’ G500 | BoardSystem | LOW |

---

## å®Ÿè£…è¨ˆç”»ãƒ»ã‚¿ã‚¹ã‚¯ç®¡ç†

### Phase 1: æœªå®Ÿè£…ã‚¹ãƒšãƒ«ã®å®Ÿè£…ï¼ˆ3æ™‚é–“ï¼‰
- [ ] 2063 ãƒ‰ãƒ¬ã‚¤ãƒ³ãƒã‚¸ãƒƒã‚¯ï¼šdrain_magic ã®ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸å‡¦ç†ï¼ˆ30%å¥ªå–ï¼‰
- [ ] 2082 ãƒ•ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ï¼šã€Œè‡ªåˆ†ã‚ˆã‚Šé­”åŠ›å¤šã„æ•µã€ã®æ¡ä»¶åˆ¤å®šè¿½åŠ 
- [ ] 2119 ãƒ©ãƒ³ãƒ‰ãƒ‰ãƒ¬ã‚¤ãƒ³ï¼šæ•µé ˜åœ°æ•° Ã— G30 ã®è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…

### Phase 2: è¨ˆç®—ãƒ»å‚ç…§å‹åŠ¹æœï¼ˆ3æ™‚é–“ï¼‰
- [ ] 2007 ã‚¤ãƒ³ã‚·ãƒãƒ¬ãƒ¼ãƒˆï¼šç ´å£Šã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼æ•°ã‚«ã‚¦ãƒ³ãƒˆ Ã— G20
- [ ] 2025 ã‚¯ãƒ¬ã‚¢ãƒœãƒ¤ãƒ³ã‚¹ï¼šæ•µæ‰‹æœ­ã‚¹ãƒšãƒ«é­”åŠ›åˆè¨ˆ Ã— 50% ç²å¾—
- [ ] 2044 ã‚¹ãƒ”ãƒ¼ãƒ‰ãƒšãƒŠãƒ«ãƒ†ã‚£ï¼šæœ€å¤šå‘¨å›æ•°ã¨ã®å·® Ã— G100 å¥ªå–
- [ ] 2109 ãƒãƒŠï¼šå‘¨å›æ•° Ã— G50 ç²å¾—å‡¦ç†ã®å®Ÿè£…

### Phase 3: ç§˜è¡“ãƒ»å‘ªã„ãƒ»æˆ¦é—˜ãƒˆãƒªã‚¬ãƒ¼é€£æºï¼ˆ3æ™‚é–“ï¼‰
- [ ] 2062 ãƒ‰ãƒ¬ã‚¤ãƒ³ã‚·ã‚¸ãƒ«ï¼šç§˜è¡“ã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºã—æ•µé­”åŠ›10%å¥ªå–(G20)
- [ ] 2069 ãƒã‚¦ãƒ³ãƒ†ã‚£ãƒãƒ³ãƒˆï¼šæ•µæ’ƒç ´æ™‚ãƒˆãƒªã‚¬ãƒ¼ã§ G300 ç²å¾—
- [ ] 2131 ãƒ­ãƒ³ã‚°ãƒ©ã‚¤ãƒ³ï¼šé ˜åœ°4é€£ç¶šåˆ¤å®šã§ G500 ç²å¾—

### Phase 4: ã‚°ãƒ­ãƒ¼ãƒãƒ«åŠ¹æœï¼ˆ1æ™‚é–“ï¼‰
- [ ] 2130 ãƒ¬ãƒ‡ã‚£ãƒ“ã‚¸ãƒ§ãƒ³ï¼šå…¨ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼é­”åŠ›ã‚’å¹³å‡åŒ–

**äºˆæƒ³ç·å·¥æ•°**: ç´„10æ™‚é–“ï¼ˆ11å€‹ã‚¹ãƒšãƒ«ã®æ–°è¦å®Ÿè£…ï¼‰

**å®Ÿè£…æ¸ˆã¿**: 5å€‹ï¼ˆ2004, 2020, 2038, 2051, 2118ï¼‰
**æœªå®Ÿè£…**: 11å€‹

**é–‹å§‹æ—¥**: 2025å¹´11æœˆ28æ—¥
**ç›®æ¨™å®Œäº†æ—¥**: 2025å¹´11æœˆ30æ—¥

---

## å®Ÿè£…é€²æ—

| ã‚¿ã‚¹ã‚¯ | çŠ¶æ…‹ | spells_tasks.md | å®Œäº†äºˆå®š |
|--------|------|--------|--------|
| 2004 ã‚¢ã‚»ãƒ³ãƒ–ãƒ«ã‚«ãƒ¼ãƒ‰ | âœ… å®Œäº† | [x] å®Ÿè£…æ¸ˆã¿ | âœ… |
| 2007 ã‚¤ãƒ³ã‚·ãƒãƒ¬ãƒ¼ãƒˆ | â±ï¸ æœªé–‹å§‹ | [ ] æœªå®Ÿè£… | Phase 2 |
| 2020 ã‚®ãƒ•ãƒˆ | âœ… å®Œäº† | [x] å®Ÿè£…æ¸ˆã¿ | âœ… |
| 2025 ã‚¯ãƒ¬ã‚¢ãƒœãƒ¤ãƒ³ã‚¹ | â±ï¸ æœªé–‹å§‹ | [ ] æœªå®Ÿè£… | Phase 2 |
| 2038 ã‚¹ã‚¯ã‚¤ãƒ¼ã‚º | âœ… å®Œäº† | [x] å®Ÿè£…æ¸ˆã¿ | âœ… |
| 2044 ã‚¹ãƒ”ãƒ¼ãƒ‰ãƒšãƒŠãƒ«ãƒ†ã‚£ | â±ï¸ æœªé–‹å§‹ | [ ] æœªå®Ÿè£… | Phase 2 |
| 2051 ãƒãƒ£ãƒ¼ã‚¸ã‚¹ãƒ†ãƒƒãƒ— | âœ… å®Œäº† | [x] å®Ÿè£…æ¸ˆã¿ | âœ… |
| 2062 ãƒ‰ãƒ¬ã‚¤ãƒ³ã‚·ã‚¸ãƒ« | â±ï¸ æœªé–‹å§‹ | [ ] æœªå®Ÿè£… | Phase 3 |
| 2063 ãƒ‰ãƒ¬ã‚¤ãƒ³ãƒã‚¸ãƒƒã‚¯ | â±ï¸ æœªé–‹å§‹ | [ ] æœªå®Ÿè£… | Phase 1 |
| 2069 ãƒã‚¦ãƒ³ãƒ†ã‚£ãƒãƒ³ãƒˆ | â±ï¸ æœªé–‹å§‹ | [ ] æœªå®Ÿè£… | Phase 3 |
| 2082 ãƒ•ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ | â±ï¸ æœªé–‹å§‹ | [ ] æœªå®Ÿè£… | Phase 1 |
| 2109 ãƒãƒŠ | â±ï¸ æœªé–‹å§‹ | [ ] æœªå®Ÿè£… | Phase 2 |
| 2118 ãƒ©ãƒ³ãƒ‰ãƒˆãƒ©ãƒ³ã‚¹ | âœ… å®Œäº† | [x] å®Ÿè£…æ¸ˆã¿ | âœ… |
| 2119 ãƒ©ãƒ³ãƒ‰ãƒ‰ãƒ¬ã‚¤ãƒ³ | â±ï¸ æœªé–‹å§‹ | [ ] æœªå®Ÿè£… | Phase 1 |
| 2130 ãƒ¬ãƒ‡ã‚£ãƒ“ã‚¸ãƒ§ãƒ³ | â±ï¸ æœªé–‹å§‹ | [ ] æœªå®Ÿè£… | Phase 4 |
| 2131 ãƒ­ãƒ³ã‚°ãƒ©ã‚¤ãƒ³ | â±ï¸ æœªé–‹å§‹ | [ ] æœªå®Ÿè£… | Phase 3 |

---

## ä»Šå¾Œã®æ‹¡å¼µ

### è¿½åŠ åŠ¹æœå€™è£œ

```gdscript
# ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸ãƒ™ãƒ¼ã‚¹ã®é­”åŠ›æ“ä½œ
"magic_percent_increase": {
	"effect_type": "magic_percent_increase",
	"percentage": 10  # ç¾åœ¨é­”åŠ›ã®10%å¢—åŠ 
}

# æ¡ä»¶ä»˜ãé­”åŠ›ç²å¾—
"magic_on_condition": {
	"effect_type": "magic_on_condition",
	"condition": "enemy_element",
	"elements": ["fire"],
	"amount": 300
}

# åœŸåœ°æ•°ã«å¿œã˜ãŸé­”åŠ›ç²å¾—
"magic_from_land_count": {
	"effect_type": "magic_from_land_count",
	"multiplier": 50,  # æ‰€æœ‰åœŸåœ°æ•° Ã— 50G
	"elements": ["fire", "earth"]  # ç‰¹å®šå±æ€§ã®ã¿
}
```

---

## ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°

é­”åŠ›å¢—æ¸›æ™‚ã«ã¯ä»¥ä¸‹ã®ãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã‚‹:

```
[é­”åŠ›å¢—åŠ ] ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼1 +200G â†’ åˆè¨ˆ:3200G
[é­”åŠ›æ¸›å°‘] ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼2 -100G â†’ åˆè¨ˆ:2700G
[é­”åŠ›å¥ªå–] ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼2 -300G â†’ ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼1 +300G
ã€é­”åŠ›ç²å¾—(ãƒ€ãƒ¡ãƒ¼ã‚¸)ã€‘ãƒ•ã‚§ã‚¤ã®ã‚¼ãƒ©ãƒãƒ³ã‚¢ãƒ¼ãƒãƒ¼ â†’ ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼1ãŒ150Gç²å¾—ï¼ˆãƒ€ãƒ¡ãƒ¼ã‚¸30Ã—5ï¼‰
ã€é­”åŠ›ç²å¾—(æ•µéç ´å£Š)ã€‘ã‚°ãƒ©ãƒ‡ã‚£ã‚¨ãƒ¼ã‚¿ãƒ¼ã®ã‚´ãƒ¼ãƒ«ãƒ‰ãƒãƒ³ãƒãƒ¼ â†’ ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼1ãŒ200Gç²å¾—
ã€éºç”£ç™ºå‹•ã€‘ã‚¢ãƒ¢ãƒ³ã®ã‚´ãƒ¼ãƒ«ãƒ‰ã‚°ãƒ¼ã‚¹ â†’ ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼1ãŒ210Gç²å¾—ï¼ˆMHP30Ã—7ï¼‰
```

---

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ã‚«ãƒ¼ãƒ‰ãƒ‰ãƒ­ãƒ¼åŠ¹æœ](./ã‚«ãƒ¼ãƒ‰ãƒ‰ãƒ­ãƒ¼.md) - SpellDrawã‚·ã‚¹ãƒ†ãƒ 
- [ã‚¹ãƒšãƒ«ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ](../spells_design.md) - å…¨ä½“è¨­è¨ˆ
- [ã‚¢ã‚¤ãƒ†ãƒ ã‚·ã‚¹ãƒ†ãƒ ](../../implementation/item_system.md) - ã‚¢ã‚¤ãƒ†ãƒ å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

---

**æœ€çµ‚æ›´æ–°**: 2025å¹´11æœˆ28æ—¥ï¼ˆv2.2 - spells_tasks.mdã‹ã‚‰æ­£ç¢ºãªå®Ÿè£…çŠ¶æ³ã‚’ç¢ºèªï¼šå®Ÿè£…æ¸ˆã¿5å€‹ã€æœªå®Ÿè£…11å€‹ï¼‰

---

## ğŸ“Œ å®Ÿè£…çŠ¶æ³ã®æ­£ç¢ºãªç¢ºèªï¼ˆ2025/11/28ï¼‰

spells_tasks.mdã‚’ç¢ºèªã—ãŸçµæœï¼š

**å®Ÿè£…æ¸ˆã¿ï¼ˆ5å€‹ï¼‰**ï¼š
- âœ… 2004 ã‚¢ã‚»ãƒ³ãƒ–ãƒ«ã‚«ãƒ¼ãƒ‰
- âœ… 2020 ã‚®ãƒ•ãƒˆ
- âœ… 2038 ã‚¹ã‚¯ã‚¤ãƒ¼ã‚º
- âœ… 2051 ãƒãƒ£ãƒ¼ã‚¸ã‚¹ãƒ†ãƒƒãƒ—
- âœ… 2118 ãƒ©ãƒ³ãƒ‰ãƒˆãƒ©ãƒ³ã‚¹

**æœªå®Ÿè£…ï¼ˆ11å€‹ï¼‰**ï¼š
- 2007, 2025, 2044, 2062, 2063, 2069, 2082, 2109, 2119, 2130, 2131

å®Ÿè£…è¨ˆç”»ã‚’æ­£ç¢ºã«ä¿®æ­£ã—ã¾ã—ãŸã€‚
