# æ¡ä»¶ä»˜ãã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ•ã‚·ã‚¹ãƒ†ãƒ çµ±åˆä»•æ§˜æ›¸

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: ã‚«ãƒ«ãƒ‰ã‚»ãƒ—ãƒˆé¢¨ã‚«ãƒ¼ãƒ‰ãƒãƒˆãƒ«ã‚²ãƒ¼ãƒ   
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0  
**ä½œæˆæ—¥**: 2025å¹´10æœˆ26æ—¥  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: Phase 3 å®Ÿè£…æº–å‚™ä¸­

---

## âš ï¸ å®Ÿè£…å‰ã«å¿…è¦ãªæ©Ÿèƒ½ã®è¿½åŠ 

æ¡ä»¶ä»˜ããƒãƒ•ã‚¹ã‚­ãƒ«ã®å®Ÿè£…ã«ã¯ã€ä»¥ä¸‹ã®æ©Ÿèƒ½ã®è¿½åŠ ãŒå¿…è¦ã§ã™ã€‚

è©³ç´°ãªå®Ÿè£…æ–¹æ³•ã¯ [required_features_for_buffs.md](./required_features_for_buffs.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### ğŸ”´ å¿…é ˆæ©Ÿèƒ½ï¼ˆæœªå®Ÿè£…ï¼‰

| æ©Ÿèƒ½ | å®Ÿè£…å ´æ‰€ | é›£æ˜“åº¦ | å¯¾è±¡ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ |
|------|---------|-------|----------------|
| ã‚¿ãƒ¼ãƒ³æ•°ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ | GameFlowManager | â˜…â˜†â˜† | ãƒ©ãƒ¼ãƒã‚­ãƒ³(47) |
| å‘¨å›å®Œäº†ã‚·ã‚°ãƒŠãƒ« | GameFlowManager | â˜…â˜…â˜† | ã‚­ãƒ¡ãƒ©(7), ãƒ¢ã‚¹ã‚¿ã‚¤ã‚¿ãƒ³(240) |
| åœŸåœ°ã‚¤ãƒ™ãƒ³ãƒˆ | BoardSystem3D | â˜…â˜…â˜† | ã‚¢ãƒ¼ã‚¹ã‚ºãƒ”ãƒªãƒƒãƒˆ(200), ãƒ‡ãƒ¥ãƒ¼ã‚¿ã‚¤ã‚¿ãƒ³(328) |
| ç ´å£Šã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ | GameData, BattleSystem | â˜…â˜…â˜† | ã‚½ã‚¦ãƒ«ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼(323), ãƒãƒ«ã‚­ãƒªãƒ¼(35)ãªã© |

### âœ… å®Ÿè£…å¯èƒ½ï¼ˆæ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ æ´»ç”¨ï¼‰

| æ©Ÿèƒ½ | å®Ÿè£…å ´æ‰€ | çŠ¶æ³ | å¯¾è±¡ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ |
|------|---------|------|----------------|
| æ‰‹æœ­æ•°å–å¾— | BattleSkillProcessor | CardSystemæ´»ç”¨ | ãƒªãƒªã‚¹(146) |
| ãƒ‡ãƒƒã‚­æšæ•°æ¯”è¼ƒ | BattleSkillProcessor | CardSystemæ”¹ä¿®å¿…è¦ | ã‚³ã‚¢ãƒˆãƒªã‚¯ã‚¨(214) |

### å®Ÿè£…å„ªå…ˆé †ä½

1. ~~**ã‚¿ãƒ¼ãƒ³æ•°ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼**ï¼ˆæœ€å„ªå…ˆã€ç°¡å˜ï¼‰~~ âœ… **å®Ÿè£…å®Œäº†** (2025-10-27)
2. **æ‰‹æœ­æ•°å–å¾—**ï¼ˆã™ãå®Ÿè£…å¯èƒ½ï¼‰
3. **ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ç ´å£Šã‚«ã‚¦ãƒ³ã‚¿ãƒ¼**ï¼ˆé‡è¦ï¼‰
4. ~~**å‘¨å›å®Œäº†ã‚·ã‚°ãƒŠãƒ«**ï¼ˆã‚„ã‚„è¤‡é›‘ï¼‰~~ âœ… **å®Ÿè£…å®Œäº†** (2025-10-27)
5. **åœŸåœ°ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—/åœ°å½¢å¤‰åŒ–ã‚¤ãƒ™ãƒ³ãƒˆ**ï¼ˆã‚„ã‚„è¤‡é›‘ï¼‰

---

## ğŸ“‹ å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½è©³ç´°

### âœ… å‘¨å›å®Œäº†ã‚·ã‚°ãƒŠãƒ« (2025-10-27)
- **å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `GameFlowManager`, `CheckpointTile`, `MovementController`
- **å¯¾è±¡ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼**: ã‚­ãƒ¡ãƒ©(7), ãƒ¢ã‚¹ã‚¿ã‚¤ã‚¿ãƒ³(240)
- **è©³ç´°ä»•æ§˜**: [lap_system.md](./lap_system.md) å‚ç…§

### âœ… ãƒ©ã‚¦ãƒ³ãƒ‰æ•°ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ (2025-10-27)
- **å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**: `GameFlowManager`, `BattleSkillProcessor`, `ConditionChecker`
- **å¯¾è±¡ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼**: ãƒ©ãƒ¼ãƒã‚­ãƒ³(47)
- **è©³ç´°ä»•æ§˜**: [turn_number_system.md](./turn_number_system.md) å‚ç…§
- **é‡è¦**: ã‚¿ãƒ¼ãƒ³åˆ¶ã§ã¯ãªã**ãƒ©ã‚¦ãƒ³ãƒ‰åˆ¶**ï¼ˆå…¨ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒ1å›ãšã¤è¡Œå‹•ã§+1ï¼‰

---

---

## ğŸ“‹ ç›®æ¬¡

1. [æ¦‚è¦](#æ¦‚è¦)
2. [å…¨ä½“è¨­è¨ˆ](#å…¨ä½“è¨­è¨ˆ)
3. [effect_type å®šç¾©](#effect_type-å®šç¾©)
4. [ã‚«ãƒ†ã‚´ãƒªåˆ¥å®Ÿè£…ä»•æ§˜](#ã‚«ãƒ†ã‚´ãƒªåˆ¥å®Ÿè£…ä»•æ§˜)
5. [å®Ÿè£…å„ªå…ˆåº¦ã¨ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—](#å®Ÿè£…å„ªå…ˆåº¦ã¨ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—)
6. [ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã¨JSONä¾‹](#ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã¨jsonä¾‹)
7. [æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆ](#æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆ)

---

## æ¦‚è¦

### ç›®çš„

38ä½“ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãŒæŒã¤æ¡ä»¶ä»˜ãã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ä¸Šæ˜‡/æ¸›å°‘ã‚¹ã‚­ãƒ«ã‚’ä½“ç³»çš„ã«å®Ÿè£…ã™ã‚‹ãŸã‚ã®çµ±åˆä»•æ§˜æ›¸ã€‚

### å¯¾è±¡ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼

- **å®Ÿè£…æ¸ˆã¿**: 2ä½“ï¼ˆã‚¢ãƒ¼ãƒ ãƒ‰ãƒ‘ãƒ©ãƒ‡ã‚£ãƒ³ã€ã‚µãƒ³ãƒ€ãƒ¼ã‚¹ãƒãƒ¼ãƒ³ï¼‰
- **æœªå®Ÿè£…**: 36ä½“

### ãƒãƒ•ã®æ°¸ç¶šæ€§åˆ†é¡

æ¡ä»¶ä»˜ããƒãƒ•ã¯2ç¨®é¡ã«å¤§åˆ¥ã•ã‚Œã¾ã™ï¼š

#### ğŸ”µ ä¸€æ™‚çš„ãƒãƒ•ï¼ˆæˆ¦é—˜æ™‚ã®ã¿ä¸Šæ˜‡ï¼‰
- **é©ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ãƒãƒˆãƒ«æº–å‚™æ™‚ã«è¨ˆç®—
- **æŒç¶šæœŸé–“**: 1å›ã®ãƒãƒˆãƒ«ã®ã¿
- **å‰Šé™¤ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ãƒãƒˆãƒ«çµ‚äº†æ™‚ã«æ¶ˆå¤±
- **å®Ÿè£…**: `temporary_bonus_hp/ap` ã«åŠ ç®—
- **å¯¾è±¡**: 29ä½“ï¼ˆæ°¸ç¶šãƒãƒ•ä»¥å¤–ã®å…¨ã¦ï¼‰

#### ğŸŸ¢ æ°¸ç¶šãƒãƒ•ï¼ˆbase_up_hp/apï¼‰
- **é©ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ï¼ˆæˆ¦é—˜å‹åˆ©æ™‚ã€å‘¨å›æ™‚ãªã©ï¼‰
- **æŒç¶šæœŸé–“**: ç§»å‹•ã—ã¦ã‚‚ç¶­æŒã€ãƒãƒˆãƒ«å¾Œã‚‚ç¶­æŒ
- **å‰Šé™¤ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: æ‰‹æœ­ã«æˆ»ã£ãŸæ™‚ã®ã¿ãƒªã‚»ãƒƒãƒˆ
- **å®Ÿè£…**: `creature_data["base_up_hp/ap"]` ã«ç›´æ¥åŠ ç®—
- **å¯¾è±¡**: 9ä½“
  - ID: 7ï¼ˆã‚­ãƒ¡ãƒ©ï¼‰
  - ID: 23ï¼ˆãƒ‰ã‚¥ãƒ¼ãƒ ãƒ‡ãƒœãƒ©ãƒ¼ï¼‰
  - ID: 34ï¼ˆãƒã‚¤ãƒ­ãƒãƒ³ã‚µãƒ¼ï¼‰
  - ID: 35ï¼ˆãƒãƒ«ã‚­ãƒªãƒ¼ï¼‰
  - ID: 137ï¼ˆãƒ–ãƒ©ãƒƒãƒ‰ãƒ—ãƒªãƒ³ï¼‰
  - ID: 200ï¼ˆã‚¢ãƒ¼ã‚¹ã‚ºãƒ”ãƒªãƒƒãƒˆï¼‰
  - ID: 227ï¼ˆãƒ€ã‚¹ã‚¯ãƒ‰ã‚¦ã‚§ãƒ©ãƒ¼ï¼‰
  - ID: 240ï¼ˆãƒ¢ã‚¹ã‚¿ã‚¤ã‚¿ãƒ³ï¼‰
  - ID: 328ï¼ˆãƒ‡ãƒ¥ãƒ¼ã‚¿ã‚¤ã‚¿ãƒ³ï¼‰

**é‡è¦**: æ°¸ç¶šãƒãƒ•ã¯æ‰‹æœ­ã«æˆ»ã£ãŸï¼ˆäº¤æ›ãƒ»ç ´å£Šã‹ã‚‰ã®å¾©æ´»ãªã©ï¼‰æ™‚ç‚¹ã§ãƒªã‚»ãƒƒãƒˆã•ã‚Œã€å…ƒã®ã‚«ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã®å€¤ã«æˆ»ã‚Šã¾ã™ã€‚

### è¨­è¨ˆåŸå‰‡

1. **çµ±ä¸€ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿æ§‹é€ **: `ability_parsed.effects[]` ã§çµ±ä¸€ç®¡ç†
2. **å‹•çš„è¨ˆç®—vsæ°¸ç¶šä¿å­˜**: ä¸€æ™‚ãƒãƒ•ã¯æ¯å›è¨ˆç®—ã€æ°¸ç¶šãƒãƒ•ã¯ãƒ‡ãƒ¼ã‚¿ä¿å­˜
3. **æ®µéšçš„å®Ÿè£…**: ã‚·ãƒ³ãƒ—ãƒ«ãªã‚‚ã®ã‹ã‚‰é †æ¬¡å®Ÿè£…
4. **æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã®æ´»ç”¨**: BattleSkillProcessor, ConditionChecker ã¨ã®çµ±åˆ

---

## å…¨ä½“è¨­è¨ˆ

### åŠ¹æœã®è¨ˆç®—ã‚¿ã‚¤ãƒŸãƒ³ã‚°

```
ãƒãƒˆãƒ«æº–å‚™
  â†“
1. åŸºç¤å€¤è¨­å®š (base_hp/ap)
  â†“
2. æ°¸ç¶šåŠ¹æœé©ç”¨ (base_up_hp/ap, permanent_effects)
  â†“
3. åœŸåœ°ãƒœãƒ¼ãƒŠã‚¹ (land_bonus_hp)
  â†“
4. ã€æ¡ä»¶ä»˜ããƒãƒ•åŠ¹æœã®è¨ˆç®—ã€‘â† æœ¬ã‚·ã‚¹ãƒ†ãƒ ã®å¯¾è±¡
  â”œâ”€ é…ç½®æ•°æ¯”ä¾‹åŠ¹æœ
  â”œâ”€ å‘¨å›ãƒ»ãƒ©ã‚¦ãƒ³ãƒ‰åŠ¹æœ
  â”œâ”€ é ˜åœ°æ¡ä»¶åŠ¹æœ
  â”œâ”€ æˆ¦é—˜ã‚¤ãƒ™ãƒ³ãƒˆåŠ¹æœ
  â”œâ”€ æ‰‹æœ­ãƒ»ãƒ–ãƒƒã‚¯æ¡ä»¶
  â””â”€ ãã®ä»–ã®æ¡ä»¶
  â†“
5. ã‚¢ã‚¤ãƒ†ãƒ åŠ¹æœ (item_bonus_hp/ap)
  â†“
6. æ„Ÿå¿œåŠ¹æœ (resonance_bonus_hp/ap)
  â†“
7. å¼·æ‰“åŠ¹æœï¼ˆAP Ã— 1.5ï¼‰
  â†“
ãƒãƒˆãƒ«é–‹å§‹
```

### æ¡ä»¶ãƒã‚§ãƒƒã‚¯ã®è²¬ä»»åˆ†æ‹…

| æ¡ä»¶ã‚¿ã‚¤ãƒ— | è¨ˆç®—ã‚¿ã‚¤ãƒŸãƒ³ã‚° | è²¬ä»»ã‚¯ãƒ©ã‚¹ |
|-----------|--------------|-----------|
| é…ç½®æ•°æ¯”ä¾‹ | ãƒãƒˆãƒ«æº–å‚™æ™‚ | BattleSkillProcessor |
| å‘¨å›ãƒ»ãƒ©ã‚¦ãƒ³ãƒ‰ | ãƒãƒˆãƒ«æº–å‚™æ™‚ | BattleSkillProcessor |
| é ˜åœ°æ¡ä»¶ | ãƒãƒˆãƒ«æº–å‚™æ™‚ | BattleSkillProcessor |
| æˆ¦é—˜ã‚¤ãƒ™ãƒ³ãƒˆ | ãƒãƒˆãƒ«å¾Œ | BattleSystem |
| æ‰‹æœ­ãƒ»ãƒ–ãƒƒã‚¯ | ãƒãƒˆãƒ«æº–å‚™æ™‚ | BattleSkillProcessor |
| é˜²å¾¡æ™‚æ¡ä»¶ | ãƒãƒˆãƒ«æº–å‚™æ™‚ | BattlePreparation |

---

## effect_type å®šç¾©

### ã‚«ãƒ†ã‚´ãƒª1: é…ç½®æ•°æ¯”ä¾‹

#### `land_count_multiplier` âœ…å®Ÿè£…æ¸ˆã¿

åœŸåœ°ã®é…ç½®æ•°ã«æ¯”ä¾‹ã—ã¦ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒå¤‰å‹•

```gdscript
{
  "effect_type": "land_count_multiplier",
  "stat": "ap" | "hp" | "both",           # å¯¾è±¡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
  "elements": ["fire", "earth"],          # å¯¾è±¡å±æ€§ï¼ˆè¤‡æ•°å¯ï¼‰
  "multiplier": 10,                       # 1ã¤ã‚ãŸã‚Šã®å¢—åŠ é‡
  "operation": "add" | "set",             # åŠ ç®— or ä»£å…¥
  "description": "èª¬æ˜æ–‡"
}
```

**å‹•ä½œä¾‹**: ç«åœŸåœ°2 + åœŸåœŸåœ°3 = 5ã¤ â†’ ST +50

#### `other_elements_count_multiplier` ğŸš§æœªå®Ÿè£…

è‡ªåˆ†ä»¥å¤–ã®å±æ€§ã®é…ç½®æ•°ã«æ¯”ä¾‹

```gdscript
{
  "effect_type": "other_elements_count_multiplier",
  "stat": "both",
  "multiplier": 5,
  "operation": "add"
}
```

**å®Ÿè£…**: è‡ªã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®å±æ€§ã‚’é™¤å¤–ã—ã¦å…¨é…ç½®æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆ

#### `creature_count_multiplier` ğŸš§æœªå®Ÿè£…

ç‰¹å®šã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼åã®é…ç½®æ•°ã«æ¯”ä¾‹

```gdscript
{
  "effect_type": "creature_count_multiplier",
  "stat": "both",
  "target_creature_name": "ãƒã‚¤ãƒ—ãƒ¯ãƒ¼ã‚«ãƒ¼",
  "multiplier": 10,
  "operation": "add"
}
```

**å®Ÿè£…**: BoardSystem3D.get_player_tiles() ã§è©²å½“ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã‚’ã‚«ã‚¦ãƒ³ãƒˆ

#### `land_count_with_condition` ğŸš§æœªå®Ÿè£…

æ¡ä»¶ä»˜ãã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®é…ç½®æ•°ã«æ¯”ä¾‹

```gdscript
{
  "effect_type": "land_count_with_condition",
  "stat": "ap",
  "creature_condition": {
    "mhp_check": {"operator": ">=", "value": 50}
  },
  "multiplier": 5,
  "operation": "add"
}
```

**å®Ÿè£…**: ã‚«ã‚¦ãƒ³ãƒˆæ™‚ã«å„ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®æ¡ä»¶ã‚’ãƒã‚§ãƒƒã‚¯

---

### ã‚«ãƒ†ã‚´ãƒª2: å‘¨å›ãƒ»ãƒ©ã‚¦ãƒ³ãƒ‰æ•°

#### `per_lap_permanent_bonus` ğŸš§æœªå®Ÿè£…

å‘¨å›ã”ã¨ã«æ°¸ç¶šçš„ã«ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ä¸Šæ˜‡

```gdscript
{
  "effect_type": "per_lap_permanent_bonus",
  "stat": "ap" | "max_hp",
  "value": 10,
  "reset_condition": {                    # ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆãƒ¢ã‚¹ã‚¿ã‚¤ã‚¿ãƒ³ç”¨ï¼‰
    "max_hp_check": {"operator": ">=", "value": 80, "reset_to": 30}
  }
}
```

**ãƒ‡ãƒ¼ã‚¿ä¿å­˜**: `creature_data["map_lap_count"]` ã«ã‚«ã‚¦ãƒ³ãƒˆä¿å­˜

**å®Ÿè£…ãƒ¡ãƒ¢**:
- å‘¨å›å®Œäº†æ™‚ã« `creature_data["base_up_hp/ap"]` ã«åŠ ç®—
- ãƒªã‚»ãƒƒãƒˆæ¡ä»¶ã¯ãƒ¢ã‚¹ã‚¿ã‚¤ã‚¿ãƒ³ï¼ˆID: 240ï¼‰ã®ã¿

#### `round_number_bonus` ğŸš§æœªå®Ÿè£…

ç¾åœ¨ã®ãƒ©ã‚¦ãƒ³ãƒ‰æ•°ãŒã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã«ãªã‚‹

```gdscript
{
  "effect_type": "round_number_bonus",
  "stat": "ap" | "hp",
  "operation": "set" | "add"
}
```

**å®Ÿè£…**: GameFlowManager ã‹ã‚‰ current_round ã‚’å–å¾—ã—ã¦é©ç”¨

---

### ã‚«ãƒ†ã‚´ãƒª3: é ˜åœ°æ¡ä»¶

#### `owned_land_count_bonus` ğŸš§æœªå®Ÿè£…

è‡ªé ˜åœ°æ•°ã«ã‚ˆã‚‹æ¡ä»¶ä»˜ããƒœãƒ¼ãƒŠã‚¹

```gdscript
{
  "effect_type": "owned_land_count_bonus",
  "condition": {"operator": ">=", "value": 5},
  "stat_changes": {"ap": -30, "hp": -30}
}
```

**å®Ÿè£…**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ç·é ˜åœ°æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã—ã¦æ¡ä»¶ãƒã‚§ãƒƒã‚¯

#### `adjacent_land_bonus` ğŸš§æœªå®Ÿè£…

éš£æ¥é ˜åœ°ã®çŠ¶æ…‹ã«ã‚ˆã‚‹æ¡ä»¶

```gdscript
{
  "effect_type": "adjacent_land_bonus",
  "condition": "all_adjacent_owned" | "any_adjacent_owned",
  "stat_changes": {"ap": 20, "hp": 20}
}
```

**å®Ÿè£…**: æ—¢å­˜ã®å¼·æ‰“ã‚¹ã‚­ãƒ«ã¨åŒæ§˜ã®éš£æ¥ãƒã‚§ãƒƒã‚¯å‡¦ç†

#### `battle_land_level_bonus` ğŸš§æœªå®Ÿè£…

æˆ¦é—˜åœ°ã®ãƒ¬ãƒ™ãƒ«ã«ä¾å­˜

```gdscript
{
  "effect_type": "battle_land_level_bonus",
  "element_condition": ["water"],         # ã“ã®å±æ€§ã®åœŸåœ°ã§ã®ã¿æœ‰åŠ¹
  "stat": "hp",
  "multiplier": 10
}
```

**å®Ÿè£…**: æˆ¦é—˜ã‚¿ã‚¤ãƒ«ã® level ã¨ element ã‚’ç¢ºèª

#### `on_land_change` ğŸš§æœªå®Ÿè£…

é ˜åœ°å¤‰åŒ–æ™‚ã«ãƒˆãƒªã‚¬ãƒ¼ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ï¼‰

```gdscript
{
  "effect_type": "on_land_change",
  "trigger": "level_up" | "terrain_change",
  "stat_change": {"max_hp": 10}
}
```

**å®Ÿè£…**: ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—/åœ°å½¢å¤‰åŒ–æ™‚ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒå¿…è¦

#### `marked_land_bonus` ğŸš§æœªå®Ÿè£…

ãƒãƒ¼ã‚¯ä»˜ãé ˜åœ°ã§ã®æˆ¦é—˜

```gdscript
{
  "effect_type": "marked_land_bonus",
  "mark_type": "heart",
  "stat_change": {"hp": -20}
}
```

**å®Ÿè£…**: ã‚¿ã‚¤ãƒ«ã®ãƒãƒ¼ã‚¯æƒ…å ±ã‚’ç¢ºèª

---

### ã‚«ãƒ†ã‚´ãƒª4: æˆ¦é—˜ã‚¤ãƒ™ãƒ³ãƒˆ

#### `on_enemy_destroy_permanent` ğŸš§æœªå®Ÿè£…

æ•µç ´å£Šæ™‚ã«æ°¸ç¶šçš„ã«ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ä¸Šæ˜‡

```gdscript
{
  "effect_type": "on_enemy_destroy_permanent",
  "stat_changes": {"ap": 10, "max_hp": 10}
}
```

**ãƒ‡ãƒ¼ã‚¿ä¿å­˜**: `creature_data["destroy_count"]` ã«ã‚«ã‚¦ãƒ³ãƒˆä¿å­˜

**å®Ÿè£…**: 
- ãƒãƒˆãƒ«å‹åˆ©æ™‚ã« `creature_data["base_up_hp/ap"]` ã«åŠ ç®—
- BattleSystem.on_battle_end() ã§å‡¦ç†

#### `destroy_count_multiplier` ğŸš§æœªå®Ÿè£…

ç´¯è¨ˆç ´å£Šæ•°ã«æ¯”ä¾‹

```gdscript
{
  "effect_type": "destroy_count_multiplier",
  "stat": "ap",
  "multiplier": 5
}
```

**ãƒ‡ãƒ¼ã‚¿ä¿å­˜**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã”ã¨ã®ç ´å£Šæ•°ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å¿…è¦

#### `after_battle_change` ğŸš§æœªå®Ÿè£…

æˆ¦é—˜å¾Œã«ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰å‹•

```gdscript
{
  "effect_type": "after_battle_change",
  "trigger": "any" | "enemy_attack_success",
  "stat_changes": {"ap": -10, "max_hp": -10},
  "operation": "add" | "set"
}
```

**å®Ÿè£…**: ãƒãƒˆãƒ«çµ‚äº†æ™‚ã«æ¡ä»¶ãƒã‚§ãƒƒã‚¯ã—ã¦é©ç”¨

---

### ã‚«ãƒ†ã‚´ãƒª5: æˆ¦é—˜åœ°ãƒ»åœ°å½¢æ¡ä»¶

#### `battle_land_element_check` ğŸš§æœªå®Ÿè£…

æˆ¦é—˜åœ°ã®å±æ€§ã«ã‚ˆã‚‹æ¡ä»¶

```gdscript
{
  "effect_type": "stat_bonus",
  "stat": "ap",
  "value": 20,
  "condition": {
    "battle_land_element_check": {
      "elements": ["water", "wind"]
    }
  }
}
```

**å®Ÿè£…**: æ—¢å­˜ã® ConditionChecker ã‚’æ‹¡å¼µ

#### `enemy_element_check` ğŸš§æœªå®Ÿè£…

æ•µã®å±æ€§ã«ã‚ˆã‚‹æ¡ä»¶

```gdscript
{
  "effect_type": "stat_bonus",
  "stat": "hp",
  "value": 50,
  "condition": {
    "enemy_is_element": {
      "elements": ["water", "wind"]
    }
  }
}
```

**å®Ÿè£…**: æ—¢å­˜ã® `enemy_is_element` æ¡ä»¶ã‚’æ´»ç”¨

---

### ã‚«ãƒ†ã‚´ãƒª6: æ‰‹æœ­ãƒ»ãƒ–ãƒƒã‚¯æ¡ä»¶

#### `hand_count_multiplier` ğŸš§æœªå®Ÿè£…

æ‰‹æœ­æšæ•°ã«ä¾å­˜

```gdscript
{
  "effect_type": "hand_count_multiplier",
  "stat": "ap",
  "multiplier": 10,
  "operation": "set"
}
```

**å®Ÿè£…**: CardSystem.hand[player_id].size() ã‚’å–å¾—

#### `deck_comparison_bonus` ğŸš§æœªå®Ÿè£…

ãƒ‡ãƒƒã‚­æšæ•°ã®æ¯”è¼ƒ

```gdscript
{
  "effect_type": "deck_comparison_bonus",
  "comparison": "greater_than_opponent",
  "stat_changes": {"ap": 20, "hp": 20}
}
```

**å®Ÿè£…**: å„ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ãƒ‡ãƒƒã‚­æšæ•°ã‚’æ¯”è¼ƒ

---

### ã‚«ãƒ†ã‚´ãƒª7: ãƒ€ã‚¤ã‚¹æ¡ä»¶

#### `dice_condition_bonus` ğŸš§æœªå®Ÿè£…

ãƒ€ã‚¤ã‚¹ç›®ã«ã‚ˆã‚‹æ¡ä»¶

```gdscript
{
  "effect_type": "dice_condition_bonus",
  "dice_check": {"operator": "<=", "value": 3},
  "stat_changes": {"ap": 10, "max_hp": 10}
}
```

**å®Ÿè£…**: ç§»å‹•å‰ã®ãƒ€ã‚¤ã‚¹å€¤ã‚’è¨˜éŒ²ã—ã¦å‚ç…§

---

### ã‚«ãƒ†ã‚´ãƒª8: å½¹å‰²ãƒ»çŠ¶æ…‹æ¡ä»¶

#### `defensive_stat_override` ğŸš§æœªå®Ÿè£…

é˜²å¾¡æ™‚ã®ã¿æœ‰åŠ¹

```gdscript
{
  "effect_type": "defensive_stat_override",
  "stat": "ap",
  "value": 50,
  "operation": "set"
}
```

**å®Ÿè£…**: BattlePreparation ã§ is_defender ã‚’ãƒã‚§ãƒƒã‚¯

#### `constant_stat_bonus` ğŸš§æœªå®Ÿè£…

å¸¸æ™‚æœ‰åŠ¹ãªå›ºå®šè£œæ­£

```gdscript
{
  "effect_type": "constant_stat_bonus",
  "stat_changes": {"ap": 20, "hp": -10}
}
```

**å®Ÿè£…**: ã‚·ãƒ³ãƒ—ãƒ«ãªç„¡æ¡ä»¶ãƒœãƒ¼ãƒŠã‚¹ï¼ˆæœ€å„ªå…ˆã§å®Ÿè£…ï¼‰

---

### ã‚«ãƒ†ã‚´ãƒª9: ã‚¢ã‚¤ãƒ†ãƒ é–¢é€£

#### `as_creature_bonus` ğŸš§æœªå®Ÿè£…

ã‚¢ã‚¤ãƒ†ãƒ ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãŒã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã¨ã—ã¦æˆ¦é—˜æ™‚

```gdscript
{
  "effect_type": "as_creature_bonus",
  "stat_changes": {"ap": 50}
}
```

**å®Ÿè£…**: ã‚¢ã‚¤ãƒ†ãƒ ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã¨é€£å‹•

#### `on_item_use_bonus` ğŸš§æœªå®Ÿè£…

ã‚¢ã‚¤ãƒ†ãƒ ä½¿ç”¨æ™‚

```gdscript
{
  "effect_type": "on_item_use_bonus",
  "trigger": "self_item_use" | "enemy_item_use",
  "timing": "during_battle" | "after_battle",
  "stat_changes": {"ap": 20}
}
```

**å®Ÿè£…**: ã‚¢ã‚¤ãƒ†ãƒ ä½¿ç”¨ãƒ•ãƒ©ã‚°ã‚’ç¢ºèª

---

### ã‚«ãƒ†ã‚´ãƒª10: ç‰¹æ®Šãƒ»è¤‡é›‘

#### `random_stat` ğŸš§æœªå®Ÿè£…

ãƒ©ãƒ³ãƒ€ãƒ ã«ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ±ºå®š

```gdscript
{
  "effect_type": "random_stat",
  "stat": "both",
  "min": 10,
  "max": 70
}
```

**å®Ÿè£…**: ãƒãƒˆãƒ«æº–å‚™æ™‚ã«ãƒ©ãƒ³ãƒ€ãƒ å€¤ã‚’ç”Ÿæˆ

#### `support_creature_stat_copy` ğŸš§æœªå®Ÿè£…

æ´è­·ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ã‚³ãƒ”ãƒ¼

```gdscript
{
  "effect_type": "support_creature_stat_copy",
  "source_stat": "hp",
  "target_stat": "max_hp"
}
```

**å®Ÿè£…**: æ´è­·ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆãŒå¿…è¦

#### `tribe_placement_bonus` ğŸš§æœªå®Ÿè£…

ç‰¹å®šç¨®æ—é…ç½®æ™‚

```gdscript
{
  "effect_type": "tribe_placement_bonus",
  "tribe": "ã‚ªãƒ¼ã‚¬",
  "conditions": [
    {"elements": ["fire", "wind"], "stat_changes": {"ap": 20}},
    {"elements": ["water", "earth"], "stat_changes": {"hp": 20}}
  ]
}
```

**å®Ÿè£…**: ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®ç¨®æ—ãƒ‡ãƒ¼ã‚¿ã¨ã®é€£æºãŒå¿…è¦

---

## æ°¸ç¶šãƒãƒ•ã®è©³ç´°ä»•æ§˜

### æ°¸ç¶šãƒãƒ•ã‚’æŒã¤ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ï¼ˆ9ä½“ï¼‰

| ID | åå‰ | åŠ¹æœå†…å®¹ | ãƒˆãƒªã‚¬ãƒ¼ | å®Ÿè£…æ–¹æ³• |
|----|------|---------|---------|---------|
| 7 | ã‚­ãƒ¡ãƒ© | å‘¨å›ã”ã¨ã«ST+10 | å‘¨å›å®Œäº† | base_up_ap += 10 |
| 23 | ãƒ‰ã‚¥ãƒ¼ãƒ ãƒ‡ãƒœãƒ©ãƒ¼ | ãƒ€ã‚¤ã‚¹3ä»¥ä¸‹ã§ST&MHP+10 | æ¡ä»¶æº€ãŸã—ãŸç§»å‹•æ™‚ | base_up_ap/hp += 10 |
| 34 | ãƒã‚¤ãƒ­ãƒãƒ³ã‚µãƒ¼ | æ•µæ”»æ’ƒæˆåŠŸå¾ŒST=20, MHP-30 | ãƒãƒˆãƒ«çµ‚äº†æ™‚ | base_ap = 20, base_up_hp -= 30 |
| 35 | ãƒãƒ«ã‚­ãƒªãƒ¼ | æ•µç ´å£Šæ™‚ST+10 | ãƒãƒˆãƒ«å‹åˆ©æ™‚ | base_up_ap += 10 |
| 137 | ãƒ–ãƒ©ãƒƒãƒ‰ãƒ—ãƒªãƒ³ | æˆ¦é—˜å‰MHP+æ´è­·ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼HP | æ´è­·ç™ºå‹•æ™‚ | base_up_hp += support_hp |
| 200 | ã‚¢ãƒ¼ã‚¹ã‚ºãƒ”ãƒªãƒƒãƒˆ | ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—/åœ°å½¢å¤‰åŒ–æ™‚MHP+10 | é ˜åœ°å¤‰åŒ–æ™‚ | base_up_hp += 10 |
| 227 | ãƒ€ã‚¹ã‚¯ãƒ‰ã‚¦ã‚§ãƒ©ãƒ¼ | æ•µç ´å£Šæ™‚ST&MHP+10 | ãƒãƒˆãƒ«å‹åˆ©æ™‚ | base_up_ap/hp += 10 |
| 240 | ãƒ¢ã‚¹ã‚¿ã‚¤ã‚¿ãƒ³ | å‘¨å›ã”ã¨ã«MHP+10ï¼ˆ80ã§30ã«ãƒªã‚»ãƒƒãƒˆï¼‰ | å‘¨å›å®Œäº† | base_up_hp += 10 (check reset) |
| 328 | ãƒ‡ãƒ¥ãƒ¼ã‚¿ã‚¤ã‚¿ãƒ³ | ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—/åœ°å½¢å¤‰åŒ–æ™‚MHP-10 | é ˜åœ°å¤‰åŒ–æ™‚ | base_up_hp -= 10 |

### å®Ÿè£…ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆ

#### 0. æ°¸ç¶šãƒãƒ•ã®ãƒªã‚»ãƒƒãƒˆæ¡ä»¶ï¼ˆè©³ç´°ï¼‰

**ãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°**:
1. **äº¤æ›ã‚³ãƒãƒ³ãƒ‰**ã§æ‰‹æœ­ã«æˆ»ã£ãŸæ™‚
2. **ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãŒç ´å£Š**ã•ã‚Œã¦å¢“åœ°ã«è¡Œã£ãŸæ™‚
3. **å¤‰èº«åŠ¹æœ**ã§åˆ¥ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã«ãªã£ãŸæ™‚

**ãƒªã‚»ãƒƒãƒˆã•ã‚Œãªã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°**:
- ç§»å‹•ã—ãŸæ™‚
- ãƒãƒˆãƒ«ã«å‹åˆ©/æ•—åŒ—ã—ãŸæ™‚
- é ˜åœ°ãƒ¬ãƒ™ãƒ«ãŒå¤‰åŒ–ã—ãŸæ™‚

**å¾©æ´»æ™‚ã®æŒ™å‹•**:
- å¢“åœ°ã‹ã‚‰å¾©æ´»ã—ãŸå ´åˆã€å…ƒã®ã‚«ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã§å¾©æ´»ï¼ˆæ°¸ç¶šãƒãƒ•ãªã—ï¼‰

```gdscript
func reset_permanent_buffs(creature_data: Dictionary):
	creature_data["base_up_hp"] = 0
	creature_data["base_up_ap"] = 0
	creature_data["map_lap_count"] = 0
	creature_data["destroy_count"] = 0  # ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼å›ºæœ‰ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼
```

#### 1. ãƒ‡ãƒ¼ã‚¿ä¿å­˜å ´æ‰€
```gdscript
creature_data = {
    "hp": 30,           # å…ƒã®åŸºç¤HPï¼ˆå¤‰æ›´ã•ã‚Œãªã„ï¼‰
    "ap": 20,           # å…ƒã®åŸºç¤APï¼ˆå¤‰æ›´ã•ã‚Œãªã„ï¼‰
    "base_up_hp": 0,    # æ°¸ç¶šçš„ãªHPä¸Šæ˜‡ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆã§åŠ ç®—ï¼‰
    "base_up_ap": 0,    # æ°¸ç¶šçš„ãªAPä¸Šæ˜‡ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆã§åŠ ç®—ï¼‰
    # ...
}
```

#### 2. é©ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°
- **å‘¨å›å®Œäº†æ™‚**: ã‚­ãƒ¡ãƒ©ã€ãƒ¢ã‚¹ã‚¿ã‚¤ã‚¿ãƒ³
- **ãƒãƒˆãƒ«å‹åˆ©æ™‚**: ãƒãƒ«ã‚­ãƒªãƒ¼ã€ãƒ€ã‚¹ã‚¯ãƒ‰ã‚¦ã‚§ãƒ©ãƒ¼
- **ãƒãƒˆãƒ«çµ‚äº†æ™‚**: ãƒã‚¤ãƒ­ãƒãƒ³ã‚µãƒ¼
- **é ˜åœ°å¤‰åŒ–æ™‚**: ã‚¢ãƒ¼ã‚¹ã‚ºãƒ”ãƒªãƒƒãƒˆã€ãƒ‡ãƒ¥ãƒ¼ã‚¿ã‚¤ã‚¿ãƒ³
- **æ´è­·ç™ºå‹•æ™‚**: ãƒ–ãƒ©ãƒƒãƒ‰ãƒ—ãƒªãƒ³
- **ç§»å‹•æ™‚ï¼ˆæ¡ä»¶ãƒã‚§ãƒƒã‚¯ï¼‰**: ãƒ‰ã‚¥ãƒ¼ãƒ ãƒ‡ãƒœãƒ©ãƒ¼

#### 3. æ‰‹æœ­ã«æˆ»ã£ãŸæ™‚ã®å‡¦ç†
ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãŒæ‰‹æœ­ã«æˆ»ã£ãŸæ™‚ï¼ˆäº¤æ›ã€ç ´å£Šã‹ã‚‰ã®å¾©æ´»ãªã©ï¼‰:
```gdscript
func return_to_hand(creature_data: Dictionary):
    # æ°¸ç¶šãƒãƒ•ã‚’ãƒªã‚»ãƒƒãƒˆ
    creature_data["base_up_hp"] = 0
    creature_data["base_up_ap"] = 0
    # ãã®ä»–ã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚‚ãƒªã‚»ãƒƒãƒˆ
    creature_data["map_lap_count"] = 0
    creature_data["destroy_count"] = 0
```

#### 4. ãƒãƒˆãƒ«æ™‚ã®è¨ˆç®—
```gdscript
# BattleParticipant ã§ã® HP/AP è¨ˆç®—
current_hp = base_hp + base_up_hp + temporary_bonus_hp + land_bonus_hp + ...
current_ap = base_ap + base_up_ap + temporary_bonus_ap + ...
```

---

## ã‚«ãƒ†ã‚´ãƒªåˆ¥å®Ÿè£…ä»•æ§˜

### ğŸ”¥ ã‚«ãƒ†ã‚´ãƒª1: é…ç½®æ•°æ¯”ä¾‹ï¼ˆ6ä½“ï¼‰

| ID | åå‰ | effect_type | å®Ÿè£…é›£æ˜“åº¦ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|----|------|------------|----------|----------|
| 1 | ã‚¢ãƒ¼ãƒ ãƒ‰ãƒ‘ãƒ©ãƒ‡ã‚£ãƒ³ | land_count_multiplier | â˜…â˜†â˜† | âœ…å®Ÿè£…æ¸ˆã¿ |
| 37 | ãƒ•ã‚¡ã‚¤ã‚¢ãƒ¼ãƒ‰ãƒ¬ã‚¤ã‚¯ | land_count_multiplier | â˜…â˜†â˜† | ğŸš§æœªå®Ÿè£… |
| 236 | ãƒ–ãƒ©ãƒ³ãƒã‚¢ãƒ¼ãƒŸãƒ¼ | land_count_multiplier | â˜…â˜†â˜† | ğŸš§æœªå®Ÿè£… |
| 238 | ãƒãƒƒãƒ‰ãƒãƒ³ | land_count_multiplier | â˜…â˜†â˜† | ğŸš§æœªå®Ÿè£… |
| 307 | ã‚¬ãƒ«ãƒ¼ãƒ€ | land_count_multiplier (set) | â˜…â˜†â˜† | ğŸš§æœªå®Ÿè£… |
| 318 | ã‚µãƒ³ãƒ€ãƒ¼ã‚¹ãƒãƒ¼ãƒ³ | land_count_multiplier | â˜…â˜†â˜† | âœ…å®Ÿè£…æ¸ˆã¿ |
| 109 | ã‚¢ãƒ³ãƒ€ã‚¤ãƒ³ | land_count_multiplier (set) | â˜…â˜†â˜† | ğŸš§æœªå®Ÿè£… |
| 440 | ãƒªãƒ“ãƒ³ã‚°ã‚¯ãƒ­ãƒ¼ãƒ– | other_elements_count_multiplier | â˜…â˜…â˜† | ğŸš§æœªå®Ÿè£… |
| 32 | ãƒã‚¤ãƒ—ãƒ¯ãƒ¼ã‚«ãƒ¼ | creature_count_multiplier | â˜…â˜…â˜† | ğŸš§æœªå®Ÿè£… |
| 15 | ã‚¸ã‚§ãƒãƒ©ãƒ«ã‚«ãƒ³ | land_count_with_condition | â˜…â˜…â˜… | ğŸš§æœªå®Ÿè£… |

**å®Ÿè£…ãƒã‚¤ãƒ³ãƒˆ**:
- æ—¢å­˜ã® `apply_land_count_effects()` ã‚’æ´»ç”¨
- `operation: "set"` ã®å ´åˆã€base_ap/hp ã‚’ä¸Šæ›¸ã

---

### ğŸŸ¡ ã‚«ãƒ†ã‚´ãƒª2: å‘¨å›ãƒ»ãƒ©ã‚¦ãƒ³ãƒ‰æ•°ï¼ˆ3ä½“ï¼‰

| ID | åå‰ | effect_type | ãƒ‡ãƒ¼ã‚¿ä¿å­˜ | æ°¸ç¶šæ€§ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|----|------|------------|----------|-------|----------|
| 7 | ã‚­ãƒ¡ãƒ© | per_lap_permanent_bonus | map_lap_count | ğŸŸ¢æ°¸ç¶š | ğŸš§æœªå®Ÿè£… |
| 240 | ãƒ¢ã‚¹ã‚¿ã‚¤ã‚¿ãƒ³ | per_lap_permanent_bonus | map_lap_count + reset | ğŸŸ¢æ°¸ç¶š | ğŸš§æœªå®Ÿè£… |
| 47 | ãƒ©ãƒ¼ãƒã‚­ãƒ³ | round_number_bonus | ãªã— | ğŸ”µä¸€æ™‚ | ğŸš§æœªå®Ÿè£… |

**æ°¸ç¶šãƒãƒ•**: ID 7ï¼ˆã‚­ãƒ¡ãƒ©ï¼‰ã€ID 240ï¼ˆãƒ¢ã‚¹ã‚¿ã‚¤ã‚¿ãƒ³ï¼‰
- å‘¨å›å®Œäº†æ™‚ã« `base_up_hp/ap` ã«åŠ ç®—
- æ‰‹æœ­ã«æˆ»ã‚‹ã¾ã§æ°¸ç¶šçš„ã«ç¶­æŒ

**ä¸€æ™‚ãƒãƒ•**: ID 47ï¼ˆãƒ©ãƒ¼ãƒã‚­ãƒ³ï¼‰
- ãƒãƒˆãƒ«ã”ã¨ã«ç¾åœ¨ãƒ©ã‚¦ãƒ³ãƒ‰æ•°ã‚’è¨ˆç®—
- ãƒãƒˆãƒ«çµ‚äº†å¾Œã¯æ¶ˆå¤±

**å®Ÿè£…ãƒã‚¤ãƒ³ãƒˆ**:
- å‘¨å›å®Œäº†æ™‚ã« `GameFlowManager.on_lap_complete()` ã‚’å®Ÿè£…
- ã‚­ãƒ¡ãƒ©ãƒ»ãƒ¢ã‚¹ã‚¿ã‚¤ã‚¿ãƒ³: `creature_data["map_lap_count"]++` ã—ã¦ `base_up_hp/ap` ã«åŠ ç®—
- ãƒ¢ã‚¹ã‚¿ã‚¤ã‚¿ãƒ³ã¯ãƒªã‚»ãƒƒãƒˆæ¡ä»¶ãƒã‚§ãƒƒã‚¯
- ãƒ©ãƒ¼ãƒã‚­ãƒ³: æ¯ãƒãƒˆãƒ«æ™‚ã« `temporary_bonus_hp/ap` ã«åŠ ç®—

---

### ğŸŸ¢ ã‚«ãƒ†ã‚´ãƒª3: é ˜åœ°æ¡ä»¶ï¼ˆ7ä½“ï¼‰

| ID | åå‰ | effect_type | å®Ÿè£…é›£æ˜“åº¦ | æ°¸ç¶šæ€§ |
|----|------|------------|----------|-------|
| 30 | ãƒãƒ¼ãƒ³ã‚¿ã‚¤ã‚¿ãƒ³ | owned_land_count_bonus | â˜…â˜…â˜† | ğŸ”µä¸€æ™‚ |
| 226 | ã‚¿ã‚¤ã‚¬ãƒ¼ãƒ´ã‚§ã‚¿ | adjacent_land_bonus | â˜…â˜…â˜† | ğŸ”µä¸€æ™‚ |
| 49 | ãƒ­ãƒ¼ãƒ³ãƒ“ãƒ¼ã‚¹ãƒˆ | adjacent_land_bonus + å¼·æ‰“ | â˜…â˜…â˜… | ğŸ”µä¸€æ™‚ |
| 131 | ãƒãƒƒã‚·ãƒ¼ | battle_land_level_bonus | â˜…â˜…â˜† | ğŸ”µä¸€æ™‚ |
| 200 | ã‚¢ãƒ¼ã‚¹ã‚ºãƒ”ãƒªãƒƒãƒˆ | on_land_change | â˜…â˜…â˜… | ğŸŸ¢æ°¸ç¶š |
| 328 | ãƒ‡ãƒ¥ãƒ¼ã‚¿ã‚¤ã‚¿ãƒ³ | on_land_change | â˜…â˜…â˜… | ğŸŸ¢æ°¸ç¶š |
| 206 | ã‚®ã‚¬ãƒ³ãƒ†ãƒªã‚¦ãƒ  | marked_land_bonus | â˜…â˜…â˜… | ğŸ”µä¸€æ™‚ |

**æ°¸ç¶šãƒãƒ•**: ID 200ï¼ˆã‚¢ãƒ¼ã‚¹ã‚ºãƒ”ãƒªãƒƒãƒˆï¼‰ã€ID 328ï¼ˆãƒ‡ãƒ¥ãƒ¼ã‚¿ã‚¤ã‚¿ãƒ³ï¼‰
- ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—/åœ°å½¢å¤‰åŒ–ã‚¤ãƒ™ãƒ³ãƒˆæ™‚ã« `base_up_hp/ap` ã‚’å¤‰æ›´
- æ‰‹æœ­ã«æˆ»ã‚‹ã¾ã§æ°¸ç¶šçš„ã«ç¶­æŒ

**ä¸€æ™‚ãƒãƒ•**: ãã®ä»–5ä½“
- ãƒãƒˆãƒ«ã”ã¨ã«æ¡ä»¶ãƒã‚§ãƒƒã‚¯
- ãƒãƒˆãƒ«çµ‚äº†å¾Œã¯æ¶ˆå¤±

**å®Ÿè£…ãƒã‚¤ãƒ³ãƒˆ**:
- `adjacent_land_bonus`: æ—¢å­˜ã®å¼·æ‰“ãƒã‚§ãƒƒã‚¯å‡¦ç†ã‚’æµç”¨
- `on_land_change`: ã‚¤ãƒ™ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã®æ§‹ç¯‰ãŒå¿…è¦
- ã‚¢ãƒ¼ã‚¹ã‚ºãƒ”ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¥ãƒ¼ã‚¿ã‚¤ã‚¿ãƒ³: ã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã« `base_up_hp` ã‚’ç›´æ¥å¤‰æ›´

---

### ğŸ”´ ã‚«ãƒ†ã‚´ãƒª4: æˆ¦é—˜ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆ6ä½“ï¼‰

| ID | åå‰ | effect_type | ã‚¤ãƒ™ãƒ³ãƒˆ | æ°¸ç¶šæ€§ |
|----|------|------------|---------|-------|
| 35 | ãƒãƒ«ã‚­ãƒªãƒ¼ | on_enemy_destroy_permanent | on_battle_win | ğŸŸ¢æ°¸ç¶š |
| 227 | ãƒ€ã‚¹ã‚¯ãƒ‰ã‚¦ã‚§ãƒ©ãƒ¼ | on_enemy_destroy_permanent | on_battle_win | ğŸŸ¢æ°¸ç¶š |
| 323 | ã‚½ã‚¦ãƒ«ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼ | destroy_count_multiplier | æ¯ãƒãƒˆãƒ« | ğŸ”µä¸€æ™‚ |
| 446 | ãƒ­ãƒƒã‚¯ã‚¿ã‚¤ã‚¿ãƒ³ | after_battle_change | on_battle_end | ğŸ”µä¸€æ™‚ |
| 34 | ãƒã‚¤ãƒ­ãƒãƒ³ã‚µãƒ¼ | after_battle_change | on_battle_end | ğŸŸ¢æ°¸ç¶š |

**æ°¸ç¶šãƒãƒ•**: ID 35ï¼ˆãƒãƒ«ã‚­ãƒªãƒ¼ï¼‰ã€ID 227ï¼ˆãƒ€ã‚¹ã‚¯ãƒ‰ã‚¦ã‚§ãƒ©ãƒ¼ï¼‰ã€ID 34ï¼ˆãƒã‚¤ãƒ­ãƒãƒ³ã‚µãƒ¼ï¼‰
- æˆ¦é—˜å‹åˆ©/çµ‚äº†æ™‚ã« `base_up_hp/ap` ã«åŠ ç®—ï¼ˆã¾ãŸã¯ä»£å…¥ï¼‰
- æ‰‹æœ­ã«æˆ»ã‚‹ã¾ã§æ°¸ç¶šçš„ã«ç¶­æŒ

**ä¸€æ™‚ãƒãƒ•**: ID 323ï¼ˆã‚½ã‚¦ãƒ«ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼ï¼‰ã€ID 446ï¼ˆãƒ­ãƒƒã‚¯ã‚¿ã‚¤ã‚¿ãƒ³ï¼‰
- ãƒãƒˆãƒ«ã”ã¨ã«æ¡ä»¶ãƒã‚§ãƒƒã‚¯ï¼ˆç ´å£Šæ•°ãªã©ï¼‰
- ãƒãƒˆãƒ«çµ‚äº†å¾Œã¯æ¶ˆå¤±

**å®Ÿè£…ãƒã‚¤ãƒ³ãƒˆ**:
- BattleSystem ã« `on_battle_win()`, `on_battle_end()` signal ã‚’è¿½åŠ 
- æ°¸ç¶šãƒãƒ•: æˆ¦é—˜çµ‚äº†æ™‚ã« `base_up_hp/ap` ã‚’ç›´æ¥å¤‰æ›´
- ä¸€æ™‚ãƒãƒ•: ç ´å£Šã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã¯ `creature_data["destroy_count"]` ã«ä¿å­˜ã—ã€ãƒãƒˆãƒ«æ™‚ã«å‚ç…§

---

### ğŸŸ£ ã‚«ãƒ†ã‚´ãƒª5: æˆ¦é—˜åœ°ãƒ»åœ°å½¢æ¡ä»¶ï¼ˆ2ä½“ï¼‰

| ID | åå‰ | effect_type | æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ  |
|----|------|------------|------------|
| 110 | ã‚¢ãƒ³ãƒ•ã‚£ãƒ“ã‚¢ãƒ³ | battle_land_element_check | ConditionChecker |
| 205 | ã‚«ã‚¯ã‚¿ã‚¹ã‚¦ã‚©ãƒ¼ãƒ« | enemy_element_check | ConditionChecker |

**å®Ÿè£…ãƒã‚¤ãƒ³ãƒˆ**:
- æ—¢å­˜ã® ConditionChecker ã‚’æ‹¡å¼µã™ã‚‹ã ã‘

---

### ğŸŸ  ã‚«ãƒ†ã‚´ãƒª6: æ‰‹æœ­ãƒ»ãƒ–ãƒƒã‚¯æ¡ä»¶ï¼ˆ2ä½“ï¼‰

| ID | åå‰ | effect_type | ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ |
|----|------|------------|------------|
| 146 | ãƒªãƒªã‚¹ | hand_count_multiplier | CardSystem.hand |
| 214 | ã‚³ã‚¢ãƒˆãƒªã‚¯ã‚¨ | deck_comparison_bonus | CardSystem.deck |

**å®Ÿè£…ãƒã‚¤ãƒ³ãƒˆ**:
- CardSystem ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—

---

### ğŸŸ¤ ã‚«ãƒ†ã‚´ãƒª7: ãƒ€ã‚¤ã‚¹æ¡ä»¶ï¼ˆ1ä½“ï¼‰

| ID | åå‰ | effect_type | æ°¸ç¶šæ€§ |
|----|------|------------|-------|
| 23 | ãƒ‰ã‚¥ãƒ¼ãƒ ãƒ‡ãƒœãƒ©ãƒ¼ | dice_condition_bonus | ğŸŸ¢æ°¸ç¶š |

**æ°¸ç¶šãƒãƒ•**: ID 23ï¼ˆãƒ‰ã‚¥ãƒ¼ãƒ ãƒ‡ãƒœãƒ©ãƒ¼ï¼‰
- ãƒ€ã‚¤ã‚¹3ä»¥ä¸‹ã®å ´åˆã€ST&MHP+10ï¼ˆæˆ¦é—˜å‹åˆ©å¾Œã‚‚ç¶­æŒï¼‰
- ç§˜è¡“ä½¿ç”¨å¾Œã¯ ST&MHP-10 ã‚’ `base_up_hp/ap` ã‹ã‚‰æ¸›ç®—

**å®Ÿè£…ãƒã‚¤ãƒ³ãƒˆ**:
- GameFlowManager ã§ãƒ€ã‚¤ã‚¹å€¤ã‚’è¨˜éŒ²
- æ¡ä»¶ã‚’æº€ãŸã—ãŸå ´åˆã€`base_up_hp/ap` ã«åŠ ç®—

---

### âš« ã‚«ãƒ†ã‚´ãƒª8: å½¹å‰²ãƒ»çŠ¶æ…‹æ¡ä»¶ï¼ˆ3ä½“ï¼‰

| ID | åå‰ | effect_type |
|----|------|------------|
| 204 | ã‚¬ãƒ¼ã‚´ã‚¤ãƒ« | defensive_stat_override |
| 102 | ã‚¢ã‚¤ã‚¹ã‚¦ã‚©ãƒ¼ãƒ« | constant_stat_bonus |
| 330 | ãƒˆãƒ«ãƒãƒ¼ãƒ‰ | constant_stat_bonus |

**å®Ÿè£…ãƒã‚¤ãƒ³ãƒˆ**:
- `constant_stat_bonus`: æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã€ã™ãå®Ÿè£…å¯èƒ½

---

### âšª ã‚«ãƒ†ã‚´ãƒª9: ã‚¢ã‚¤ãƒ†ãƒ é–¢é€£ï¼ˆ2ä½“ï¼‰

| ID | åå‰ | effect_type |
|----|------|------------|
| 438 | ãƒªãƒ“ãƒ³ã‚°ã‚¢ãƒ¼ãƒãƒ¼ | as_creature_bonus |
| 339 | ãƒ–ãƒ«ã‚¬ã‚µãƒª | on_item_use_bonus |

**å®Ÿè£…ãƒã‚¤ãƒ³ãƒˆ**:
- ã‚¢ã‚¤ãƒ†ãƒ ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã®æ•´å‚™ãŒå¿…è¦

---

### ğŸ² ã‚«ãƒ†ã‚´ãƒª10: ç‰¹æ®Šãƒ»è¤‡é›‘ï¼ˆ3ä½“ï¼‰

| ID | åå‰ | effect_type | æ°¸ç¶šæ€§ |
|----|------|------------|-------|
| 321 | ã‚¹ãƒšã‚¯ã‚¿ãƒ¼ | random_stat | ğŸ”µä¸€æ™‚ |
| 137 | ãƒ–ãƒ©ãƒƒãƒ‰ãƒ—ãƒªãƒ³ | support_creature_stat_copy | ğŸŸ¢æ°¸ç¶š |
| 407 | ã‚ªãƒ¼ã‚¬ãƒ­ãƒ¼ãƒ‰ | tribe_placement_bonus | ğŸ”µä¸€æ™‚ |

**æ°¸ç¶šãƒãƒ•**: ID 137ï¼ˆãƒ–ãƒ©ãƒƒãƒ‰ãƒ—ãƒªãƒ³ï¼‰
- æˆ¦é—˜å‰ã«æ´è­·ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®HPã‚’ `base_up_hp` ã«åŠ ç®—
- æ‰‹æœ­ã«æˆ»ã‚‹ã¾ã§æ°¸ç¶šçš„ã«ç¶­æŒ

**ä¸€æ™‚ãƒãƒ•**: ID 321ï¼ˆã‚¹ãƒšã‚¯ã‚¿ãƒ¼ï¼‰ã€ID 407ï¼ˆã‚ªãƒ¼ã‚¬ãƒ­ãƒ¼ãƒ‰ï¼‰
- ãƒãƒˆãƒ«ã”ã¨ã«è¨ˆç®—/æ¡ä»¶ãƒã‚§ãƒƒã‚¯
- ãƒãƒˆãƒ«çµ‚äº†å¾Œã¯æ¶ˆå¤±

**å®Ÿè£…ãƒã‚¤ãƒ³ãƒˆ**:
- é«˜åº¦ãªæ©Ÿèƒ½ã€å¾Œå›ã—ã§OK
- ãƒ–ãƒ©ãƒƒãƒ‰ãƒ—ãƒªãƒ³: æ´è­·ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆãŒå¿…è¦

---

## å€‹åˆ¥ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®è©³ç´°ä»•æ§˜

### æ°¸ç¶šãƒãƒ•ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®ç‰¹æ®Šä»•æ§˜

#### ID 7: ã‚­ãƒ¡ãƒ©
```gdscript
# å‘¨å›å®Œäº†æ™‚
creature_data["map_lap_count"] += 1
creature_data["base_up_ap"] += 10
```
- **ç´¯ç©**: ä½•å‘¨ã§ã‚‚ç´¯ç©ï¼ˆä¸Šé™ãªã—ï¼‰

---

#### ID 23: ãƒ‰ã‚¥ãƒ¼ãƒ ãƒ‡ãƒœãƒ©ãƒ¼
```gdscript
# ãƒ€ã‚¤ã‚¹ãƒ­ãƒ¼ãƒ«ç›´å¾Œã«ãƒã‚§ãƒƒã‚¯
if dice_result <= 3:
    creature_data["base_up_ap"] += 10
    creature_data["base_up_hp"] += 10
```
- **ç´¯ç©**: æ¡ä»¶ã‚’æº€ãŸã™ãŸã³ã« +10ï¼ˆä¸Šé™ãªã—ï¼‰
- **ç§˜è¡“**: å®Ÿè£…ã¯å¾Œå›ã—ï¼ˆç¾æ™‚ç‚¹ã§ã¯æœªå¯¾å¿œï¼‰

---

#### ID 34: ãƒã‚¤ãƒ­ãƒãƒ³ã‚µãƒ¼
```gdscript
# ãƒãƒˆãƒ«çµ‚äº†æ™‚ã€æ•µã‹ã‚‰ã®æ”»æ’ƒã‚’å—ã‘ã¦æ•—åŒ—ã—ãŸå ´åˆ
if not creature_data.get("bairomancer_triggered", false):
    if is_defender and battle_lost and enemy_took_land:
        creature_data["base_ap"] = 20  # ä»£å…¥ï¼ˆä¸Šæ›¸ãï¼‰
        creature_data["base_up_hp"] -= 30
        creature_data["bairomancer_triggered"] = true  # ãƒ•ãƒ©ã‚°è¨­å®š
```
- **1å›ã®ã¿**: ãƒ•ãƒ©ã‚°ç®¡ç†ã§2å›ç›®ä»¥é™ã¯ç™ºå‹•ã—ãªã„
- **æ•µæ”»æ’ƒæˆåŠŸ**: æ•µã‹ã‚‰æ”»æ’ƒã‚’å—ã‘ã¦ã€ã‹ã¤åœŸåœ°ã‚’å¥ªã‚ã‚ŒãŸå ´åˆ

---

#### ID 35: ãƒãƒ«ã‚­ãƒªãƒ¼
```gdscript
# ãƒãƒˆãƒ«å‹åˆ©æ™‚
creature_data["base_up_ap"] += 10
```
- **ç´¯ç©**: æ•µã‚’ç ´å£Šã™ã‚‹ãŸã³ã« +10ï¼ˆä¸Šé™ãªã—ï¼‰

---

#### ID 137: ãƒ–ãƒ©ãƒƒãƒ‰ãƒ—ãƒªãƒ³
```gdscript
# æ´è­·ç™ºå‹•æ™‚
var support_creature_mhp = support_creature_data["hp"] + support_creature_data.get("base_up_hp", 0)
creature_data["base_up_hp"] = min(creature_data["base_up_hp"] + support_creature_mhp, 100 - creature_data["hp"])
```
- **ç´¯ç©**: æ´è­·ã™ã‚‹ãŸã³ã«åŠ ç®—
- **MHPä¸Šé™**: 100ã¾ã§ï¼ˆ`hp + base_up_hp <= 100`ï¼‰
- **æ´è­·ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®MHP**: å…ƒã®HP + base_up_hp

---

#### ID 200: ã‚¢ãƒ¼ã‚¹ã‚ºãƒ”ãƒªãƒƒãƒˆ
```gdscript
# é…ç½®é ˜åœ°ã®ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ã¾ãŸã¯åœ°å½¢å¤‰åŒ–æ™‚
creature_data["base_up_hp"] += 10
```
- **ç´¯ç©**: ã‚¤ãƒ™ãƒ³ãƒˆã®ãŸã³ã« +10ï¼ˆä¸Šé™ãªã—ï¼‰
- **é…ç½®é ˜åœ°**: ã“ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãŒé…ç½®ã•ã‚Œã¦ã„ã‚‹é ˜åœ°ã®ã¿
- **ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—**: 1â†’2, 2â†’3, 3â†’4, 4â†’5 ã™ã¹ã¦å¯¾è±¡
- **åœ°å½¢å¤‰åŒ–**: ã‚¹ãƒšãƒ«ã€ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼é…ç½®ã«ã‚ˆã‚‹å±æ€§å¤‰åŒ–ã‚’å«ã‚€

---

#### ID 227: ãƒ€ã‚¹ã‚¯ãƒ‰ã‚¦ã‚§ãƒ©ãƒ¼
```gdscript
# ãƒãƒˆãƒ«å‹åˆ©æ™‚
creature_data["base_up_ap"] += 10
creature_data["base_up_hp"] += 10
```
- **ç´¯ç©**: æ•µã‚’ç ´å£Šã™ã‚‹ãŸã³ã« +10ï¼ˆä¸Šé™ãªã—ï¼‰

---

#### ID 240: ãƒ¢ã‚¹ã‚¿ã‚¤ã‚¿ãƒ³
```gdscript
# å‘¨å›å®Œäº†æ™‚
creature_data["map_lap_count"] += 1
creature_data["base_up_hp"] += 10

# MHPãƒã‚§ãƒƒã‚¯ï¼ˆæ¯å‘¨å›æ™‚ï¼‰
var total_mhp = creature_data["hp"] + creature_data["base_up_hp"]
if total_mhp >= 80:
    creature_data["base_up_hp"] = 0  # ãƒªã‚»ãƒƒãƒˆï¼ˆå…ƒã®HPã®ã¿æ®‹ã‚‹ï¼‰
```
- **ç´¯ç©**: å‘¨å›ã”ã¨ã« +10
- **ãƒªã‚»ãƒƒãƒˆ**: MHP < 80 â†’ MHP >= 80 ã«ãªã£ãŸæ™‚ç‚¹ã§ãƒªã‚»ãƒƒãƒˆ
- **ãƒªã‚»ãƒƒãƒˆå¾Œ**: base_up_hp = 0ï¼ˆå…ƒã®HP 30 ã®ã¿ï¼‰

---

#### ID 328: ãƒ‡ãƒ¥ãƒ¼ã‚¿ã‚¤ã‚¿ãƒ³
```gdscript
# é…ç½®é ˜åœ°ã®ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ã¾ãŸã¯åœ°å½¢å¤‰åŒ–æ™‚
creature_data["base_up_hp"] -= 10
```
- **ç´¯ç©**: ã‚¤ãƒ™ãƒ³ãƒˆã®ãŸã³ã« -10ï¼ˆä¸‹é™ãªã—ï¼‰
- **é…ç½®é ˜åœ°**: ã“ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãŒé…ç½®ã•ã‚Œã¦ã„ã‚‹é ˜åœ°ã®ã¿

---

### ä¸€æ™‚ãƒãƒ•ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®ç‰¹æ®Šä»•æ§˜

#### ID 47: ãƒ©ãƒ¼ãƒã‚­ãƒ³
```gdscript
# ãƒãƒˆãƒ«æº–å‚™æ™‚
participant.base_ap = current_turn  # ä»£å…¥ï¼ˆç¾åœ¨ã‚¿ãƒ¼ãƒ³æ•°ã§ä¸Šæ›¸ãï¼‰
participant.temporary_bonus_hp += current_turn
```
- **å‹•çš„è¨ˆç®—**: æ¯ãƒãƒˆãƒ«æ™‚ã«è¨ˆç®—ï¼ˆã‚¿ãƒ¼ãƒ³æ•°ä¾å­˜ï¼‰
- **ST=ç¾Ræ•°**: base_ap ã‚’å®Œå…¨ä¸Šæ›¸ãï¼ˆå…ƒã®å€¤ã¯ç„¡è¦–ï¼‰

---

#### ID 49: ãƒ­ãƒ¼ãƒ³ãƒ“ãƒ¼ã‚¹ãƒˆ
```gdscript
# ãƒãƒˆãƒ«æº–å‚™æ™‚
var base_st = creature_data["ap"] + creature_data.get("base_up_ap", 0)
participant.temporary_bonus_hp += base_st

# éš£æ¥æ¡ä»¶ãƒã‚§ãƒƒã‚¯
if has_adjacent_owned_land:
    apply_power_strike(participant)
```
- **åŸºæœ¬ST**: base_ap + base_up_ap
- **æ¯ãƒãƒˆãƒ«**: ãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹ä¸€æ™‚ãƒãƒ•

---

#### ID 146: ãƒªãƒªã‚¹
```gdscript
# ãƒãƒˆãƒ«æº–å‚™æ™‚
var hand_count = card_system.hand[player_id].size()
participant.base_ap = hand_count * 10  # ä»£å…¥
```
- **æ‰‹æœ­æ•°**: ãƒãƒˆãƒ«é–‹å§‹æ™‚ç‚¹ã®æ‰‹æœ­æšæ•°ï¼ˆã‚¢ã‚¤ãƒ†ãƒ ä½¿ç”¨å¾Œï¼‰
- **ST=æ‰‹æœ­æ•°Ã—10**: base_ap ã‚’ä¸Šæ›¸ã

---

#### ID 307: ã‚¬ãƒ«ãƒ¼ãƒ€ & ID 109: ã‚¢ãƒ³ãƒ€ã‚¤ãƒ³
```gdscript
# ãƒãƒˆãƒ«æº–å‚™æ™‚ï¼ˆoperation: "set"ï¼‰
var land_count = count_player_lands(player_id, ["wind"])
participant.base_ap = land_count * 10  # ä»£å…¥
participant.base_hp = land_count * 10  # ä»£å…¥
```
- **operation="set"**: base_ap/hp ã‚’è¨ˆç®—å€¤ã§ä¸Šæ›¸ã
- **ãã®å¾Œ**: åœŸåœ°ãƒœãƒ¼ãƒŠã‚¹ã€ã‚¢ã‚¤ãƒ†ãƒ ãƒœãƒ¼ãƒŠã‚¹ã€ã‚¹ãƒšãƒ«ãƒœãƒ¼ãƒŠã‚¹ã¯é€šå¸¸é€šã‚ŠåŠ ç®—

---

#### ID 321: ã‚¹ãƒšã‚¯ã‚¿ãƒ¼
```gdscript
# ãƒãƒˆãƒ«æº–å‚™æ™‚ï¼ˆæ¯å›ãƒ©ãƒ³ãƒ€ãƒ ï¼‰
participant.base_ap = randi() % 61 + 10  # 10~70
participant.base_hp = randi() % 61 + 10  # 10~70ï¼ˆåˆ¥ã€…ï¼‰
```
- **æ¯ãƒãƒˆãƒ«**: ãƒ©ãƒ³ãƒ€ãƒ å€¤ã‚’å†ç”Ÿæˆ
- **ST ã¨ HP**: åˆ¥ã€…ã«ãƒ©ãƒ³ãƒ€ãƒ 

---

#### ID 323: ã‚½ã‚¦ãƒ«ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼
```gdscript
# ãƒãƒˆãƒ«æº–å‚™æ™‚
var global_destroy_count = game_data["total_creatures_destroyed"]
participant.temporary_bonus_ap += global_destroy_count * 5
```
- **ç ´å£Šæ•°**: å…¨ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ç´¯è¨ˆç ´å£Šæ•°
- **ã‚«ã‚¦ãƒ³ãƒˆå¯¾è±¡**: ãƒãƒˆãƒ«å‹åˆ©ã€ã‚¹ãƒšãƒ«ã«ã‚ˆã‚‹ç ´å£Šã™ã¹ã¦
- **ä¿å­˜å ´æ‰€**: ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚²ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿ï¼ˆ`game_data["total_creatures_destroyed"]`ï¼‰

---

## å®Ÿè£…å„ªå…ˆåº¦ã¨ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### Phase 3-A: ã‚·ãƒ³ãƒ—ãƒ«ãªæ¡ä»¶åŠ¹æœï¼ˆæœ€å„ªå…ˆï¼‰

**å¯¾è±¡**: 8ä½“ï¼ˆå®Ÿè£…é›£æ˜“åº¦: â˜…â˜†â˜†ã€œâ˜…â˜…â˜†ï¼‰

1. **å¸¸æ™‚è£œæ­£** (2ä½“)
   - [ ] ã‚¢ã‚¤ã‚¹ã‚¦ã‚©ãƒ¼ãƒ« (ID: 102) - `constant_stat_bonus`
   - [ ] ãƒˆãƒ«ãƒãƒ¼ãƒ‰ (ID: 330) - `constant_stat_bonus`

2. **é…ç½®æ•°æ¯”ä¾‹** (5ä½“)
   - [ ] ãƒ•ã‚¡ã‚¤ã‚¢ãƒ¼ãƒ‰ãƒ¬ã‚¤ã‚¯ (ID: 37)
   - [ ] ãƒ–ãƒ©ãƒ³ãƒã‚¢ãƒ¼ãƒŸãƒ¼ (ID: 236)
   - [ ] ãƒãƒƒãƒ‰ãƒãƒ³ (ID: 238)
   - [ ] ã‚¬ãƒ«ãƒ¼ãƒ€ (ID: 307)
   - [ ] ã‚¢ãƒ³ãƒ€ã‚¤ãƒ³ (ID: 109)

3. **æˆ¦é—˜åœ°æ¡ä»¶** (2ä½“)
   - [ ] ã‚¢ãƒ³ãƒ•ã‚£ãƒ“ã‚¢ãƒ³ (ID: 110)
   - [ ] ã‚«ã‚¯ã‚¿ã‚¹ã‚¦ã‚©ãƒ¼ãƒ« (ID: 205)

**è¦‹ç©ã‚‚ã‚Šå·¥æ•°**: 2-3æ—¥

**å®Ÿè£…æ‰‹é †**:
1. `constant_stat_bonus` ã‚’ BattleSkillProcessor ã«è¿½åŠ 
2. `land_count_multiplier` ã® `operation: "set"` å¯¾å¿œ
3. ConditionChecker ã« `battle_land_element_check` è¿½åŠ 

---

### Phase 3-B: ä¸­ç¨‹åº¦ã®æ¡ä»¶åŠ¹æœ

**å¯¾è±¡**: 10ä½“ï¼ˆå®Ÿè£…é›£æ˜“åº¦: â˜…â˜…â˜†ï¼‰

4. **éš£æ¥æ¡ä»¶** (2ä½“)
   - [ ] ã‚¿ã‚¤ã‚¬ãƒ¼ãƒ´ã‚§ã‚¿ (ID: 226)
   - [ ] ãƒ­ãƒ¼ãƒ³ãƒ“ãƒ¼ã‚¹ãƒˆ (ID: 49)

5. **é ˜åœ°æ•°æ¡ä»¶** (1ä½“)
   - [ ] ãƒãƒ¼ãƒ³ã‚¿ã‚¤ã‚¿ãƒ³ (ID: 30)

6. **é…ç½®æ•°æ¯”ä¾‹ï¼ˆç‰¹æ®Šï¼‰** (2ä½“)
   - [ ] ãƒªãƒ“ãƒ³ã‚°ã‚¯ãƒ­ãƒ¼ãƒ– (ID: 440) - ä»–å±æ€§
   - [ ] ãƒã‚¤ãƒ—ãƒ¯ãƒ¼ã‚«ãƒ¼ (ID: 32) - ç‰¹å®šã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼

7. **æ‰‹æœ­ãƒ»ãƒ–ãƒƒã‚¯** (2ä½“)
   - [ ] ãƒªãƒªã‚¹ (ID: 146)
   - [ ] ã‚³ã‚¢ãƒˆãƒªã‚¯ã‚¨ (ID: 214)

8. **ãƒ©ã‚¦ãƒ³ãƒ‰æ•°** (1ä½“)
   - [ ] ãƒ©ãƒ¼ãƒã‚­ãƒ³ (ID: 47)

9. **æˆ¦é—˜åœ°ãƒ¬ãƒ™ãƒ«** (1ä½“)
   - [ ] ãƒãƒƒã‚·ãƒ¼ (ID: 131)

10. **é˜²å¾¡æ™‚æ¡ä»¶** (1ä½“)
    - [ ] ã‚¬ãƒ¼ã‚´ã‚¤ãƒ« (ID: 204)

**è¦‹ç©ã‚‚ã‚Šå·¥æ•°**: 4-5æ—¥

---

### Phase 3-C: æ°¸ç¶šè“„ç©ã‚·ã‚¹ãƒ†ãƒ 

**å¯¾è±¡**: 5ä½“ï¼ˆå®Ÿè£…é›£æ˜“åº¦: â˜…â˜…â˜…ã€æ–°ã‚·ã‚¹ãƒ†ãƒ å¿…è¦ï¼‰

11. **å‘¨å›ã”ã¨æ°¸ç¶šä¸Šæ˜‡** (2ä½“)
    - [ ] ã‚­ãƒ¡ãƒ© (ID: 7)
    - [ ] ãƒ¢ã‚¹ã‚¿ã‚¤ã‚¿ãƒ³ (ID: 240)

12. **æ•µç ´å£Šæ™‚æ°¸ç¶šä¸Šæ˜‡** (2ä½“)
    - [ ] ãƒãƒ«ã‚­ãƒªãƒ¼ (ID: 35)
    - [ ] ãƒ€ã‚¹ã‚¯ãƒ‰ã‚¦ã‚§ãƒ©ãƒ¼ (ID: 227)

13. **ç ´å£Šæ•°ã‚«ã‚¦ãƒ³ãƒˆ** (1ä½“)
    - [ ] ã‚½ã‚¦ãƒ«ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼ (ID: 323)

**å¿…è¦ãªæ–°ã‚·ã‚¹ãƒ†ãƒ **:
- GameFlowManager ã« `on_lap_complete()` signal
- BattleSystem ã« `on_battle_win()` signal
- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã”ã¨ã®ç ´å£Šæ•°ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼

**è¦‹ç©ã‚‚ã‚Šå·¥æ•°**: 3-4æ—¥

---

### Phase 3-D: ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚·ã‚¹ãƒ†ãƒ 

**å¯¾è±¡**: 5ä½“ï¼ˆå®Ÿè£…é›£æ˜“åº¦: â˜…â˜…â˜…ã€ã‚¤ãƒ™ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ å¿…è¦ï¼‰

14. **æˆ¦é—˜å¾Œå¤‰å‹•** (3ä½“)
    - [ ] ãƒ­ãƒƒã‚¯ã‚¿ã‚¤ã‚¿ãƒ³ (ID: 446)
    - [ ] ãƒã‚¤ãƒ­ãƒãƒ³ã‚µãƒ¼ (ID: 34)
    - [ ] ãƒªãƒ¼ãƒ³ã‚¿ã‚¤ã‚¿ãƒ³ (ID: 439)

15. **é ˜åœ°å¤‰åŒ–æ™‚** (2ä½“)
    - [ ] ã‚¢ãƒ¼ã‚¹ã‚ºãƒ”ãƒªãƒƒãƒˆ (ID: 200)
    - [ ] ãƒ‡ãƒ¥ãƒ¼ã‚¿ã‚¤ã‚¿ãƒ³ (ID: 328)

**å¿…è¦ãªæ–°ã‚·ã‚¹ãƒ†ãƒ **:
- BattleSystem ã« `on_battle_end()` signal
- BoardSystem3D ã« `on_land_level_up()`, `on_terrain_change()` signal

**è¦‹ç©ã‚‚ã‚Šå·¥æ•°**: 3-4æ—¥

---

### Phase 4: è¤‡é›‘ãƒ»ç‰¹æ®Šã‚±ãƒ¼ã‚¹ï¼ˆå¾Œå›ã—ï¼‰

**å¯¾è±¡**: 6ä½“ï¼ˆå®Ÿè£…é›£æ˜“åº¦: â˜…â˜…â˜…ï¼‰

16. **MHPæ¡ä»¶ä»˜ãé…ç½®æ•°** (1ä½“)
    - [ ] ã‚¸ã‚§ãƒãƒ©ãƒ«ã‚«ãƒ³ (ID: 15)

17. **ãƒ€ã‚¤ã‚¹æ¡ä»¶** (1ä½“)
    - [ ] ãƒ‰ã‚¥ãƒ¼ãƒ ãƒ‡ãƒœãƒ©ãƒ¼ (ID: 23)

18. **ãƒãƒ¼ã‚¯é ˜åœ°** (1ä½“)
    - [ ] ã‚®ã‚¬ãƒ³ãƒ†ãƒªã‚¦ãƒ  (ID: 206)

19. **ã‚¢ã‚¤ãƒ†ãƒ é–¢é€£** (2ä½“)
    - [ ] ãƒªãƒ“ãƒ³ã‚°ã‚¢ãƒ¼ãƒãƒ¼ (ID: 438)
    - [ ] ãƒ–ãƒ«ã‚¬ã‚µãƒª (ID: 339)

20. **ç‰¹æ®ŠåŠ¹æœ** (3ä½“)
    - [ ] ã‚¹ãƒšã‚¯ã‚¿ãƒ¼ (ID: 321) - ãƒ©ãƒ³ãƒ€ãƒ 
    - [ ] ãƒ–ãƒ©ãƒƒãƒ‰ãƒ—ãƒªãƒ³ (ID: 137) - æ´è­·ä¾å­˜
    - [ ] ã‚ªãƒ¼ã‚¬ãƒ­ãƒ¼ãƒ‰ (ID: 407) - ç¨®æ—åˆ¤å®š

**è¦‹ç©ã‚‚ã‚Šå·¥æ•°**: 5-7æ—¥

---

## ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã¨JSONä¾‹

### åŸºæœ¬æ§‹é€ 

```json
{
  "id": 102,
  "name": "ã‚¢ã‚¤ã‚¹ã‚¦ã‚©ãƒ¼ãƒ«",
  "ap": 10,
  "hp": 50,
  "ability_detail": "HP+20",
  "ability_parsed": {
    "effects": [
      {
        "effect_type": "constant_stat_bonus",
        "stat_changes": {"hp": 20},
        "description": "å¸¸æ™‚HP+20"
      }
    ]
  }
}
```

### é…ç½®æ•°æ¯”ä¾‹ï¼ˆè¤‡æ•°å±æ€§ï¼‰

```json
{
  "id": 1,
  "name": "ã‚¢ãƒ¼ãƒ ãƒ‰ãƒ‘ãƒ©ãƒ‡ã‚£ãƒ³",
  "ap": 0,
  "hp": 50,
  "ability_detail": "ST=ç«åœ°,é…ç½®æ•°Ã—10",
  "ability_parsed": {
    "effects": [
      {
        "effect_type": "land_count_multiplier",
        "stat": "ap",
        "elements": ["fire", "earth"],
        "multiplier": 10,
        "operation": "set",
        "description": "ç«ã¨åœŸã®é…ç½®æ•°Ã—10ã‚’STã«ä»£å…¥"
      }
    ]
  }
}
```

### å‘¨å›ã”ã¨æ°¸ç¶šä¸Šæ˜‡

```json
{
  "id": 7,
  "name": "ã‚­ãƒ¡ãƒ©",
  "ap": 50,
  "hp": 50,
  "ability_detail": "å‘¨å›ã”ã¨ã«ST+10",
  "ability_parsed": {
    "effects": [
      {
        "effect_type": "per_lap_permanent_bonus",
        "stat": "ap",
        "value": 10,
        "description": "ãƒãƒƒãƒ—1å‘¨ã”ã¨ã«ST+10ï¼ˆæ°¸ç¶šï¼‰"
      }
    ]
  }
}
```

### éš£æ¥æ¡ä»¶

```json
{
  "id": 226,
  "name": "ã‚¿ã‚¤ã‚¬ãƒ¼ãƒ´ã‚§ã‚¿",
  "ap": 30,
  "hp": 30,
  "ability_detail": "éš£æ¥é ˜åœ°ãŒè‡ªé ˜åœ°ã®å ´åˆã€ST&HP+20",
  "ability_parsed": {
    "effects": [
      {
        "effect_type": "adjacent_land_bonus",
        "condition": "any_adjacent_owned",
        "stat_changes": {"ap": 20, "hp": 20},
        "description": "éš£æ¥ã«è‡ªé ˜åœ°ãŒã‚ã‚‹å ´åˆST&HP+20"
      }
    ]
  }
}
```

### æ•µç ´å£Šæ™‚æ°¸ç¶šä¸Šæ˜‡

```json
{
  "id": 35,
  "name": "ãƒãƒ«ã‚­ãƒªãƒ¼",
  "ap": 30,
  "hp": 40,
  "ability_detail": "æ•µç ´å£Šæ™‚ã€ST+10",
  "ability_parsed": {
    "effects": [
      {
        "effect_type": "on_enemy_destroy_permanent",
        "stat_changes": {"ap": 10},
        "description": "æ•µã‚’ç ´å£Šã™ã‚‹ãŸã³ã«ST+10ï¼ˆæ°¸ç¶šï¼‰"
      }
    ]
  }
}
```

### æ‰‹æœ­æ•°ä¾å­˜

```json
{
  "id": 146,
  "name": "ãƒªãƒªã‚¹",
  "ap": 0,
  "hp": 30,
  "ability_detail": "ST=è‡ªæ‰‹æœ­æ•°Ã—10",
  "ability_parsed": {
    "effects": [
      {
        "effect_type": "hand_count_multiplier",
        "stat": "ap",
        "multiplier": 10,
        "operation": "set",
        "description": "æ‰‹æœ­æšæ•°Ã—10ã‚’STã«ä»£å…¥"
      }
    ]
  }
}
```

---

## æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆ

### BattleSkillProcessor ã®æ‹¡å¼µ

**ç¾åœ¨ã®å½¹å‰²**:
- `apply_land_count_effects()` âœ…å®Ÿè£…æ¸ˆã¿

**è¿½åŠ ãŒå¿…è¦ãªãƒ¡ã‚½ãƒƒãƒ‰**:

```gdscript
# Phase 3-A
func apply_constant_stat_bonuses(participant: BattleParticipant):
	"""å¸¸æ™‚è£œæ­£ã‚’é©ç”¨"""
	
func apply_battle_land_element_conditions(participant: BattleParticipant, tile_data: Dictionary, context: Dictionary):
	"""æˆ¦é—˜åœ°å±æ€§æ¡ä»¶ã‚’é©ç”¨"""

# Phase 3-B
func apply_adjacent_land_bonuses(participant: BattleParticipant, tile_index: int, context: Dictionary):
	"""éš£æ¥é ˜åœ°æ¡ä»¶ã‚’é©ç”¨"""
	
func apply_owned_land_count_bonuses(participant: BattleParticipant, player_id: int):
	"""è‡ªé ˜åœ°æ•°æ¡ä»¶ã‚’é©ç”¨"""
	
func apply_hand_count_effects(participant: BattleParticipant, player_id: int):
	"""æ‰‹æœ­æ•°ä¾å­˜åŠ¹æœã‚’é©ç”¨"""
	
func apply_deck_comparison_effects(participant: BattleParticipant, player_id: int, enemy_id: int):
	"""ãƒ‡ãƒƒã‚­æ¯”è¼ƒåŠ¹æœã‚’é©ç”¨"""
	
func apply_round_number_effects(participant: BattleParticipant, current_round: int):
	"""ãƒ©ã‚¦ãƒ³ãƒ‰æ•°ä¾å­˜åŠ¹æœã‚’é©ç”¨"""

# Phase 3-C
func apply_per_lap_bonuses(participant: BattleParticipant):
	"""å‘¨å›ãƒœãƒ¼ãƒŠã‚¹ã‚’é©ç”¨ï¼ˆpermanent_effectsã‹ã‚‰è¨ˆç®—ï¼‰"""
	
func apply_destroy_count_effects(participant: BattleParticipant, player_id: int):
	"""ç ´å£Šæ•°ã‚«ã‚¦ãƒ³ãƒˆåŠ¹æœã‚’é©ç”¨"""
```

### BattlePreparation ã¸ã®çµ±åˆ

**å¤‰æ›´ç®‡æ‰€**: `prepare_participants()`

```gdscript
func prepare_participants():
	# ... æ—¢å­˜å‡¦ç† ...
	
	# æ¡ä»¶ä»˜ããƒãƒ•åŠ¹æœã®é©ç”¨ï¼ˆæ–°è¦è¿½åŠ ï¼‰
	skill_processor.apply_constant_stat_bonuses(attacker)
	skill_processor.apply_constant_stat_bonuses(defender)
	
	skill_processor.apply_land_count_effects(attacker, context)
	skill_processor.apply_land_count_effects(defender, context)
	
	skill_processor.apply_adjacent_land_bonuses(attacker, attacker_tile_index, context)
	skill_processor.apply_adjacent_land_bonuses(defender, defender_tile_index, context)
	
	# ... æ„Ÿå¿œã€å¼·æ‰“ãªã©æ—¢å­˜å‡¦ç† ...
```

### BattleSystem ã¸ã®çµ±åˆ

**æ–°è¦ signal ã®è¿½åŠ **:

```gdscript
signal battle_won(winner_player_id: int, loser_tile_index: int)
signal battle_ended(attacker_tile: int, defender_tile: int, result: Dictionary)
signal lap_completed(player_id: int)
```

**ãƒãƒˆãƒ«çµ‚äº†å‡¦ç†ã®æ‹¡å¼µ**:

```gdscript
func on_battle_complete(result: Dictionary):
	# ... æ—¢å­˜å‡¦ç† ...
	
	# æ°¸ç¶šåŠ¹æœã®é©ç”¨
	if result.winner == "attacker":
		_apply_on_destroy_permanent_effects(attacker_tile_index)
		battle_won.emit(attacker.player_id, defender_tile_index)
	
	# æˆ¦é—˜å¾Œå¤‰å‹•åŠ¹æœ
	_apply_after_battle_changes(attacker_tile_index)
	_apply_after_battle_changes(defender_tile_index)
	
	battle_ended.emit(attacker_tile_index, defender_tile_index, result)
```

### GameFlowManager ã¸ã®çµ±åˆ

**å‘¨å›ã‚«ã‚¦ãƒ³ãƒˆã®è¿½åŠ **:

```gdscript
signal lap_completed(player_id: int)

func check_lap_completion(player_id: int, new_tile_index: int):
	# ã‚´ãƒ¼ãƒ«é€šéåˆ¤å®š
	if new_tile_index == 0 and old_tile_index > 0:
		_on_player_lap_completed(player_id)

func _on_player_lap_completed(player_id: int):
	# å…¨ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã«å‘¨å›ãƒœãƒ¼ãƒŠã‚¹ã‚’é©ç”¨
	for tile in board_system.get_player_tiles(player_id):
		if tile.creature_data:
			_apply_lap_bonus_to_creature(tile.creature_data)
	
	lap_completed.emit(player_id)
```

---

## å®Ÿè£…æ™‚ã®é‡è¦ãªæ³¨æ„äº‹é …

### âš ï¸ operation="set" ã®æ­£ã—ã„å®Ÿè£…

**é–“é•ã£ãŸå®Ÿè£…**:
```gdscript
# âŒ ã“ã‚Œã¯é–“é•ã„
participant.current_ap = land_count * 10
```

**æ­£ã—ã„å®Ÿè£…**:
```gdscript
# âœ… base_ap ã‚’ä¸Šæ›¸ãã—ã¦ã€ãã®å¾Œã«é€šå¸¸ã®ãƒœãƒ¼ãƒŠã‚¹ã‚’åŠ ç®—
participant.base_ap = land_count * 10  # åŸºç¤å€¤ã‚’ä¸Šæ›¸ã
# ãã®å¾Œã€åœŸåœ°ãƒœãƒ¼ãƒŠã‚¹ã€ã‚¢ã‚¤ãƒ†ãƒ ã€ã‚¹ãƒšãƒ«ã€æ„Ÿå¿œã¯é€šå¸¸é€šã‚ŠåŠ ç®—ã•ã‚Œã‚‹
participant.current_ap = participant.base_ap + land_bonus_hp + item_bonus_ap + ...
```

**é‡è¦**: `operation="set"` ã¯åŸºç¤å€¤ã®ä¸Šæ›¸ãã§ã‚ã‚Šã€æœ€çµ‚å€¤ã®ä¸Šæ›¸ãã§ã¯ãªã„ã€‚

---

### âš ï¸ ç ´å£Šæ•°ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®å®Ÿè£…å ´æ‰€

**ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼**ï¼ˆã‚½ã‚¦ãƒ«ã‚³ãƒ¬ã‚¯ã‚¿ãƒ¼ç”¨ï¼‰:
```gdscript
# GameFlowManager ã¾ãŸã¯ GameData
var game_data = {
    "total_creatures_destroyed": 0  # å…¨ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ç´¯è¨ˆ
}

# ãƒãƒˆãƒ«å‹åˆ©æ™‚ã€ã‚¹ãƒšãƒ«ã§ã®ç ´å£Šæ™‚
func on_creature_destroyed():
    game_data["total_creatures_destroyed"] += 1
```

**ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼å›ºæœ‰ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼**ï¼ˆå°†æ¥ã®æ‹¡å¼µç”¨ï¼‰:
```gdscript
creature_data["destroy_count"] = 0  # ã“ã®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãŒç ´å£Šã—ãŸæ•°
```

---

### âš ï¸ æ°¸ç¶šãƒãƒ•ã®ãƒªã‚»ãƒƒãƒˆã‚’å¿˜ã‚Œãšã«

ä»¥ä¸‹ã®å‡¦ç†ã§å¿…ãš `reset_permanent_buffs()` ã‚’å‘¼ã¶:
1. äº¤æ›ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ™‚
2. ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ç ´å£Šæ™‚
3. å¤‰èº«åŠ¹æœé©ç”¨æ™‚
4. å¢“åœ°ã‹ã‚‰æ‰‹æœ­ã«æˆ»ã™æ™‚

```gdscript
func reset_permanent_buffs(creature_data: Dictionary):
    creature_data["base_up_hp"] = 0
    creature_data["base_up_ap"] = 0
    creature_data["map_lap_count"] = 0
    creature_data["destroy_count"] = 0
    # ãã®ä»–ã®æ°¸ç¶šãƒ•ãƒ©ã‚°ã‚‚ãƒªã‚»ãƒƒãƒˆ
    creature_data.erase("bairomancer_triggered")
```

---

### âš ï¸ ä¸€æ™‚ãƒãƒ•ã¨æ°¸ç¶šãƒãƒ•ã®é©ç”¨å ´æ‰€

**ä¸€æ™‚ãƒãƒ•ï¼ˆãƒãƒˆãƒ«æº–å‚™æ™‚ã«è¨ˆç®—ï¼‰**:
```gdscript
# BattleSkillProcessor.apply_conditional_buffs()
participant.temporary_bonus_hp += calculated_value
participant.temporary_bonus_ap += calculated_value
```

**æ°¸ç¶šãƒãƒ•ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆæ™‚ã«ç›´æ¥å¤‰æ›´ï¼‰**:
```gdscript
# BattleSystem.on_battle_win(), GameFlowManager.on_lap_complete() ãªã©
tile.creature_data["base_up_hp"] += 10
tile.creature_data["base_up_ap"] += 10
```

---

### âš ï¸ ä¸€æ™‚ãƒãƒ•ã®è¨ˆç®—é †åºï¼ˆæ¨å¥¨ï¼‰

```gdscript
func apply_conditional_buffs(participant: BattleParticipant, context: Dictionary):
    # 1. å¸¸æ™‚è£œæ­£ï¼ˆæœ€å„ªå…ˆï¼‰
    apply_constant_stat_bonuses(participant)
    
    # 2. é…ç½®æ•°æ¯”ä¾‹
    apply_land_count_effects(participant, context)
    
    # 3. é ˜åœ°æ¡ä»¶
    apply_owned_land_count_bonuses(participant, context.player_id)
    apply_adjacent_land_bonuses(participant, context.tile_index, context)
    apply_battle_land_level_bonus(participant, context)
    
    # 4. æ‰‹æœ­ãƒ»ãƒ–ãƒƒã‚¯æ¡ä»¶
    apply_hand_count_effects(participant, context.player_id)
    apply_deck_comparison_effects(participant, context.player_id, context.enemy_id)
    
    # 5. æˆ¦é—˜åœ°ãƒ»æ•µå±æ€§æ¡ä»¶
    apply_battle_land_element_conditions(participant, context)
    
    # 6. ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ»ãƒ€ã‚¤ã‚¹æ¡ä»¶
    apply_round_number_effects(participant, context.current_round)
    apply_dice_condition_bonuses(participant, context.dice_value)
    
    # 7. ç ´å£Šæ•°ã‚«ã‚¦ãƒ³ãƒˆ
    apply_destroy_count_effects(participant, context)
    
    # 8. é˜²å¾¡æ™‚æ¡ä»¶
    if participant.is_defender:
        apply_defensive_stat_overrides(participant)
```

---

### âš ï¸ MHPä¸Šé™ãƒã‚§ãƒƒã‚¯ï¼ˆãƒ–ãƒ©ãƒƒãƒ‰ãƒ—ãƒªãƒ³ï¼‰

```gdscript
# æ´è­·ç™ºå‹•æ™‚
var support_mhp = support_creature_data["hp"] + support_creature_data.get("base_up_hp", 0)
var current_mhp = creature_data["hp"] + creature_data.get("base_up_hp", 0)

# MHP 100 ã‚’è¶…ãˆãªã„ã‚ˆã†ã«åˆ¶é™
var max_increase = 100 - current_mhp
var actual_increase = min(support_mhp, max_increase)

if actual_increase > 0:
    creature_data["base_up_hp"] += actual_increase
```

---

### âš ï¸ ãƒ•ãƒ©ã‚°ç®¡ç†ï¼ˆãƒã‚¤ãƒ­ãƒãƒ³ã‚µãƒ¼ï¼‰

```gdscript
# ãƒãƒˆãƒ«çµ‚äº†æ™‚ã€1å›ã®ã¿ç™ºå‹•
if not creature_data.get("bairomancer_triggered", false):
    if is_defender and battle_lost and enemy_took_land:
        creature_data["base_ap"] = 20
        creature_data["base_up_hp"] -= 30
        creature_data["bairomancer_triggered"] = true
```

**æ³¨æ„**: ãƒ•ãƒ©ã‚°ã‚‚æ‰‹æœ­ã«æˆ»ã£ãŸæ™‚ã«ãƒªã‚»ãƒƒãƒˆãŒå¿…è¦

---

## å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å¤‰æ›´å†…å®¹ |
|------|-----------|---------|
| 2025/10/26 | 1.0 | åˆç‰ˆä½œæˆ - conditional_stat_buffs.md ã¨ effect_system.md ã‚’çµ±åˆ |
| 2025/10/26 | 1.1 | æ°¸ç¶šãƒãƒ•ã¨ä¸€æ™‚ãƒãƒ•ã®åˆ†é¡ã‚’è¿½åŠ ã€9ä½“ã®æ°¸ç¶šãƒãƒ•ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã‚’æ˜ç¢ºåŒ– |
| 2025/10/26 | 1.2 | è³ªå•13ä»¶ã®å›ç­”ã‚’åæ˜ ã€å€‹åˆ¥ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã®è©³ç´°ä»•æ§˜ã¨å®Ÿè£…æ™‚ã®æ³¨æ„äº‹é …ã‚’è¿½åŠ  |

---

**æœ€çµ‚æ›´æ–°**: 2025å¹´10æœˆ26æ—¥ï¼ˆv1.2ï¼‰
