# 条件付きステータスバフシステム 実装完了記録

**作成日**: 2025年10月26日  
**完了日**: 2025年10月30日  
**ステータス**: ✅ **実装完了**（37体完了 / 38体実装可能）

---

## 1. 概要

### 1.1 システム概要
条件付きステータスバフシステムは、クリーチャーが特定の条件下で能力値が変動する機能です。
- **一時バフ**: バトル準備時に計算、バトル終了後に消失
- **永続バフ**: イベント発生時に加算、手札に戻るまで維持

### 1.2 実装状況サマリー
- ✅ **実装完了**: 37体
- ❌ **実装不可**: 3体
- 📋 **effect_type**: 26種類

### 1.3 関連ドキュメント

| ドキュメント | 内容 |
|-------------|------|
| [hp_structure.md](./hp_structure.md) | HP管理構造・MHP計算 |
| [lap_system.md](./lap_system.md) | 周回システム |
| [turn_number_system.md](./turn_number_system.md) | ラウンド数カウンター |
| [condition_patterns_catalog.md](./condition_patterns_catalog.md) | 条件分岐パターン完全カタログ |

---

## 2. 実装完了クリーチャー（37体）

### 2.1 配置数比例（11体）
土地数や配置クリーチャー数に応じてステータスが変動

### 2.2 戦闘地・敵属性条件（3体）
戦闘地の属性や敵の属性によってステータスが変動

### 2.3 領地条件（7体）
自領地数、隣接領地、土地イベントによってステータスが変動

### 2.4 戦闘イベント（6体）
破壊数、バトル後変化などのイベントによってステータスが変動

### 2.5 周回・ラウンド系（3体）
周回数やターン数に応じてステータスが変動

### 2.6 手札系（1体）
手札枚数に応じてステータスが変動

### 2.7 アイテム関連（2体）
アイテム使用状況によってステータスが変動

### 2.8 特殊（3体）
ランダムステータス、援護連携、種族配置ボーナス
- スペクター: ランダムステータス
- ブラッドプリン: 援護連携
- オーガロード: 種族配置ボーナス

### 2.9 ダイス条件（1体）
ダイス値に応じてステータスが変動

---

## 3. 実装不可クリーチャー（3体）

| ID | 名前 | 理由 |
|----|------|------|
| 214 | コアトリクエ | CardSystemが全プレイヤー共通デッキ |
| 439 | リーンタイタン | バトル後MHP減少が実装不可 |
| 206 | ギガンテリウム | マーク付き領地システム未実装 |

---

## 4. システム分類

### 4.1 一時バフシステム（27体）
バトル準備時に計算、バトル終了後に消失

### 4.2 永続バフシステム（10体）
イベント発生時に`base_up_hp/ap`に加算、手札に戻るまで維持
- キメラ、モスタイタン（周回ボーナス）
- バルキリー、ダスクドウェラー（敵破壊時）
- バイロマンサー、ロックタイタン（バトル後変化）
- アースズピリット、デュータイタン（土地イベント）
- ブラッドプリン（援護連携）
- ブルガサリ（敵アイテム使用時）

---

## 5. 実装された effect_type 一覧（26種類）

### 5.1 ステータス変動系（15種類）
1. `land_count_multiplier` - 土地数比例
2. `constant_stat_bonus` - 常時補正
3. `battle_land_element_bonus` - 戦闘地属性条件
4. `enemy_element_bonus` - 敵属性条件
5. `destroy_count_multiplier` - 破壊数比例
6. `turn_number_bonus` - ターン数ボーナス
7. `hand_count_multiplier` - 手札数比例
8. `defender_fixed_ap` - 防御時固定ST
9. `battle_land_level_bonus` - 戦闘地レベルボーナス
10. `owned_land_threshold` - 自領地数閾値
11. `specific_creature_count` - 特定クリーチャーカウント
12. `other_element_count` - 他属性カウント
13. `adjacent_owned_land` - 隣接自領地条件
14. `base_st_to_hp` - 基礎ST→HP変換
15. `conditional_land_count` - 条件付き配置数

### 5.2 特殊効果系（11種類）
16. `random_stat` - ランダムステータス
17. `tribe_placement_bonus` - 種族配置ボーナス
18. `support` - 応援
19. `power_strike` - 強打
20. `transform` - 変身
21. `reflect_damage` - 反射
22. `destroy_item` - アイテム破壊
23. `steal_item` - アイテム盗み
24. `nullify_reflect` - 反射無効
25. `nullify_item_manipulation` - アイテム操作無効
26. `dice_condition_bonus` - ダイス条件ボーナス

---

**最終更新**: 2025年10月30日
