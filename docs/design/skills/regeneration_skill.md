# å†ç”Ÿã‚¹ã‚­ãƒ«

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: ã‚«ãƒ«ãƒ‰ã‚»ãƒ—ãƒˆé¢¨ã‚«ãƒ¼ãƒ‰ãƒãƒˆãƒ«ã‚²ãƒ¼ãƒ   
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.5  
**æœ€çµ‚æ›´æ–°**: 2025å¹´10æœˆ24æ—¥

---

## ğŸ“‹ ç›®æ¬¡

1. [æ¦‚è¦](#æ¦‚è¦)
2. [ç™ºå‹•æ¡ä»¶](#ç™ºå‹•æ¡ä»¶)
3. [åŠ¹æœ](#åŠ¹æœ)
4. [å›å¾©ç¯„å›²](#å›å¾©ç¯„å›²)
5. [é©ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°](#é©ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°)
6. [å®Ÿè£…ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼](#å®Ÿè£…ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼)
7. [ãƒ‡ãƒ¼ã‚¿æ§‹é€ ](#ãƒ‡ãƒ¼ã‚¿æ§‹é€ )
8. [å®Ÿè£…ã‚³ãƒ¼ãƒ‰](#å®Ÿè£…ã‚³ãƒ¼ãƒ‰)
9. [ä½¿ç”¨ä¾‹](#ä½¿ç”¨ä¾‹)
10. [è¨­è¨ˆæ€æƒ³](#è¨­è¨ˆæ€æƒ³)

---

## æ¦‚è¦

ãƒãƒˆãƒ«çµ‚äº†å¾Œã«åŸºæœ¬HPã‚’å…¨å›å¾©ã™ã‚‹ãƒ‘ãƒƒã‚·ãƒ–ã‚¹ã‚­ãƒ«ã€‚

---

## ç™ºå‹•æ¡ä»¶

- **ç”Ÿãæ®‹ã£ãŸå ´åˆã®ã¿**ç™ºå‹•ï¼ˆ`current_hp > 0`ï¼‰
- HP0ä»¥ä¸‹ï¼ˆå€’ã•ã‚ŒãŸï¼‰ã®å ´åˆã¯ç™ºå‹•ã—ãªã„
- **ç„¡æ¡ä»¶ç™ºå‹•**ï¼ˆç”Ÿå­˜ã—ã¦ã„ã‚Œã°å¿…ãšç™ºå‹•ï¼‰

---

## åŠ¹æœ

- ãƒãƒˆãƒ«çµ‚äº†å¾Œã€`base_hp`ã‚’å…ƒã®æœ€å¤§å€¤ã¾ã§å›å¾©
- åœŸåœ°ãƒœãƒ¼ãƒŠã‚¹ã‚„æ„Ÿå¿œãƒœãƒ¼ãƒŠã‚¹ã¯å«ã¾ãªã„ï¼ˆæˆ¦é—˜ã”ã¨ã«ãƒªã‚»ãƒƒãƒˆï¼‰

---

## å›å¾©ç¯„å›²

å†ç”Ÿã‚¹ã‚­ãƒ«ã¯**åŸºæœ¬HPã®ã¿**ã‚’å›å¾©ã—ã¾ã™ã€‚

| å¯¾è±¡ | å›å¾© |
|------|------|
| âœ… åŸºæœ¬HP (`base_hp`) | ã™ã‚‹ |
| âŒ åœŸåœ°ãƒœãƒ¼ãƒŠã‚¹ (`land_bonus_hp`) | ã—ãªã„ |
| âŒ æ„Ÿå¿œãƒœãƒ¼ãƒŠã‚¹ (`resonance_bonus_hp`) | ã—ãªã„ |
| âŒ ã‚¢ã‚¤ãƒ†ãƒ ãƒœãƒ¼ãƒŠã‚¹ (`item_bonus_hp`) | ã—ãªã„ |
| âŒ ã‚¹ãƒšãƒ«ãƒœãƒ¼ãƒŠã‚¹ (`spell_bonus_hp`) | ã—ãªã„ |

### é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ

åœŸåœ°ãƒœãƒ¼ãƒŠã‚¹ã‚„æ„Ÿå¿œãƒœãƒ¼ãƒŠã‚¹ã¯æˆ¦é—˜ã”ã¨ã«ãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹ä¸€æ™‚çš„ãªãƒœãƒ¼ãƒŠã‚¹ã§ã™ã€‚å†ç”Ÿã‚¹ã‚­ãƒ«ã¯ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼æœ¬æ¥ã®HPã®ã¿ã‚’å›å¾©ã—ã¾ã™ã€‚

---

## é©ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°

- **é–¢æ•°**: `BattleSystem._apply_regeneration()`
- **ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: `_apply_post_battle_effects()`å†…ï¼ˆãƒãƒˆãƒ«çµæœåˆ¤å®šå¾Œï¼‰
- **å¯¾è±¡**: ä¾µç•¥å´ãƒ»é˜²å¾¡å´ã®ä¸¡æ–¹

### å‡¦ç†ãƒ•ãƒ­ãƒ¼

```
1. ãƒãƒˆãƒ«å®Ÿè¡Œ
   â†“
2. ãƒãƒˆãƒ«çµæœåˆ¤å®š
   â†“
3. ãƒã‚¹ãƒˆãƒãƒˆãƒ«å‡¦ç†
   â†“
4. å†ç”Ÿã‚¹ã‚­ãƒ«ãƒã‚§ãƒƒã‚¯
   - HP > 0 ? â†’ Yes
   - å†ç”Ÿã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ä¿æŒ ? â†’ Yes
   â†“
5. base_hp ã‚’æœ€å¤§å€¤ã¾ã§å›å¾©
   â†“
6. current_hp å†è¨ˆç®—
```

---

## å®Ÿè£…ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼

å†ç”Ÿã‚¹ã‚­ãƒ«ã‚’æŒã¤ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã¯å…¨éƒ¨ã§ **11ä½“** ã„ã¾ã™ã€‚

| ID | åå‰ | å±æ€§ | å‚™è€ƒ |
|----|------|------|------|
| 113 | ã‚¨ã‚­ãƒãƒ€ãƒ¼ãƒ  | æ°´ | å†ç”Ÿãƒ»ä¸å±ˆ |
| 125 | ã‚¹ãƒ©ãƒƒã‚¸ã‚¿ã‚¤ã‚¿ãƒ³ | æ°´ | æˆ¦é—˜é–‹å§‹æ™‚HPæ¸›å°‘ãƒ»å†ç”Ÿ |
| 129 | ãƒ†ãƒ³ã‚¿ã‚¯ãƒ«ã‚º | æ°´ | å†ç”Ÿ |
| 133 | ãƒãƒãƒ ãƒ¼ãƒˆ | æ°´ | å…ˆåˆ¶ãƒ»åœŸåœ°å¤‰æ€§ãƒ»å†ç”Ÿ |
| 140 | ãƒã‚¤ã‚³ãƒ­ãƒ³ | æ°´ | æ•µæ”»æ’ƒæˆåŠŸã®æˆ¦é—˜å¾Œãƒ»å†ç”Ÿ |
| 205 | ã‚«ã‚¯ã‚¿ã‚¹ã‚¦ã‚©ãƒ¼ãƒ« | åœ° | é˜²å¾¡å‹ãƒ»å†ç”Ÿ |
| 219 | ã‚·ãƒ«ãƒãƒ³ãƒ€ãƒƒãƒã‚§ã‚¹ | åœ° | æ´è­·ãƒ»ã‚¢ã‚¤ãƒ†ãƒ ç ´å£Šãƒ»å†ç”Ÿ |
| 233 | ãƒ’ãƒ¼ãƒ©ãƒ¼ | åœ° | å†ç”Ÿãƒ»ç§˜è¡“ãƒ»ä¸å±ˆ |
| 242 | ãƒ¨ãƒ«ãƒ ãƒ³ã‚¬ãƒ³ãƒ‰ | åœ° | å…ˆåˆ¶ãƒ»åœŸåœ°å¤‰æ€§ãƒ»å†ç”Ÿ |
| 247 | ãƒ­ãƒƒã‚¯ãƒˆãƒ­ãƒ« | åœ° | å†ç”Ÿ |
| 418 | ã‚¹ã‚±ãƒ«ãƒˆãƒ³ | ç„¡ | å†ç”Ÿ |

### æ³¨ç›®ã™ã¹ãã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼

#### ãƒãƒãƒ ãƒ¼ãƒˆ & ãƒ¨ãƒ«ãƒ ãƒ³ã‚¬ãƒ³ãƒ‰
- **å…ˆåˆ¶ + å†ç”Ÿ**: å…ˆã«æ”»æ’ƒã—ã¦ã€ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’å—ã‘ã¦ã‚‚å›å¾©
- **åœŸåœ°å¤‰æ€§**: æˆ¦ç•¥çš„ãªåœŸåœ°æ“ä½œã‚‚å¯èƒ½

#### ã‚¨ã‚­ãƒãƒ€ãƒ¼ãƒ  & ãƒ’ãƒ¼ãƒ©ãƒ¼
- **ä¸å±ˆ + å†ç”Ÿ**: ä½•åº¦ã§ã‚‚è¡Œå‹•ã§ãã€ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’å—ã‘ã¦ã‚‚å›å¾©
- æœ€å¼·ã®é˜²è¡›ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼

---

## ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

```json
{
  "ability_parsed": {
	"keywords": ["å†ç”Ÿ"]
  }
}
```

---

## å®Ÿè£…ã‚³ãƒ¼ãƒ‰

```gdscript
func _apply_regeneration(participant: BattleParticipant) -> void:
	# 1. ç”Ÿå­˜ãƒã‚§ãƒƒã‚¯ï¼ˆHP > 0ï¼‰
	if not participant.is_alive():
		return
	
	# 2. å†ç”Ÿã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯
	var ability_parsed = participant.creature_data.get("ability_parsed", {})
	var keywords = ability_parsed.get("keywords", [])
	
	if "å†ç”Ÿ" in keywords:
		# 3. base_hpã‚’å…ƒã®æœ€å¤§HPã¾ã§å›å¾©
		var max_base_hp = participant.creature_data.get("hp", 0)
		
		if participant.base_hp < max_base_hp:
			var healed = max_base_hp - participant.base_hp
			participant.base_hp = max_base_hp
			participant.update_current_hp()
			print("ã€å†ç”Ÿç™ºå‹•ã€‘", participant.creature_data.get("name", "?"), 
				  " HPå›å¾©: +", healed, " â†’ ", participant.current_hp)
```

---

## ä½¿ç”¨ä¾‹

### ã‚·ãƒŠãƒªã‚ª1: åŸºæœ¬çš„ãªå†ç”Ÿ

```
1. ãƒãƒˆãƒ«é–‹å§‹
   ä¾µç•¥å´: ãƒ­ãƒƒã‚¯ãƒˆãƒ­ãƒ« HP:50/50
   é˜²å¾¡å´: ãƒ•ã‚§ãƒ‹ãƒƒã‚¯ã‚¹ HP:30/30

2. æˆ¦é—˜å®Ÿè¡Œ
   ãƒ•ã‚§ãƒ‹ãƒƒã‚¯ã‚¹ã®æ”»æ’ƒ â†’ ãƒ­ãƒƒã‚¯ãƒˆãƒ­ãƒ«ã«30ãƒ€ãƒ¡ãƒ¼ã‚¸
   ãƒ­ãƒƒã‚¯ãƒˆãƒ­ãƒ« HP:50 â†’ 20
   ãƒ­ãƒƒã‚¯ãƒˆãƒ­ãƒ«ã®åæ’ƒ â†’ ãƒ•ã‚§ãƒ‹ãƒƒã‚¯ã‚¹æ’ƒç ´

3. ãƒãƒˆãƒ«çµ‚äº†å¾Œ
   ã€å†ç”Ÿç™ºå‹•ã€‘ãƒ­ãƒƒã‚¯ãƒˆãƒ­ãƒ« HPå›å¾©: +30 â†’ 50
   â†’ æ¬¡ã®ãƒãƒˆãƒ«ã§ã¯æº€ã‚¿ãƒ³ã®çŠ¶æ…‹ï¼
```

### ã‚·ãƒŠãƒªã‚ª2: åœŸåœ°ãƒœãƒ¼ãƒŠã‚¹ã¯å›å¾©ã—ãªã„

```
1. ãƒãƒˆãƒ«é–‹å§‹
   é˜²å¾¡å´: ãƒ†ãƒ³ã‚¿ã‚¯ãƒ«ã‚ºï¼ˆåŸºæœ¬HP:30ã€åœŸåœ°ãƒœãƒ¼ãƒŠã‚¹+20ï¼‰
   ç·HP: 50

2. æˆ¦é—˜å®Ÿè¡Œ
   ãƒ†ãƒ³ã‚¿ã‚¯ãƒ«ã‚ºè¢«ãƒ€ãƒ¡ãƒ¼ã‚¸: 40
   æ®‹HP: 10ï¼ˆåœŸåœ°ãƒœãƒ¼ãƒŠã‚¹æ¶ˆè²»ã€åŸºæœ¬HPã‚‚ä¸€éƒ¨æ¶ˆè²»ï¼‰

3. ãƒãƒˆãƒ«çµ‚äº†å¾Œ
   ã€å†ç”Ÿç™ºå‹•ã€‘
   - åŸºæœ¬HP: 30ã¾ã§å›å¾©
   - åœŸåœ°ãƒœãƒ¼ãƒŠã‚¹: 0ã®ã¾ã¾ï¼ˆå›å¾©ã—ãªã„ï¼‰
   
4. æ¬¡ã®ãƒãƒˆãƒ«
   ç·HP: 30ï¼ˆåŸºæœ¬ã®ã¿ï¼‰ + æ–°ã—ã„åœŸåœ°ãƒœãƒ¼ãƒŠã‚¹
```

### ã‚·ãƒŠãƒªã‚ª3: å†ç”Ÿ + ä¸å±ˆã®çµ„ã¿åˆã‚ã›

```
1. ã‚¿ãƒ¼ãƒ³é–‹å§‹
   è‡ªé™£: ã‚¨ã‚­ãƒãƒ€ãƒ¼ãƒ ï¼ˆå†ç”Ÿãƒ»ä¸å±ˆã€HP:40ï¼‰é…ç½®

2. æ•µã®æ”»æ’ƒ
   è¢«ãƒ€ãƒ¡ãƒ¼ã‚¸: 25
   æ®‹HP: 15

3. ãƒãƒˆãƒ«çµ‚äº†å¾Œ
   ã€å†ç”Ÿç™ºå‹•ã€‘HP: 15 â†’ 40

4. åŒã˜ã‚¿ãƒ¼ãƒ³å†…
   - ä¸å±ˆã«ã‚ˆã‚Šé ˜åœ°ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œå¯èƒ½
   - ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ã§é˜²å¾¡åŠ›å¼·åŒ–
   - HPã¯40ã§ç¶­æŒ

5. æ¬¡ã®æ•µã®æ”»æ’ƒã«ã‚‚å‚™ãˆã‚‰ã‚Œã‚‹
```

---

## æˆ¦ç•¥çš„ä¾¡å€¤

### ãƒ¡ãƒªãƒƒãƒˆ

1. **æ°¸ç¶šçš„ãªå›å¾©**: é…ç½®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã¨ã—ã¦æ®‹ã‚‹é™ã‚Šã€ä½•åº¦ã§ã‚‚å†ç”Ÿ
2. **åœŸåœ°é˜²è¡›ã«æœ€é©**: é˜²å¾¡å´ã¨ã—ã¦é…ç½®ã™ã‚Œã°é•·æœŸé–“ç”Ÿãæ®‹ã‚Œã‚‹
3. **ãƒªã‚½ãƒ¼ã‚¹ç¯€ç´„**: HPå›å¾©ã‚¢ã‚¤ãƒ†ãƒ ã‚„é­”æ³•ãŒä¸è¦
4. **ä¸å±ˆã¨ã®ç›¸ä¹—åŠ¹æœ**: ä½•åº¦ã‚‚æˆ¦é—˜â†’å›å¾©ã‚’ç¹°ã‚Šè¿”ã›ã‚‹

### ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ

1. **å€’ã•ã‚ŒãŸã‚‰ç„¡æ„å‘³**: HP0ã«ãªã‚‹ã¨å†ç”Ÿã—ãªã„
2. **åœŸåœ°ãƒœãƒ¼ãƒŠã‚¹ã¯æ¶ˆãˆã‚‹**: æˆ¦é—˜ã”ã¨ã«ãƒœãƒ¼ãƒŠã‚¹ã¯ãƒªã‚»ãƒƒãƒˆ
3. **ä¸€æ’ƒå¿…æ®ºã«å¼±ã„**: å³æ­»ã‚„å¤§ãƒ€ãƒ¡ãƒ¼ã‚¸ã«ã¯ç„¡åŠ›

### ç›¸æ€§ã®è‰¯ã„ã‚¹ã‚­ãƒ«

- **ä¸å±ˆ**: é€£ç¶šæˆ¦é—˜ + æ¯å›å›å¾©ã§ç„¡æ•µã«è¿‘ã„
- **å…ˆåˆ¶**: å…ˆã«æ”»æ’ƒã—ã¦ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’æ¸›ã‚‰ã—ã€å—ã‘ãŸãƒ€ãƒ¡ãƒ¼ã‚¸ã¯å›å¾©
- **åå°„**: ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’è¿”ã—ã¤ã¤ã€è‡ªåˆ†ã¯å›å¾©

---

## è¨­è¨ˆæ€æƒ³

- **æ°¸ç¶šçš„ãªå›å¾©**: é…ç½®ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã¨ã—ã¦æ®‹ã‚‹é™ã‚Šã€ä½•åº¦ã§ã‚‚å†ç”Ÿ
- **åœŸåœ°é˜²è¡›ã«æœ‰åˆ©**: é˜²å¾¡å´ã¨ã—ã¦é…ç½®ã•ã‚ŒãŸã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ãŒé•·æœŸé–“ç”Ÿãæ®‹ã‚‹
- **åŸºæœ¬HPã®ã¿å›å¾©**: åœŸåœ°ãƒœãƒ¼ãƒŠã‚¹ç­‰ã¯æˆ¦é—˜ã”ã¨ã«ãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹ä»•æ§˜ã¨æ•´åˆ

---

## å¤‰æ›´å±¥æ­´

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ—¥ä»˜ | å¤‰æ›´å†…å®¹ |
|-----------|------|---------|
| 1.5 | 2025/10/24 | å€‹åˆ¥ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã—ã¦åˆ†é›¢ |
