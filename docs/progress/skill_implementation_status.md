# スキル実装状況リスト

**作成日**: 2025年10月20日  
**目的**: 未実装スキルの洗い出しと実装優先度の決定

---

## 📊 実装状況サマリー

| カテゴリ | 完全実装 | 部分実装 | 未実装 | 合計 |
|---------|---------|---------|--------|------|
| パッシブスキル | 10 | 2 | 2 | 14 |
| アクティブスキル | 1 | 0 | 0 | 1 |
| **合計** | **11** | **2** | **2** | **15** |

**実装率**: 86.7% (13/15)

---

## ✅ 完全実装済みスキル（10個）

### 1. 感応スキル
- **実装状況**: ✅ 完全実装
- **実装クリーチャー**: 9体
- **実装場所**: `BattleSystem._apply_resonance_skill()`
- **テスト状況**: バトルテストツールで確認済み

### 2. 貫通スキル
- **実装状況**: ✅ 完全実装
- **実装クリーチャー**: 複数体（ナイトメア、トロージャンホース等）
- **実装場所**: `BattleSystem._check_penetration_skill()`
- **条件タイプ**: 無条件、敵属性、攻撃力条件

### 3. 強打スキル
- **実装状況**: ✅ 完全実装
- **実装場所**: `EffectCombat.apply_power_strike()`
- **条件タイプ**: 隣接自領地、土地属性、土地レベル
- **アイテム付与**: マグマハンマーで実装済み

### 4. 先制スキル
- **実装状況**: ✅ 完全実装
- **実装場所**: `BattleSystem._determine_attack_order()`
- **テスト状況**: 攻撃順制御で確認済み

### 5. 後手スキル
- **実装状況**: ✅ 完全実装
- **実装クリーチャー**: 1体（アネイマブル）
- **実装場所**: `BattleSystem._determine_attack_order()`

### 6. 再生スキル
- **実装状況**: ✅ 完全実装
- **実装クリーチャー**: 11体
- **実装場所**: `BattleSystem._apply_regeneration()`
- **適用タイミング**: バトル後（生存時のみ）

### 7. 2回攻撃スキル
- **実装状況**: ✅ 完全実装
- **実装クリーチャー**: 1体（テトラーム）
- **実装場所**: `BattleSystem._execute_attack_sequence()`
- **拡張性**: `attack_count`フィールドで3回攻撃以上も対応可能

### 8. 即死スキル
- **実装状況**: ✅ 完全実装
- **実装クリーチャー**: 6体
- **実装場所**: `BattleSystem._check_instant_death()`
- **条件タイプ**: 無条件、敵属性、防御側ST、防御側立場

### 9. ST変動スキル
- **実装状況**: ✅ 完全実装
- **実装例**: アームドパラディン（土地数×10）
- **実装場所**: `EffectCombat.modify_stats()`

### 10. 連撃スキル（2回攻撃）
- **実装状況**: ✅ 完全実装
- **実装クリーチャー**: 1体（テトラーム）
- **実装場所**: `BattleSystem._execute_attack_sequence()`
- **メカニズム**: `attack_count`フィールドで制御
- **拡張性**: 3回攻撃以上も同じ仕組みで対応可能

### 11. 不屈スキル
- **実装状況**: ✅ 完全実装
- **実装クリーチャー**: 16体
- **実装場所**: 
  - `SkillSystem.has_unyielding()`
  - `TileActionProcessor` (召喚・交換時)
  - `LandCommandHandler` (レベルアップ・移動時)
- **効果**: アクション後もダウン状態にならない
- **戦略的価値**: 何度でも領地コマンドを実行可能

---

## 🔶 部分実装スキル（2個）

### 12. 防魔スキル
- **実装状況**: 🔶 部分実装
- **実装済み**: keywords判定
- **未実装**: スペルシステムとの統合
- **理由**: スペルシステムが未完成
- **実装場所**: `ConditionChecker`で判定可能だが、効果適用なし
- **優先度**: 低（スペルシステム完成後）

### 13. HP変動スキル
- **実装状況**: 🔶 部分実装
- **実装済み**: データ構造のみ
- **未実装**: 実際の適用ロジック
- **実装場所**: 要実装
- **優先度**: 中

---

## ❌ 未実装スキル（2個）

### 13. 巻物攻撃スキル
- **実装状況**: ❌ 未実装
- **設計**: 完了（貫通と同等）
- **実装方針**: 
  - `_check_penetration_skill()`に「巻物攻撃」を追加
  - 貫通と同じ処理
- **データ構造**:
  ```json
  {
	"keywords": ["巻物攻撃"]
  }
  ```
- **優先度**: 低（貫通とほぼ同じ）

### 14. has_mark条件
- **実装状況**: ❌ 未実装
- **現在の対応**: 常に`false`を返す
- **用途**: マークシステム（○、×など）の実装
- **実装場所**: `ConditionChecker`
- **優先度**: 低（仕様が未確定）

---

## 🚀 実装推奨順序

### Phase 1: 基礎スキル（完了）
- ✅ 感応、貫通、強打、先制、後手
- ✅ 再生、連撃（2回攻撃）、即死
- ✅ ST変動

### Phase 2: HP変動スキル（推奨）
**理由**: データ構造は存在するが、適用ロジックが未実装

**必要な作業**:
1. HP変動ロジックの実装
2. 土地数による計算式の適用
3. テストケースの追加

**見積もり時間**: 1-2時間

### Phase 3: 巻物攻撃スキル（任意）
**理由**: 貫通とほぼ同じ処理

**必要な作業**:
1. `_check_penetration_skill()`に`"巻物攻撃"`追加
2. テストケースの追加

**見積もり時間**: 15-30分

### Phase 4: 防魔スキル（保留）
**理由**: スペルシステム完成後に実装

---

## 📝 未実装の理由まとめ

### 防魔スキル
- スペルシステムが未完成のため保留
- 判定ロジックは実装済み

### HP変動スキル
- データ構造は存在
- 適用ロジックが実装されていない

### 巻物攻撃スキル
- 貫通と同じ処理
- クリーチャーデータがない

### has_mark条件
- マークシステムの仕様が未確定
- 現在は警告回避のため`false`返却

---

## 🎯 次のステップ

### おすすめの実装順序

1. **HP変動スキル** - データ構造があり、ロジックのみ
2. **巻物攻撃スキル** - 貫通のコピーでほぼ完成
3. **防魔スキル** - スペルシステム完成後
4. **has_mark** - マークシステムの仕様決定後

---

**最終更新**: 2025年10月20日
