# ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ä»Šå¾Œã®ä½œæ¥­è¨ˆç”»

**æœ€çµ‚æ›´æ–°**: 2026-02-20
**å‰æ**: Phase 0ã€œ11 å…¨å®Œäº† + UIEventHub å°å…¥æ¸ˆã¿

---

## ç¾çŠ¶ã‚µãƒãƒªãƒ¼

### UIManager ã®çŠ¶æ…‹ï¼ˆPhase 11-A + UIEventHub å®Œäº†å¾Œï¼‰

- **è¡Œæ•°**: ~996è¡Œ
- **5ã‚µãƒ¼ãƒ“ã‚¹åˆ†å‰²æ¸ˆã¿**: NavigationService, MessageService, CardSelectionService, InfoPanelService, PlayerInfoService
- **å¾Œæ–¹å‚ç…§**: ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ä½¿ç”¨ã‚¼ãƒ­ï¼ˆCallableæ³¨å…¥â†’UIEventHubç§»è¡Œæ¸ˆã¿ï¼‰
- **ãƒ‡ãƒƒãƒ‰ã‚³ãƒ¼ãƒ‰**: 12ãƒ¡ã‚½ãƒƒãƒ‰å‰Šé™¤æ¸ˆã¿ï¼ˆPhase 10-Dï¼‰
- **ãƒ•ã‚¡ã‚µãƒ¼ãƒ‰åŒ–**: 3å±¤ãƒã‚§ãƒ¼ãƒ³ã‚¢ã‚¯ã‚»ã‚¹24ç®‡æ‰€â†’0ç®‡æ‰€ï¼ˆPhase 11-Aï¼‰
- **UIEventHub**: UIâ†’ãƒ­ã‚¸ãƒƒã‚¯é–“ã®3ã‚¤ãƒ™ãƒ³ãƒˆã‚’EventHubçµŒç”±ã«çµ±ä¸€

### UIEventHub ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆ2026-02-20å°å…¥ï¼‰

```
UIEventHubï¼ˆscripts/application/ui_event_hub.gdï¼‰
â”œâ”€â”€ hand_card_tapped(card_index: int)      â† UIManager.on_card_button_pressed()
â”œâ”€â”€ dominio_cancel_requested()             â† UIManager.on_cancel_dominio_order_button_pressed()
â””â”€â”€ surrender_requested()                  â† UIGameMenuHandler._on_surrender_confirmed()
```

- **æ‰€æœ‰è€…**: GameSystemManagerï¼ˆç‹¬ç«‹Nodeã¨ã—ã¦ç”Ÿæˆï¼‰
- **æ³¨å…¥å…ˆ**: UIManager, UIGameMenuHandler
- **é˜²å¾¡**: å…¨emitç®‡æ‰€ã§ `if _ui_event_hub:` ã‚¬ãƒ¼ãƒ‰æ¸ˆã¿
- **ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**: GSM `_setup_ui_events()` ã§ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã«æ¥ç¶š

---

## Phase 11: UIManager é©æ­£åŒ–ï¼ˆæ®‹ä½œæ¥­ï¼‰

### Phase 11-A: ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ã®ãƒ•ã‚¡ã‚µãƒ¼ãƒ‰åŒ– âœ… å®Œäº†

- **å®Œäº†æ—¥**: 2026-02-20
- **ã‚³ãƒŸãƒƒãƒˆ**: `11fa6ce`
- **æˆæœ**: 6ãƒ•ã‚¡ã‚µãƒ¼ãƒ‰ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ ã€24ç®‡æ‰€ã®3å±¤ãƒã‚§ãƒ¼ãƒ³ã‚¢ã‚¯ã‚»ã‚¹è§£æ¶ˆ
- å¯¾è±¡: land_action_helper.gdï¼ˆ12ç®‡æ‰€ï¼‰ã€card_selection_handler.gdï¼ˆ12ç®‡æ‰€ï¼‰

### UIEventHub å°å…¥ âœ… å®Œäº†

- **å®Œäº†æ—¥**: 2026-02-20
- **ã‚³ãƒŸãƒƒãƒˆ**: `effba0c`
- **æˆæœ**: Callableç›´æ¥æ³¨å…¥ â†’ EventHub Signalé§†å‹•ã«ç§»è¡Œï¼ˆ3ã‚¤ãƒ™ãƒ³ãƒˆï¼‰
- GSM `_setup_ui_events()` + `_on_hand_card_tapped()` è¿½åŠ 

### ãƒã‚°ä¿®æ­£ï¼ˆPhase 11-A/UIEventHub å¾Œï¼‰âœ… å®Œäº†

- **7ã‚³ãƒŸãƒƒãƒˆ**: `e6283c8`ã€œ`917e5f7`
- ã‚¤ãƒ³ãƒ•ã‚©ãƒ‘ãƒãƒ«çµ±ä¸€hideã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³çŠ¶æ…‹ç®¡ç†ä¿®æ­£ã€GlobalActionButtons call_deferredã‚¬ãƒ¼ãƒ‰ã€
  ã‚«ãƒ¼ãƒ‰é–²è¦§â†’Ã—æˆ»ã‚Šã®ãƒŠãƒ“çŠ¶æ…‹ä¿®æ­£ã€ç©ºã‚¿ãƒƒãƒ—æ™‚ã®ãƒœã‚¿ãƒ³æ¶ˆå¤±ä¿®æ­£ã€GDScriptè­¦å‘Š11ä»¶ä¿®æ­£

---

### Phase 11-B: Node ãƒ¡ã‚½ãƒƒãƒ‰ç›´æ¥åˆ©ç”¨ã®æ•´ç† âœ… å®Œäº†

- **å®Œäº†æ—¥**: 2026-02-20
- **æˆæœ**: `ui_manager.create_tween()`/`add_child()`/`get_tree()` â†’ 0ç®‡æ‰€ï¼ˆ7ç®‡æ‰€ä¿®æ­£ï¼‰
- create_tween: ãƒ‘ãƒãƒ«NodeçµŒç”±ï¼ˆwin_panel/lose_panelï¼‰ã«å¤‰æ›´
- add_child: ui_layer çµŒç”±ã«çµ±ä¸€ï¼ˆ4ç®‡æ‰€: DCH, spell_mystic_arts, spell_ui_manager, lap_systemï¼‰
- get_tree: ui_layer çµŒç”±ã«å¤‰æ›´

### Phase 11-C: Null ãƒã‚§ãƒƒã‚¯çµ±ä¸€ âœ… å®Œäº†

- **å®Œäº†æ—¥**: 2026-02-20
- **çµæœ**: èª¿æŸ»ã®çµæœã€å…¨ç®‡æ‰€ã§æ—¢ã«ã‚¬ãƒ¼ãƒ‰æ¸ˆã¿ã ã£ãŸï¼ˆä¿®æ­£ä¸è¦ï¼‰

### Phase 11-D: æœªä½¿ç”¨ãƒ¡ã‚½ãƒƒãƒ‰å‰Šé™¤ï¼ˆæ®‹å­˜åˆ†ï¼‰âœ… å®Œäº†

- **å®Œäº†æ—¥**: 2026-02-20
- **æˆæœ**: GFM `_on_spell_used()`/`_on_item_used()` + GSM ã®Signalæ¥ç¶šã‚’å‰Šé™¤ï¼ˆ~32è¡Œå‰Šæ¸›ï¼‰

---

## Phase 11 å®Œäº† ğŸ‰

å…¨ã‚µãƒ–ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆ11-Aã€œD + UIEventHub + ãƒã‚°ä¿®æ­£7ä»¶ï¼‰ãŒå®Œäº†ã€‚

---

## æœªå¯¾å¿œã®æŠ€è¡“çš„è² å‚µï¼ˆå„ªå…ˆåº¦ä½ï¼‰

| é …ç›® | å†…å®¹ | å‚™è€ƒ |
|------|------|------|
| 8-C | BankruptcyHandler ãƒ‘ãƒãƒ«åˆ†é›¢ | 56è¡Œã€æ©Ÿèƒ½å•é¡Œãªã— |
| tutorialç³» | tutorial_manager ã® UIManager ç›´æ¥å‚ç…§ | ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«å†è¨­è¨ˆãŒå‰æ |
| tap_target_manager | spellç³»ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ UIManager çµŒç”±å‚ç…§ | TapTargetService æ–°è¨­å€™è£œ |

---

## å®Œäº†æ¸ˆã¿ Phase ä¸€è¦§

| Phase | å†…å®¹ | å®Œäº†æ—¥ |
|-------|------|--------|
| 0ã€œ9 | ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç§»è¡Œãƒ»UIå±¤åˆ†é›¢ãƒ»çŠ¶æ…‹ãƒ«ãƒ¼ã‚¿ãƒ¼è§£ä½“ | ã€œ2026-02-19 |
| 10-A | PlayerInfoService ã‚µãƒ¼ãƒ“ã‚¹åŒ– | 2026-02-19 |
| 10-B | card.gd å†å¸°çš„è¦ªæ¢ç´¢å»ƒæ­¢ | 2026-02-19 |
| 10-C | åŒæ–¹å‘å‚ç…§ã®å‰Šæ¸›ï¼ˆCallableæ³¨å…¥ï¼‰ | 2026-02-19 |
| 10-D | UIManager ãƒ‡ãƒƒãƒ‰ã‚³ãƒ¼ãƒ‰å‰Šé™¤ï¼ˆ12ãƒ¡ã‚½ãƒƒãƒ‰ï¼‰ | 2026-02-19 |
| 11-A | ã‚µãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ã®ãƒ•ã‚¡ã‚µãƒ¼ãƒ‰åŒ–ï¼ˆ24ç®‡æ‰€ï¼‰ | 2026-02-20 |
| UIEventHub | UIâ†’ãƒ­ã‚¸ãƒƒã‚¯é–“ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•åŒ–ï¼ˆ3 Signalsï¼‰ | 2026-02-20 |
| ãƒã‚°ä¿®æ­£7ä»¶ | ãƒŠãƒ“çŠ¶æ…‹ãƒ»ãƒœã‚¿ãƒ³æ¶ˆå¤±ãƒ»GDScriptè­¦å‘Šç­‰ | 2026-02-20 |
| 11-B | Node ãƒ¡ã‚½ãƒƒãƒ‰ç›´æ¥åˆ©ç”¨ã®æ•´ç†ï¼ˆ7ç®‡æ‰€ï¼‰ | 2026-02-20 |
| 11-C | Null ãƒã‚§ãƒƒã‚¯çµ±ä¸€ï¼ˆå…¨ç®‡æ‰€ã‚¬ãƒ¼ãƒ‰æ¸ˆã¿ç¢ºèªï¼‰ | 2026-02-20 |
| 11-D | æœªä½¿ç”¨ãƒ¡ã‚½ãƒƒãƒ‰å‰Šé™¤ï¼ˆ_on_spell_used/_on_item_usedï¼‰ | 2026-02-20 |
