# Phase 1-A é€²æ—ç®¡ç†

**æœ€çµ‚æ›´æ–°**: 2025å¹´10æœˆ15æ—¥

---

## ğŸ“Š å…¨ä½“é€²æ—

### Phase 1-A: åŸºç›¤æ•´å‚™ï¼ˆ5æ—¥é–“ï¼‰

| Day | é …ç›® | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | å®Œäº†æ—¥ |
|-----|------|-----------|--------|
| 1-2 | ãƒ•ã‚§ãƒ¼ã‚ºç®¡ç†æ§‹é€  | ğŸ”„ é€²è¡Œä¸­ | - |
| 3-4 | é ˜åœ°ã‚³ãƒãƒ³ãƒ‰UIåŸºç›¤ | âœ… å®Œäº† | 2025-01 |
| 5   | æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ | ğŸ”„ é€²è¡Œä¸­ | 2025-10-15 |

**é€²æ—ç‡**: Day 5é€²è¡Œä¸­ (95%) - è¡¨ç¤ºã‚¿ã‚¤ãƒŸãƒ³ã‚°ä¿®æ­£å®Œäº†ã€ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—å‡¦ç†å®Œäº†ï¼ˆå‹•ä½œç¢ºèªæ¸ˆã¿ï¼‰ã€ç§»å‹•ãƒ»äº¤æ›ã¯æœªå®Ÿè£…

---

## âœ… å®Œäº†ã‚¿ã‚¹ã‚¯

### 2025å¹´10æœˆ15æ—¥: ãƒã‚¤ãƒ©ã‚¤ãƒˆæ©Ÿèƒ½ã¨ç§»å‹•å…ˆé¸æŠã®æ”¹å–„

#### åœŸåœ°ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…
- [x] `BaseTile`ã«ãƒã‚¤ãƒ©ã‚¤ãƒˆæ©Ÿèƒ½è¿½åŠ 
  - `is_highlighted`å¤‰æ•°è¿½åŠ 
  - `set_highlight(enabled: bool)`ãƒ¡ã‚½ãƒƒãƒ‰å®Ÿè£…
- [x] ãƒã‚¤ãƒ©ã‚¤ãƒˆæ™‚ã®è¦–è¦šåŠ¹æœ
  - ç™½è‰²ã«60%è¿‘ã¥ã‘ã¦æ˜ã‚‹ãè¡¨ç¤º
  - é»„è‰²ã®ç™ºå…‰ã‚¨ãƒ•ã‚§ã‚¯ãƒˆè¿½åŠ ï¼ˆemissionï¼‰
  - emission_energy_multiplier=2.0ã§å¼·èª¿
- [x] `LandCommandHandler.select_land()`ã§ãƒã‚¤ãƒ©ã‚¤ãƒˆè‡ªå‹•è¨­å®š
- [x] `LandCommandHandler.clear_highlight()`ã§è§£é™¤

**ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«**:
- `scripts/tiles/base_tiles.gd`
  - `is_highlighted`å¤‰æ•°è¿½åŠ 
  - `update_visual()`ã«ãƒã‚¤ãƒ©ã‚¤ãƒˆå‡¦ç†è¿½åŠ 
  - `set_highlight()`ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ 
- `scripts/game_flow/land_command_handler.gd`
  - `select_land()`ã«ãƒã‚¤ãƒ©ã‚¤ãƒˆè¨­å®šå‡¦ç†è¿½åŠ 

**å®Ÿè£…å†…å®¹**:
```gdscript
// ãƒã‚¤ãƒ©ã‚¤ãƒˆæ™‚ã®å‡¦ç†
if is_highlighted:
	mat.albedo_color = mat.albedo_color.lerp(Color.WHITE, 0.6)
	mat.emission_enabled = true
	mat.emission = Color(1.0, 1.0, 0.5) * 0.8
	mat.emission_energy_multiplier = 2.0
```

---

#### ç§»å‹•å…ˆé¸æŠã®å‰ç”»é¢æˆ»ã‚Šæ©Ÿèƒ½
- [x] `State.SELECTING_MOVE_DEST`çŠ¶æ…‹è¿½åŠ 
- [x] `execute_move_creature()`ã‚’ç§»å‹•å…ˆé¸æŠãƒ¢ãƒ¼ãƒ‰ã«å¤‰æ›´
- [x] `handle_move_destination_input()`ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ 
- [x] `cancel()`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’3æ®µéšå¯¾å¿œã«æ›´æ–°
  - ç§»å‹•å…ˆé¸æŠ â†’ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³é¸æŠ
  - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³é¸æŠ â†’ åœŸåœ°é¸æŠ
  - åœŸåœ°é¸æŠ â†’ é–‰ã˜ã‚‹

**ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«**:
- `scripts/game_flow/land_command_handler.gd`
  - `State`åˆ—æŒ™å‹ã«`SELECTING_MOVE_DEST`è¿½åŠ 
  - `execute_move_creature()`å®Ÿè£…
  - `cancel()`ã‚’3æ®µéšæˆ»ã‚Šã«å¯¾å¿œ
  - `_input()`ã«ç§»å‹•å…ˆé¸æŠå‡¦ç†è¿½åŠ 
  - `handle_move_destination_input()`è¿½åŠ 

**å®Ÿè£…ã•ã‚ŒãŸãƒ•ãƒ­ãƒ¼**:
```
åœŸåœ°é¸æŠï¼ˆæ•°å­—ã‚­ãƒ¼ï¼‰
  â†“
ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆL/M/S/Cï¼‰
  â†“ [M]ã‚­ãƒ¼
ç§»å‹•å…ˆé¸æŠï¼ˆ1-9,0/Cï¼‰â† âœ… [C]ã§å‰ç”»é¢ã«æˆ»ã‚‹
```

---

### 2025å¹´10æœˆ15æ—¥: Phase 1-A Day 5 é–‹å§‹

#### UIãƒ‘ãƒãƒ«é…ç½®ä¿®æ­£
- [x] ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒ»ãƒ¬ãƒ™ãƒ«é¸æŠãƒ‘ãƒãƒ«ã‚’ç”»é¢ä¸­å¤®ã«ç§»å‹•
- [x] å…¨ç”»é¢å¯¾å¿œã®é…ç½®è¨ˆç®—ï¼ˆç›¸å¯¾åº§æ¨™ï¼‰
- [x] design.mdã«å…¨ç”»é¢å¯¾å¿œã®æŒ‡é‡ã‚’è¿½è¨˜

**ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«**:
- `scripts/ui_manager.gd`
  - `create_action_menu_panel()` - ä¸­å¤®é…ç½®ã«ä¿®æ­£
  - `create_level_selection_panel()` - ä¸­å¤®é…ç½®ã«ä¿®æ­£
- `docs/design/design.md`
  - UIé…ç½®ã®åŸºæœ¬æ–¹é‡ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¿½åŠ 

**ä¿®æ­£å†…å®¹**:
```gdscript
// ä¿®æ­£å‰ï¼ˆä¸Šéƒ¨é…ç½®ï¼‰
var panel_y = 20

// ä¿®æ­£å¾Œï¼ˆç”»é¢ä¸­å¤®ï¼‰
var panel_y = (viewport_size.y - panel_height) / 2
```

---

#### ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—æ©Ÿèƒ½å®Œå…¨å®Ÿè£…
- [x] ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒ‘ãƒãƒ«UIä½œæˆï¼ˆå³å´ä¸­å¤®é…ç½®ï¼‰
  - ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ã€ç§»å‹•ã€äº¤æ›ã€æˆ»ã‚‹ãƒœã‚¿ãƒ³
- [x] ãƒ¬ãƒ™ãƒ«é¸æŠãƒ‘ãƒãƒ«UIä½œæˆ
  - Lv2-5é¸æŠãƒœã‚¿ãƒ³
  - ç´¯è¨ˆã‚³ã‚¹ãƒˆè¡¨ç¤º
  - é­”åŠ›ã«ã‚ˆã‚‹æœ‰åŠ¹/ç„¡åŠ¹åˆ¤å®š
- [x] `land_command_handler.gd`ä¿®æ­£
  - `board_system.get_tile()`ã‚¨ãƒ©ãƒ¼ä¿®æ­£ â†’ `tile_nodes[]`ä½¿ç”¨
  - `execute_level_up_with_level()`å®Ÿè£…
  - ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—å¾Œã®ãƒ€ã‚¦ãƒ³çŠ¶æ…‹è¨­å®š
  - ã‚¿ãƒ¼ãƒ³çµ‚äº†å‡¦ç†çµ±åˆ
- [x] UIManagerã¨LandCommandHandlerã®é€£æº
  - `level_up_selected`ã‚·ã‚°ãƒŠãƒ«æ¥ç¶š

**ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«**:
- `scripts/ui_manager.gd` (ç´„150è¡Œè¿½åŠ )
- `scripts/game_flow/land_command_handler.gd` (ç´„50è¡Œä¿®æ­£ãƒ»è¿½åŠ )

**çµæœ**: å®Œå…¨ãªãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ãƒ•ãƒ­ãƒ¼ãŒå®Ÿè£…ã•ã‚ŒãŸ

---

#### é ˜åœ°ã‚³ãƒãƒ³ãƒ‰ãƒœã‚¿ãƒ³ã®è¡¨ç¤ºã‚¿ã‚¤ãƒŸãƒ³ã‚°ä¿®æ­£
- [x] `GameFlowManager.start_turn()`ã‹ã‚‰ãƒœã‚¿ãƒ³è¡¨ç¤ºå‡¦ç†ã‚’å‰Šé™¤
- [x] `BoardSystem3D._on_movement_completed()`ã«ãƒœã‚¿ãƒ³è¡¨ç¤ºå‡¦ç†ã‚’è¿½åŠ 
- [x] äººé–“ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã¿è¡¨ç¤ºï¼ˆCPUåˆ¤å®šã‚’å«ã‚€ï¼‰

**ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«**:
- `scripts/game_flow_manager.gd` (100-105è¡Œç›®å‰Šé™¤)
- `scripts/board_system_3d.gd` (211-217è¡Œç›®è¿½åŠ )

**çµæœ**: ç§»å‹•å®Œäº†å¾Œã«é ˜åœ°ã‚³ãƒãƒ³ãƒ‰ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ãŸ

---

### 2025å¹´10æœˆ15æ—¥: ã‚³ãƒ¼ãƒ‰å“è³ªæ”¹å–„

#### è­¦å‘Šä¿®æ­£ï¼ˆ4ä»¶ï¼‰
- [x] `is_down`ã®ã‚·ãƒ£ãƒ‰ã‚¦ã‚¤ãƒ³ã‚°ä¿®æ­£ï¼ˆbase_tiles.gd:148ï¼‰
  - ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åã‚’`should_be_down`ã«å¤‰æ›´
- [x] æœªä½¿ç”¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä¿®æ­£ï¼ˆbattle_system.gd:221ï¼‰
  - `tile_info` â†’ `_tile_info`
- [x] åˆ°é”ä¸èƒ½ã‚³ãƒ¼ãƒ‰å‰Šé™¤ï¼ˆbattle_system.gd:278ï¼‰
  - ä¸è¦ãª`return false`ã‚’å‰Šé™¤
- [x] æ•´æ•°é™¤ç®—è­¦å‘Šä¿®æ­£ï¼ˆplayer_info_panel.gd:56ï¼‰
  - `margin / 2` â†’ `int(margin / 2.0)`

**ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«**:
- `scripts/tiles/base_tiles.gd`
- `scripts/battle_system.gd`
- `scripts/ui_components/player_info_panel.gd`

**çµæœ**: Godotã®è­¦å‘ŠãŒè§£æ¶ˆã•ã‚Œã€ã‚³ãƒ¼ãƒ‰å“è³ªãŒå‘ä¸Š

#### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ§‹é€ æ•´ç†
- [x] `docs/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ§‹é€ åŒ–
  - `docs/design/` - è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰
  - `docs/progress/` - é€²æ—ç®¡ç†ï¼ˆé©æ™‚æ›´æ–°ï¼‰
  - `docs/issues/` - èª²é¡Œç®¡ç†ï¼ˆé©æ™‚æ›´æ–°ï¼‰
- [x] ãƒ«ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ç§»å‹•
  - `design.md` â†’ `docs/design/`
  - `skills_design.md` â†’ `docs/design/`
  - `turn_end_flow.md` â†’ `docs/design/`
  - `issues.md` â†’ `docs/issues/`
  - `tasks.md` â†’ `docs/issues/`
  - `TURN_END_QUICK_FIX.md` â†’ `docs/issues/`
- [x] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ
  - `README.md` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
  - `docs/README.md` - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
- [x] æ›´æ–°ãƒ«ãƒ¼ãƒ«æ˜è¨˜
  - design/ã¯èª­ã¿å–ã‚Šå°‚ç”¨ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼æŒ‡ç¤ºã®ã¿æ›´æ–°å¯ï¼‰
  - issues/ã¯é©æ™‚æ›´æ–°ï¼ˆãƒã‚°ç™ºè¦‹ãƒ»ä¿®æ­£æ™‚ã«å³åº§ã«æ›´æ–°ï¼‰
  - progress/ã¯é©æ™‚æ›´æ–°ï¼ˆã‚¿ã‚¹ã‚¯å®Œäº†æ™‚ã«æ›´æ–°ï¼‰

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**:
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ: `README.md`
- `docs/README.md`
- ãƒ¡ãƒ¢ãƒª: `project_structure_and_docs`

**ç›®çš„**: 
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æƒ…å ±ã‚’ä¸€å…ƒç®¡ç†
- ãƒãƒ£ãƒƒãƒˆé–‹å§‹æ™‚ã®å¿…é ˆç¢ºèªäº‹é …ã‚’æ˜ç¢ºåŒ–
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°ã®é‹ç”¨ãƒ«ãƒ¼ãƒ«ç¢ºç«‹

---

### Day 3-4: é ˜åœ°ã‚³ãƒãƒ³ãƒ‰UIåŸºç›¤

#### é ˜åœ°ã‚³ãƒãƒ³ãƒ‰ãƒœã‚¿ãƒ³
- [x] ãƒœã‚¿ãƒ³ä½œæˆï¼ˆå·¦ä¸Šé…ç½®ã€z_index=100ï¼‰
- [x] ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³ä½œæˆï¼ˆé–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ï¼‰
- [x] è¡¨ç¤º/éè¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
- [x] hand_containerã®mouse_filterè¨­å®šï¼ˆã‚¯ãƒªãƒƒã‚¯å¯èƒ½ã«ï¼‰

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**:
- `scripts/ui_manager.gd`
  - `create_land_command_button()`
  - `create_cancel_land_command_button()`
  - `show_land_command_button()`
  - `hide_land_command_button()`

#### åœŸåœ°é¸æŠãƒ¢ãƒ¼ãƒ‰
- [x] ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å…¥åŠ›å‡¦ç†ï¼ˆæ•°å­—ã‚­ãƒ¼1-0ï¼‰
- [x] æ‰€æœ‰åœ°ãƒªã‚¹ãƒˆå–å¾—
- [x] ãƒ€ã‚¦ãƒ³çŠ¶æ…‹ã®åœŸåœ°ã‚’é™¤å¤–
- [x] UIã«ã‚³ãƒãƒ³ãƒ‰èª¬æ˜è¡¨ç¤º

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**:
- `scripts/game_flow/land_command_handler.gd`
  - `_input()` - ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å‡¦ç†
  - `handle_land_selection_input()` - åœŸåœ°é¸æŠ
  - `get_player_owned_lands()` - ãƒ€ã‚¦ãƒ³çŠ¶æ…‹é™¤å¤–

#### ã‚¢ã‚¯ã‚·ãƒ§ãƒ³é¸æŠç”»é¢
- [x] ã‚¢ã‚¯ã‚·ãƒ§ãƒ³é¸æŠUIè¡¨ç¤ºï¼ˆL/M/S/Cï¼‰
- [x] ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å…¥åŠ›å‡¦ç†
- [x] ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ©Ÿèƒ½ï¼ˆåœŸåœ°é¸æŠã«æˆ»ã‚‹ï¼‰

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**:
- `scripts/game_flow/land_command_handler.gd`
  - `handle_action_selection_input()` - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³é¸æŠ
  - `cancel()` - ã‚­ãƒ£ãƒ³ã‚»ãƒ«å‡¦ç†

#### ãƒ€ã‚¦ãƒ³çŠ¶æ…‹ã‚·ã‚¹ãƒ†ãƒ 
- [x] å¬å–šå¾Œã®ãƒ€ã‚¦ãƒ³çŠ¶æ…‹è¨­å®š
- [x] ã‚¹ã‚¿ãƒ¼ãƒˆé€šéæ™‚ã®ãƒ€ã‚¦ãƒ³è§£é™¤
- [x] ãƒ€ã‚¦ãƒ³çŠ¶æ…‹ãƒã‚§ãƒƒã‚¯ï¼ˆé¸æŠæ™‚ï¼‰
- [x] Uã‚­ãƒ¼ã§ãƒ€ã‚¦ãƒ³è§£é™¤ï¼ˆãƒ‡ãƒãƒƒã‚°ï¼‰

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**:
- `scripts/tile_action_processor.gd`
  - å¬å–šå¾Œã«ãƒ€ã‚¦ãƒ³è¨­å®š
- `scripts/movement_controller.gd`
  - `clear_all_down_states_for_player()`
- `scripts/debug_controller.gd`
  - `clear_current_player_down_states()`

---

## ğŸ”² æœªå®Œäº†ã‚¿ã‚¹ã‚¯

### ~~å„ªå…ˆåº¦1: è¡¨ç¤ºã‚¿ã‚¤ãƒŸãƒ³ã‚°ä¿®æ­£~~ï¼ˆâœ… å®Œäº†: 2025/10/15ï¼‰

#### é ˜åœ°ã‚³ãƒãƒ³ãƒ‰ãƒœã‚¿ãƒ³ã®è¡¨ç¤ºã‚¿ã‚¤ãƒŸãƒ³ã‚°
- [x] ã‚¿ãƒ¼ãƒ³é–‹å§‹æ™‚ã§ã¯ãªãã€ç§»å‹•å®Œäº†å¾Œã«è¡¨ç¤º
- [x] `GameFlowManager.start_turn()`ã‹ã‚‰å‰Šé™¤
- [x] ç§»å‹•å®Œäº†å¾Œã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§è¡¨ç¤ºï¼ˆ`BoardSystem3D._on_movement_completed()`ï¼‰

**ä¿®æ­£ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«**:
- `scripts/game_flow_manager.gd`
  - `start_turn()` - ãƒœã‚¿ãƒ³è¡¨ç¤ºå‡¦ç†ã‚’å‰Šé™¤ï¼ˆ100-105è¡Œç›®ï¼‰
- `scripts/board_system_3d.gd`
  - `_on_movement_completed()` - ãƒœã‚¿ãƒ³è¡¨ç¤ºå‡¦ç†ã‚’è¿½åŠ 

**å®Ÿè£…å†…å®¹**:
```gdscript
// board_system_3d.gd: _on_movement_completed()
var is_cpu = current_player_index < player_is_cpu.size() and player_is_cpu[current_player_index] and not debug_manual_control_all
if not is_cpu and ui_manager:
	ui_manager.show_land_command_button()
elif ui_manager:
	ui_manager.hide_land_command_button()
```

**å®Ÿç¾ã—ãŸå‹•ä½œ**:
```
ã‚¿ãƒ¼ãƒ³é–‹å§‹
  â†“
ã‚«ãƒ¼ãƒ‰ãƒ‰ãƒ­ãƒ¼
  â†“
ã‚µã‚¤ã‚³ãƒ­ã‚’æŒ¯ã‚‹
  â†“
ç§»å‹•å®Œäº† â† âœ… ã“ã“ã§é ˜åœ°ã‚³ãƒãƒ³ãƒ‰ãƒœã‚¿ãƒ³è¡¨ç¤º
  â†“
å¬å–šãƒ•ã‚§ãƒ¼ã‚º
```

---

### ~~å„ªå…ˆåº¦2: ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—å‡¦ç†~~ï¼ˆâœ… å®Œäº†: 2025/10/15ï¼‰

#### ã‚¨ãƒ©ãƒ¼ä¿®æ­£
- [x] `board_system.get_tile()`ã‚¨ãƒ©ãƒ¼ã®ä¿®æ­£
  - ä¿®æ­£: `board_system.tile_nodes[selected_tile_index]`ã«å¤‰æ›´

**ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«**:
- `scripts/game_flow/land_command_handler.gd`
  - `execute_level_up()` å†…ã®`get_tile()`å‘¼ã³å‡ºã—ä¿®æ­£

#### ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—UI
- [x] ãƒ¬ãƒ™ãƒ«é¸æŠç”»é¢ã®å®Ÿè£…
- [x] ç´¯è¨ˆã‚³ã‚¹ãƒˆè¡¨ç¤º
- [x] ç›®æ¨™ãƒ¬ãƒ™ãƒ«é¸æŠï¼ˆLv2, 3, 4, 5ï¼‰
- [x] ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒ‘ãƒãƒ«å®Ÿè£…ï¼ˆå³å´é…ç½®ï¼‰

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**:
- `scripts/ui_manager.gd`
  - `action_menu_panel` - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒ‘ãƒãƒ«ï¼ˆL/M/S/Cï¼‰
  - `level_selection_panel` - ãƒ¬ãƒ™ãƒ«é¸æŠãƒ‘ãƒãƒ«ï¼ˆLv2-5 + ã‚³ã‚¹ãƒˆè¡¨ç¤ºï¼‰
  - `create_action_menu_panel()` - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä½œæˆ
  - `create_level_selection_panel()` - ãƒ¬ãƒ™ãƒ«é¸æŠãƒ‘ãƒãƒ«ä½œæˆ
  - `show_action_menu()` / `hide_action_menu()` - è¡¨ç¤ºåˆ¶å¾¡
  - `show_level_selection()` / `hide_level_selection()` - è¡¨ç¤ºåˆ¶å¾¡

#### ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—å®Ÿè¡Œ
- [x] ã‚³ã‚¹ãƒˆè¨ˆç®—ï¼ˆç´¯è¨ˆæ–¹å¼ï¼‰
- [x] é­”åŠ›æ¶ˆè²»å‡¦ç†
- [x] ã‚¿ã‚¤ãƒ«ã®ãƒ¬ãƒ™ãƒ«æ›´æ–°
- [x] ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—å¾Œã®ãƒ€ã‚¦ãƒ³çŠ¶æ…‹è¨­å®š
- [x] UIæ›´æ–°
- [x] ã‚¿ãƒ¼ãƒ³çµ‚äº†å‡¦ç†

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**:
- `scripts/game_flow/land_command_handler.gd`
  - `execute_level_up_with_level()` - ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—å®Ÿè¡Œ
  - `_on_level_up_selected()` - ã‚·ã‚°ãƒŠãƒ«ãƒãƒ³ãƒ‰ãƒ©

**å®Ÿè£…ã•ã‚ŒãŸãƒ•ãƒ­ãƒ¼**:
```
åœŸåœ°é¸æŠï¼ˆæ•°å­—ã‚­ãƒ¼1-0ï¼‰
  â†“
ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¡¨ç¤ºï¼ˆå³å´ãƒ‘ãƒãƒ«ï¼‰
  - [L] ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—
  - [M] ç§»å‹•
  - [S] äº¤æ›
  - [C] æˆ»ã‚‹
  â†“
ãƒ¬ãƒ™ãƒ«é¸æŠç”»é¢ï¼ˆLã‚­ãƒ¼æŠ¼ä¸‹ï¼‰
  - ç¾åœ¨ãƒ¬ãƒ™ãƒ«è¡¨ç¤º
  - Lv2-5ãƒœã‚¿ãƒ³ï¼ˆé­”åŠ›ã§åˆ°é”å¯èƒ½ãªãƒ¬ãƒ™ãƒ«ã®ã¿æœ‰åŠ¹ï¼‰
  - å„ãƒ¬ãƒ™ãƒ«ã®ã‚³ã‚¹ãƒˆè¡¨ç¤º
  - [C] å‰ã®ç”»é¢ã«æˆ»ã‚‹
  â†“
ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—å®Ÿè¡Œ
  - é­”åŠ›æ¶ˆè²»
  - ãƒ¬ãƒ™ãƒ«æ›´æ–°
  - ãƒ€ã‚¦ãƒ³çŠ¶æ…‹è¨­å®š
  â†“
ã‚¿ãƒ¼ãƒ³çµ‚äº†
```

**ã‚³ã‚¹ãƒˆè¨ˆç®—å¼ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰**:
```gdscript
var level_costs = {0: 0, 1: 0, 2: 80, 3: 240, 4: 620, 5: 1200}
var cost = level_costs[target_level] - level_costs[current_level]
```

---

### å„ªå…ˆåº¦3: ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ç§»å‹•

- [ ] ç§»å‹•å…ƒé¸æŠï¼ˆå…¨è‡ªé ˜åœ°ã€ãƒ€ã‚¦ãƒ³é™¤å¤–ï¼‰
- [ ] ç§»å‹•å…ˆé¸æŠï¼ˆ1ãƒã‚¹å…ˆï¼‰
- [ ] ç§»å‹•å‡¦ç†å®Ÿè£…
- [ ] ç§»å‹•å…ƒã‚’ç©ºãåœ°åŒ–
- [ ] ç§»å‹•å…ˆã«ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼é…ç½® + ãƒ€ã‚¦ãƒ³
- [ ] ç©ºãåœ°ç§»å‹•: åœŸåœ°ç²å¾— + ã‚¿ãƒ¼ãƒ³çµ‚äº†
- [ ] æ•µåœ°ç§»å‹•: ãƒãƒˆãƒ«ç™ºç”Ÿ

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**:
- `scripts/game_flow/land_command_handler.gd`
  - `execute_move_creature()` - ç¾åœ¨ã¯ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼

---

### å„ªå…ˆåº¦4: ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼äº¤æ›

- [ ] äº¤æ›å¯¾è±¡åœŸåœ°é¸æŠï¼ˆå…¨è‡ªé ˜åœ°ã€ãƒ€ã‚¦ãƒ³é™¤å¤–ï¼‰
- [ ] æ—¢å­˜ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ã‚’æ‰‹æœ­ã«æˆ»ã™
- [ ] æ–°ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼é¸æŠï¼ˆã‚«ãƒ¼ãƒ‰é¸æŠç”»é¢ï¼‰
- [ ] å¬å–šã‚³ã‚¹ãƒˆæ”¯æ‰•ã„
- [ ] æ–°ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼é…ç½®
- [ ] åœŸåœ°ãƒœãƒ¼ãƒŠã‚¹é©ç”¨
- [ ] åœŸåœ°ãƒ¬ãƒ™ãƒ«ç¶™æ‰¿
- [ ] ãƒ€ã‚¦ãƒ³çŠ¶æ…‹è¨­å®š

**å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«**:
- `scripts/game_flow/land_command_handler.gd`
  - `execute_swap_creature()` - ç¾åœ¨ã¯ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼

---

## âš ï¸ æ—¢çŸ¥ã®å•é¡Œ

### ä¿®æ­£ãŒå¿…è¦ãªã‚¨ãƒ©ãƒ¼

#### 1. `board_system.get_tile()`ãŒå­˜åœ¨ã—ãªã„
**ç™ºç”Ÿç®‡æ‰€**: `land_command_handler.gd:113`
```gdscript
var tile = board_system.get_tile(selected_tile_index)
```

**ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**:
```
Invalid call. Nonexistent function 'get_tile' in base 'Node (BoardSystem3D)'.
```

**ä¿®æ­£æ–¹æ³•**:
```gdscript
# ä¿®æ­£å‰
var tile = board_system.get_tile(selected_tile_index)

# ä¿®æ­£å¾Œ
if board_system.tile_nodes.has(selected_tile_index):
	var tile = board_system.tile_nodes[selected_tile_index]
```

---

## ğŸ“ è¨­è¨ˆãƒ¡ãƒ¢

### ãƒ€ã‚¦ãƒ³çŠ¶æ…‹ã®ä»•æ§˜
- **ãƒ€ã‚¦ãƒ³çŠ¶æ…‹ã®åœŸåœ°ã¯é¸æŠã§ããªã„**
- é¸æŠã§ããªã„ = ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ã€ç§»å‹•ã€äº¤æ›ã®å…¨ã¦ãŒã§ããªã„
- `get_player_owned_lands()`ã§ãƒ€ã‚¦ãƒ³çŠ¶æ…‹ã‚’é™¤å¤–
- `select_land()`ã§ã‚‚äºŒé‡ãƒã‚§ãƒƒã‚¯

### ãƒ‡ãƒãƒƒã‚°ã‚³ãƒãƒ³ãƒ‰
- **Uã‚­ãƒ¼**: ç¾åœ¨ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å…¨åœŸåœ°ã®ãƒ€ã‚¦ãƒ³è§£é™¤
- ã‚ãã¾ã§ç¾åœ¨ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã¿ï¼ˆå…¨ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§ã¯ãªã„ï¼‰

### é ˜åœ°ã‚³ãƒãƒ³ãƒ‰ã®åˆ¶ç´„
- **1ã‚¿ãƒ¼ãƒ³ã«1å›ã®ã¿**
- å¬å–šã¨é ˜åœ°ã‚³ãƒãƒ³ãƒ‰ã¯æ’ä»–çš„
- ã©ã¡ã‚‰ã‹å®Ÿè¡Œã—ãŸã‚‰ã‚¿ãƒ¼ãƒ³çµ‚äº†

---

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### ä»Šã™ãå®Ÿè£…ã™ã¹ãã“ã¨
1. **é ˜åœ°ã‚³ãƒãƒ³ãƒ‰ãƒœã‚¿ãƒ³ã®è¡¨ç¤ºã‚¿ã‚¤ãƒŸãƒ³ã‚°ä¿®æ­£**
   - GameFlowManagerã®ä¿®æ­£
   - ç§»å‹•å®Œäº†å¾Œã«è¡¨ç¤º

2. **ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ã®ã‚¨ãƒ©ãƒ¼ä¿®æ­£**
   - `get_tile()`ã‚’`tile_nodes[]`ã«ä¿®æ­£

### ãã®å¾Œã®å®Ÿè£…é †åº
1. ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—UIãƒ»å‡¦ç†ã®å®Œæˆ
2. ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼ç§»å‹•ã®å®Ÿè£…
3. ã‚¯ãƒªãƒ¼ãƒãƒ£ãƒ¼äº¤æ›ã®å®Ÿè£…

---

## ğŸ“‚ é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

### å®Ÿè£…æ¸ˆã¿
- `scripts/game_flow/land_command_handler.gd` - é ˜åœ°ã‚³ãƒãƒ³ãƒ‰ã®ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯
- `scripts/ui_manager.gd` - UIç®¡ç†ã€ãƒœã‚¿ãƒ³ä½œæˆ
- `scripts/debug_controller.gd` - ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½ï¼ˆUã‚­ãƒ¼ï¼‰
- `scripts/game_flow_manager.gd` - ã‚²ãƒ¼ãƒ ãƒ•ãƒ­ãƒ¼ç®¡ç†
- `scripts/tile_action_processor.gd` - ã‚¿ã‚¤ãƒ«ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†
- `scripts/movement_controller.gd` - ç§»å‹•å‡¦ç†

### ä»Šå¾Œä¿®æ­£ãŒå¿…è¦
- `scripts/game_flow_manager.gd` - è¡¨ç¤ºã‚¿ã‚¤ãƒŸãƒ³ã‚°ä¿®æ­£

---

## ğŸ“š å‚è€ƒè³‡æ–™

- [Phase 1-A å®Œå…¨ä»•æ§˜æ›¸](./phase1a_spec.md) - å…ƒã®ä»•æ§˜æ›¸ï¼ˆæä¾›ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
- [ã‚²ãƒ¼ãƒ ãƒ‡ã‚¶ã‚¤ãƒ³](../design.md) - å…¨ä½“è¨­è¨ˆ
- [ã‚¹ã‚­ãƒ«è¨­è¨ˆ](../skills_design.md) - ã‚¹ã‚­ãƒ«ã‚·ã‚¹ãƒ†ãƒ 

---

**ä½œæˆæ—¥**: 2025å¹´1æœˆ  
**ç®¡ç†è€…**: AI Assistant  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: Phase 1-A Day 5 é€²è¡Œä¸­ï¼ˆè¡¨ç¤ºã‚¿ã‚¤ãƒŸãƒ³ã‚°ä¿®æ­£å®Œäº†ï¼‰
